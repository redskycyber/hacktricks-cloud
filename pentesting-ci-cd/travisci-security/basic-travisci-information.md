# Osnovne informacije o TravisCI-u

<details>

<summary><strong>NauÄite hakovanje AWS-a od nule do heroja sa</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Drugi naÄini podrÅ¡ke HackTricks-u:

* Ako Å¾elite da vidite **vaÅ¡u kompaniju reklamiranu na HackTricks-u** ili **preuzmete HackTricks u PDF formatu** proverite [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Nabavite [**zvaniÄni PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Otkrijte [**The PEASS Family**](https://opensea.io/collection/the-peass-family), naÅ¡u kolekciju ekskluzivnih [**NFT-ova**](https://opensea.io/collection/the-peass-family)
* **PridruÅ¾ite se** ğŸ’¬ [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili nas **pratite** na **Twitter-u** ğŸ¦ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Podelite svoje hakovanje trikove slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>

## Pristup

TravisCI se direktno integriÅ¡e sa razliÄitim git platformama kao Å¡to su Github, Bitbucket, Assembla i Gitlab. ZatraÅ¾iÄ‡e od korisnika da dodeli dozvole TravisCI-ju za pristup repozitorijumima sa kojima Å¾eli da se integriÅ¡e.

Na primer, u Github-u Ä‡e zatraÅ¾iti sledeÄ‡e dozvole:

* `user:email` (samo Äitanje)
* `read:org` (samo Äitanje)
* `repo`: Dodeljuje Äitanje i pisanje pristup koda, statusa commit-a, saradnika i statusa implementacije za javne i privatne repozitorijume i organizacije.

## Enkriptovani tajni podaci

### OkruÅ¾ne promenljive

U TravisCI-u, kao i u drugim CI platformama, moguÄ‡e je **saÄuvati tajne podatke na nivou repozitorijuma** koji Ä‡e biti saÄuvani enkriptovani i **dekriptovani i prosleÄ‘eni u okruÅ¾nu promenljivu** maÅ¡ine koja izvrÅ¡ava izgradnju.

![](<../../.gitbook/assets/image (44).png>)

MoguÄ‡e je naznaÄiti **grane na kojima Ä‡e tajni podaci biti dostupni** (podrazumevano sve) i takoÄ‘e da li TravisCI **treba da sakrije njegovu vrednost** ako se pojavi **u logovima** (podrazumevano hoÄ‡e).

### PrilagoÄ‘eni enkriptovani tajni podaci

Za **svaki repozitorijum** TravisCI generiÅ¡e **RSA par kljuÄeva**, **Äuva** privatni kljuÄ i Äini **javni kljuÄ repozitorijuma dostupnim** onima koji imaju **pristup** repozitorijumu.

Javni kljuÄ jednog repozitorijuma moÅ¾ete pristupiti sa:
```
travis pubkey -r <owner>/<repo_name>
travis pubkey -r carlospolop/t-ci-test
```
Zatim, moÅ¾ete koristiti ovu konfiguraciju da **enkriptujete tajne i dodate ih u vaÅ¡ `.travis.yaml`**. Tajne Ä‡e biti **dekriptovane kada se izvrÅ¡i izgradnja** i biÄ‡e dostupne u **okruÅ¾nim promenljivama**.

![](<../../.gitbook/assets/image (2) (2) (1) (1).png>)

Imajte na umu da tajne enkriptovane na ovaj naÄin neÄ‡e biti prikazane u listi okruÅ¾nih promenljivih u podeÅ¡avanjima.

### PrilagoÄ‘ene enkriptovane datoteke

Na isti naÄin kao i prethodno, TravisCI takoÄ‘e omoguÄ‡ava **enkripciju datoteka i njihovo dekriptovanje tokom izgradnje**:
```
travis encrypt-file super_secret.txt -r carlospolop/t-ci-test

encrypting super_secret.txt for carlospolop/t-ci-test
storing result as super_secret.txt.enc
storing secure env variables for decryption

Please add the following to your build script (before_install stage in your .travis.yml, for instance):

openssl aes-256-cbc -K $encrypted_355e94ba1091_key -iv $encrypted_355e94ba1091_iv -in super_secret.txt.enc -out super_secret.txt -d

Pro Tip: You can add it automatically by running with --add.

Make sure to add super_secret.txt.enc to the git repository.
Make sure not to add super_secret.txt to the git repository.
Commit all changes to your .travis.yml.
```
Napomena da Ä‡e prilikom Å¡ifrovanja datoteke biti konfigurisane 2 Env promenljive unutar repozitorijuma kao Å¡to su:

![](<../../.gitbook/assets/image (23).png>)

## TravisCI Enterprise

Travis CI Enterprise je **on-prem verzija Travis CI-ja**, koju moÅ¾ete implementirati **u svoju infrastrukturu**. Zamislite verziju Travis CI-ja za servere. KoriÅ¡Ä‡enje Travis CI-ja omoguÄ‡ava vam da omoguÄ‡ite sistem kontinuirane integracije/kontinuirane isporuke (CI/CD) koji je jednostavan za koriÅ¡Ä‡enje u okruÅ¾enju koje moÅ¾ete konfigurisati i obezbediti prema svojim potrebama.

**Travis CI Enterprise se sastoji od dva glavna dela:**

1. TCI **servisi** (ili TCI Core servisi), odgovorni za integraciju sa sistemima za kontrolu verzija, autorizaciju izgradnji, zakazivanje poslova izgradnje, itd.
2. TCI **Worker** i slike okruÅ¾enja za izgradnju (takoÄ‘e nazvane OS slike).

**TCI Core servisi zahtevaju sledeÄ‡e:**

1. Bazu podataka **PostgreSQL11** (ili noviju verziju).
2. Infrastrukturu za implementaciju Kubernetes klastera; moÅ¾e se implementirati u klasteru servera ili na jednom raÄunaru ako je potrebno.
3. U zavisnosti od vaÅ¡e konfiguracije, moÅ¾da Ä‡ete Å¾eleti da implementirate i konfiguriÅ¡ete neke od komponenti sami, na primer RabbitMQ - pogledajte [Uputstvo za podeÅ¡avanje Travis CI Enterprise](https://docs.travis-ci.com/user/enterprise/tcie-3.x-setting-up-travis-ci-enterprise/) za viÅ¡e detalja.

**TCI Worker zahteva sledeÄ‡e:**

1. Infrastrukturu gde se moÅ¾e implementirati Docker slika koja sadrÅ¾i **Worker i povezanu sliku za izgradnju**.
2. Povezanost sa odreÄ‘enim komponentama Travis CI Core servisa - pogledajte [Uputstvo za podeÅ¡avanje Workera](https://docs.travis-ci.com/user/enterprise/setting-up-worker/) za viÅ¡e detalja.

Broj implementiranih TCI Workera i slika operativnog sistema za izgradnju odreÄ‘uje ukupan istovremeni kapacitet implementacije Travis CI Enterprise u vaÅ¡oj infrastrukturi.

![](<../../.gitbook/assets/image (8) (1) (1) (1) (1) (1).png>)

<details>

<summary><strong>NauÄite hakovanje AWS-a od nule do heroja sa</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Drugi naÄini podrÅ¡ke HackTricks-u:

* Ako Å¾elite da vidite **oglaÅ¡avanje vaÅ¡e kompanije u HackTricks-u** ili **preuzmete HackTricks u PDF formatu**, proverite [**PLANOVE ZA PRETPLATU**](https://github.com/sponsors/carlospolop)!
* Nabavite [**zvaniÄni PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Otkrijte [**The PEASS Family**](https://opensea.io/collection/the-peass-family), naÅ¡u kolekciju ekskluzivnih [**NFT-ova**](https://opensea.io/collection/the-peass-family)
* **PridruÅ¾ite se** ğŸ’¬ [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili nas **pratite** na **Twitter-u** ğŸ¦ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Podelite svoje hakovanje trikova slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>
