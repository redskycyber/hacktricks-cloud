# Jenkins RCE åˆ›å»º/ä¿®æ”¹é¡¹ç›®

<details>

<summary><strong>æ”¯æŒ HackTricks å¹¶è·å¾—ç¦åˆ©ï¼</strong></summary>

* å¦‚æœæ‚¨æƒ³åœ¨ HackTricks ä¸­çœ‹åˆ°æ‚¨çš„å…¬å¸å¹¿å‘Šï¼Œæˆ–è€…å¦‚æœæ‚¨æƒ³è®¿é—® PEASS çš„æœ€æ–°ç‰ˆæœ¬æˆ–ä¸‹è½½ PDF ç‰ˆçš„ HackTricksï¼Œè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)ï¼
* è·å–[**å®˜æ–¹ PEASS å’Œ HackTricks å•†å“**](https://peass.creator-spring.com)
* å‘ç°[**PEASS å®¶æ—**](https://opensea.io/collection/the-peass-family)ï¼Œæˆ‘ä»¬çš„ç‹¬å®¶[**NFT**](https://opensea.io/collection/the-peass-family)æ”¶è—å“
* **åŠ å…¥** ğŸ’¬ [**Discord ç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**Telegram ç¾¤ç»„**](https://t.me/peass) æˆ– **å…³æ³¨**æˆ‘çš„ **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/carlospolopm)**ã€‚**
* **é€šè¿‡å‘** [**HackTricks**](https://github.com/carlospolop/hacktricks) **å’Œ** [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) **github ä»“åº“æäº¤ PR æ¥åˆ†äº«æ‚¨çš„é»‘å®¢æŠ€å·§ã€‚**

</details>

## åˆ›å»ºé¡¹ç›®

è¿™ç§æ–¹æ³•éå¸¸ç¹çï¼Œå› ä¸ºæ‚¨å¿…é¡»åˆ›å»ºä¸€ä¸ªå…¨æ–°çš„é¡¹ç›®ï¼ˆæ˜¾ç„¶ï¼Œåªæœ‰åœ¨å…è®¸ç”¨æˆ·åˆ›å»ºæ–°é¡¹ç›®çš„æƒ…å†µä¸‹æ‰èƒ½æˆåŠŸï¼‰ã€‚

1. ç‚¹å‡»â€œæ–°å»ºé¡¹ç›®â€æˆ–åœ¨ `/view/all/newJob` ä¸­åˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®ï¼ˆè‡ªç”±é£æ ¼é¡¹ç›®ï¼‰ã€‚
2. åœ¨ **æ„å»º** éƒ¨åˆ†ä¸­è®¾ç½® **æ‰§è¡Œ shell**ï¼Œå¹¶ç²˜è´´ä¸€ä¸ª PowerShell Empire å¯åŠ¨å™¨æˆ–ä¸€ä¸ª Meterpreter PowerShellï¼ˆå¯ä»¥ä½¿ç”¨ _unicorn_ è·å–ï¼‰ã€‚ä½¿ç”¨ _PowerShell.exe_ è€Œä¸æ˜¯ _powershell_ æ¥å¯åŠ¨æœ‰æ•ˆè½½è·ã€‚
3. ç‚¹å‡» **ç«‹å³æ„å»º**ã€‚
4. å¦‚æœ **ç«‹å³æ„å»º** æŒ‰é’®æ²¡æœ‰å‡ºç°ï¼Œæ‚¨ä»ç„¶å¯ä»¥è½¬åˆ° **é…ç½®** --> **æ„å»ºè§¦å‘å™¨** --> `å®šæœŸæ„å»º` å¹¶è®¾ç½®ä¸€ä¸ª cron è¡¨è¾¾å¼ä¸º `* * * * *`ã€‚
5. æ‚¨è¿˜å¯ä»¥ä½¿ç”¨é…ç½®ä¸­çš„ "**è¿œç¨‹è§¦å‘æ„å»º**"ï¼Œåªéœ€è®¾ç½®ä¸€ä¸ªè§¦å‘ä½œä¸šçš„ API ä»¤ç‰Œåç§°ã€‚ç„¶åè½¬åˆ°æ‚¨çš„ç”¨æˆ·é…ç½®æ–‡ä»¶å¹¶ **ç”Ÿæˆä¸€ä¸ª API ä»¤ç‰Œ**ï¼ˆå°†æ­¤ API ä»¤ç‰Œä¸è§¦å‘ä½œä¸šçš„ API ä»¤ç‰Œåç§°ç›¸åŒï¼‰ã€‚æœ€åï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è§¦å‘ä½œä¸šï¼š**`curl <username>:<api_token>@<jenkins_url>/job/<job_name>/build?token=<api_token_name>`**

![](<../../.gitbook/assets/image (12) (1).png>)

## ä¿®æ”¹é¡¹ç›®

è½¬åˆ°é¡¹ç›®å¹¶æ£€æŸ¥æ˜¯å¦å¯ä»¥é…ç½®ä»»ä½•ä¸€ä¸ªï¼ˆæŸ¥æ‰¾â€œé…ç½®â€æŒ‰é’®ï¼‰ï¼š

![](<../../.gitbook/assets/image (34).png>)

å¦‚æœæ‚¨**æ— æ³•**çœ‹åˆ°ä»»ä½•**é…ç½®æŒ‰é’®**ï¼Œé‚£ä¹ˆæ‚¨å¯èƒ½**æ— æ³•**è¿›è¡Œé…ç½®ï¼ˆä½†è¯·æ£€æŸ¥æ‰€æœ‰é¡¹ç›®ï¼Œå› ä¸ºæ‚¨å¯èƒ½èƒ½å¤Ÿé…ç½®å…¶ä¸­ä¸€äº›è€Œä¸èƒ½é…ç½®å…¶ä»–é¡¹ç›®ï¼‰ã€‚

æˆ–è€…å°è¯•è®¿é—®æ¯ä¸ªé¡¹ç›®ä¸­çš„è·¯å¾„ `/job/<proj-name>/configure` æˆ– `/me/my-views/view/all/job/<proj-name>/configure`ï¼ˆä¾‹å¦‚ï¼š`/job/Project0/configure` æˆ– `/me/my-views/view/all/job/Project0/configure`ï¼‰ã€‚

## æ‰§è¡Œ

å¦‚æœæ‚¨è¢«å…è®¸é…ç½®é¡¹ç›®ï¼Œæ‚¨å¯ä»¥åœ¨æ„å»ºæˆåŠŸæ—¶**ä½¿å…¶æ‰§è¡Œå‘½ä»¤**ï¼š

![](<../../.gitbook/assets/image (70).png>)

ç‚¹å‡» **ä¿å­˜** å¹¶æ„å»ºé¡¹ç›®ï¼Œæ‚¨çš„ **å‘½ä»¤å°†è¢«æ‰§è¡Œ**ã€‚\
å¦‚æœæ‚¨æ‰§è¡Œçš„ä¸æ˜¯åå‘ shell è€Œæ˜¯ä¸€ä¸ªç®€å•çš„å‘½ä»¤ï¼Œæ‚¨å¯ä»¥åœ¨æ„å»ºçš„è¾“å‡ºä¸­**æŸ¥çœ‹å‘½ä»¤çš„è¾“å‡º**ã€‚

<details>

<summary><strong>æ”¯æŒ HackTricks å¹¶è·å¾—ç¦åˆ©ï¼</strong></summary>

* å¦‚æœæ‚¨æƒ³åœ¨ HackTricks ä¸­çœ‹åˆ°æ‚¨çš„å…¬å¸å¹¿å‘Šï¼Œæˆ–è€…å¦‚æœæ‚¨æƒ³è®¿é—® PEASS çš„æœ€æ–°ç‰ˆæœ¬æˆ–ä¸‹è½½ PDF ç‰ˆçš„ HackTricksï¼Œè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)ï¼
* è·å–[**å®˜æ–¹ PEASS å’Œ HackTricks å•†å“**](https://peass.creator-spring.com)
* å‘ç°[**PEASS å®¶æ—**](https://opensea.io/collection/the-peass-family)ï¼Œæˆ‘ä»¬çš„ç‹¬å®¶[**NFT**](https://opensea.io/collection/the-peass-family)æ”¶è—å“
* **åŠ å…¥** ğŸ’¬ [**Discord ç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**Telegram ç¾¤ç»„**](https://t.me/peass) æˆ– **å…³æ³¨**æˆ‘çš„ **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/carlospolopm)**ã€‚**
* **é€šè¿‡å‘** [**HackTricks**](https://github.com/carlospolop/hacktricks) **å’Œ** [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) **github ä»“åº“æäº¤ PR æ¥åˆ†äº«æ‚¨çš„é»‘å®¢æŠ€å·§ã€‚**

</details>
