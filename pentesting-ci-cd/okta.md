# Okta

<details>

<summary><strong>隆Apoya a HackTricks y obt茅n beneficios!</strong></summary>

* Si quieres ver a tu **empresa anunciada en HackTricks** o si quieres acceder a la **煤ltima versi贸n de PEASS o descargar HackTricks en PDF**, 隆consulta los [**PLANES DE SUSCRIPCIN**](https://github.com/sponsors/carlospolop)!
* Obt茅n el [**merchandising oficial de PEASS y HackTricks**](https://peass.creator-spring.com)
* Descubre [**The PEASS Family**](https://opensea.io/collection/the-peass-family), nuestra colecci贸n exclusiva de [**NFTs**](https://opensea.io/collection/the-peass-family)
* **nete al**  [**grupo de Discord**](https://discord.gg/hRep4RUj7f) o al [**grupo de Telegram**](https://t.me/peass) o **s铆gueme** en **Twitter**  [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **Comparte tus trucos de hacking enviando PRs a los repositorios de** [**HackTricks**](https://github.com/carlospolop/hacktricks) y [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) en GitHub.

</details>

## Informaci贸n b谩sica

Okta, Inc. es una empresa de **gesti贸n de identidad y acceso** que proporciona software en la nube para ayudar a las empresas a **administrar y asegurar la autenticaci贸n de usuarios en aplicaciones modernas**, y para que los desarrolladores puedan construir controles de identidad en aplicaciones, servicios web y dispositivos.

Su servicio principal, llamado Okta Identity Cloud, ofrece productos que incluyen inicio de sesi贸n 煤nico (SSO), autenticaci贸n multifactor (MFA), gesti贸n del ciclo de vida, directorio universal, gesti贸n de acceso a API y m谩s. Esto ayuda a las empresas a proteger sus datos sensibles y tambi茅n a agilizar el acceso de los usuarios, haciendo que las aplicaciones y servicios sean m谩s accesibles y f谩ciles de usar para empleados o clientes.

Los servicios de Okta se utilizan ampliamente en contextos empresariales, as铆 como por empresas m谩s peque帽as y desarrolladores. Juega un papel crucial en permitir que las empresas adopten y gestionen de forma segura las tecnolog铆as en la nube. Hasta mi fecha l铆mite de conocimiento en septiembre de 2021, Okta sigue siendo un actor importante en la industria de la gesti贸n de identidad y acceso (IAM).

{% hint style="danger" %}
El objetivo principal de Okta es configurar el acceso de diferentes usuarios y grupos a aplicaciones externas. Si logras **comprometer privilegios de administrador en un entorno de Okta**, es muy probable que puedas **comprometer todas las dem谩s plataformas que la empresa est茅 utilizando**.
{% endhint %}

{% hint style="success" %}
Para realizar una revisi贸n de seguridad de un entorno de Okta, debes solicitar acceso de solo lectura de **administrador**.
{% endhint %}

## Directorio

### Personas

Desde la perspectiva de un atacante, esto es muy interesante, ya que podr谩s ver **todos los usuarios registrados**, sus direcciones de **correo electr贸nico**, los **grupos** a los que pertenecen, los **perfiles** e incluso los **dispositivos** (m贸viles junto con sus sistemas operativos).

Para una revisi贸n en caja blanca, verifica que no haya varios "Pending user action" y "Password reset".

### Grupos

Aqu铆 es donde se encuentran todos los grupos creados en Okta. Es interesante comprender los diferentes grupos (conjunto de **permisos**) que se pueden otorgar a los **usuarios**.\
Es posible ver las **personas incluidas en los grupos** y las **aplicaciones asignadas** a cada grupo.

Por supuesto, cualquier grupo con el nombre de **admin** es interesante, especialmente el grupo **Global Administrators**, verifica los miembros para saber qui茅nes son los miembros m谩s privilegiados.

Desde una revisi贸n en caja blanca, **no deber铆a haber m谩s de 5 administradores globales** (mejor si hay solo 2 o 3).

### Dispositivos

Aqu铆 encontrar谩s una **lista de todos los dispositivos** de todos los usuarios. Tambi茅n puedes ver si se est谩 **gestionando activamente** o no.

### Editor de perfiles

Aqu铆 es posible observar c贸mo se comparten informaci贸n clave, como nombres, apellidos, correos electr贸nicos, nombres de usuario, entre Okta y otras aplicaciones. Esto es interesante porque si un usuario puede **modificar en Okta un campo** (como su nombre o correo electr贸nico) que luego es utilizado por una **aplicaci贸n externa** para **identificar** al usuario, un empleado interno podr铆a intentar **apoderarse de otras cuentas**.

Adem谩s, en el perfil **`User (default)`** de Okta, puedes ver **qu茅 campos** tiene cada **usuario** y cu谩les son **modificables** por los usuarios. Si no puedes ver el panel de administraci贸n, simplemente ve a **actualizar la informaci贸n de tu perfil** y ver谩s qu茅 campos puedes actualizar (ten en cuenta que para actualizar una direcci贸n de correo electr贸nico deber谩s verificarla).

### Integraciones de directorio

Los directorios te permiten importar personas desde fuentes existentes. Supongo que aqu铆 ver谩s los usuarios importados de otros directorios.

No lo he visto, pero supongo que esto es interesante para descubrir **otros directorios que Okta est谩 utilizando para importar usuarios**, por lo que si **comprometes ese directorio**, podr铆as establecer algunos valores de atributos en los usuarios creados en Okta y **comprometer el entorno de Okta**.

### Fuentes de perfil

Una fuente de perfil es una **aplicaci贸n que act煤a como fuente de verdad** para los atributos del perfil de usuario. Un usuario solo puede tener una fuente de aplicaci贸n o directorio a la vez.

No lo he visto, por lo que se agradece cualquier informaci贸n sobre seguridad y hacking relacionada con esta opci贸n.

<details>

<summary><strong>隆Apoya a HackTricks y obt茅n beneficios!</strong></summary>

* Si quieres ver a tu **empresa anunciada en HackTricks** o si quieres acceder a la **煤ltima versi贸n de PEASS o descargar HackTricks en PDF**, 隆consulta los [**PLANES DE SUSCRIPCIN**](https://github.com/sponsors/carlospolop)!
* Obt茅n el [**merchandising oficial de PEASS y HackTricks**](https://peass.creator-spring.com)
* Descubre [**The PEASS Family**](https://opensea.io/collection/the-peass-family), nuestra colecci贸n exclusiva de [**NFTs**](https://opensea.io/collection/the-peass-family)
* **nete al**  [**grupo de Discord**](https://discord.gg/hRep4RUj7f) o al [**grupo de Telegram**](https://t.me/peass) o **s铆gueme** en **Twitter**  [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **Comparte tus trucos de hacking enviando PRs a los repositorios de** [**HackTricks**](https://github.com/carlospolop/hacktricks) y [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) en GitHub.

</details>
