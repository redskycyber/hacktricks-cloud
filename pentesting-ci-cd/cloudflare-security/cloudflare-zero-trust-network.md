# Rede de Confian√ßa Zero da Cloudflare

<details>

<summary><strong>Apoie o HackTricks e obtenha benef√≠cios!</strong></summary>

* Se voc√™ quiser ver sua **empresa anunciada no HackTricks** ou se quiser acessar a **√∫ltima vers√£o do PEASS ou baixar o HackTricks em PDF**, confira os [**PLANOS DE ASSINATURA**](https://github.com/sponsors/carlospolop)!
* Adquira o [**oficial PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Descubra [**The PEASS Family**](https://opensea.io/collection/the-peass-family), nossa cole√ß√£o exclusiva de [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Junte-se ao** üí¨ [**grupo do Discord**](https://discord.gg/hRep4RUj7f) ou ao [**grupo do telegrama**](https://t.me/peass) ou **siga-me** no **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/carlospolopm).
* **Compartilhe suas t√©cnicas de hacking enviando PRs para os reposit√≥rios do** [**HackTricks**](https://github.com/carlospolop/hacktricks) e [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) no github.

</details>

Em uma conta da **Rede de Confian√ßa Zero da Cloudflare**, existem algumas **configura√ß√µes e servi√ßos** que podem ser configurados. Nesta p√°gina, vamos **analisar as configura√ß√µes relacionadas √† seguran√ßa de cada se√ß√£o:**

<figure><img src="../../.gitbook/assets/image (84).png" alt=""><figcaption></figcaption></figure>

## An√°lise

* [ ] √ötil para **conhecer o ambiente**

## **Gateway**

* [ ] Em **`Pol√≠ticas`**, √© poss√≠vel gerar pol√≠ticas para **restringir** por **DNS**, **rede** ou **solicita√ß√£o HTTP** quem pode acessar aplicativos.
  * Se usado, **pol√≠ticas** podem ser criadas para **restringir** o acesso a sites maliciosos.
  * Isso √© **apenas relevante se um gateway estiver sendo usado**, caso contr√°rio, n√£o h√° motivo para criar pol√≠ticas defensivas.

## Acesso

### Aplicativos

Em cada aplicativo:

* [ ] Verifique **quem** pode acessar o aplicativo nas **Pol√≠ticas** e verifique que **apenas** os **usu√°rios** que **precisam de acesso** ao aplicativo podem acess√°-lo.
  * Para permitir o acesso, ser√£o usados **`Grupos de Acesso`** (e tamb√©m podem ser definidas **regras adicionais**)
* [ ] Verifique os **provedores de identidade dispon√≠veis** e certifique-se de que eles **n√£o sejam muito abertos**
* [ ] Em **`Configura√ß√µes`**:
  * [ ] Verifique se o **CORS n√£o est√° habilitado** (se estiver habilitado, verifique se √© **seguro** e n√£o est√° permitindo tudo)
  * [ ] Os cookies devem ter o atributo **Strict Same-Site**, **HTTP Only** e o **cookie de vincula√ß√£o** devem estar **habilitados** se o aplicativo for HTTP.
  * [ ] Considere tamb√©m habilitar a **renderiza√ß√£o do navegador** para melhor **prote√ß√£o**. Mais informa√ß√µes sobre [**isolamento remoto do navegador aqui**](https://blog.cloudflare.com/cloudflare-and-remote-browser-isolation/)**.**

### **Grupos de Acesso**

* [ ] Verifique se os grupos de acesso gerados est√£o **corretamente restritos** aos usu√°rios que devem permitir.
* [ ] √â especialmente importante verificar que o **grupo de acesso padr√£o n√£o √© muito aberto** (n√£o est√° **permitindo muitas pessoas**) pois, por **padr√£o**, qualquer pessoa nesse **grupo** poder√° **acessar aplicativos**.
  * Observe que √© poss√≠vel dar **acesso** a **TODOS** e outras **pol√≠ticas muito abertas** que n√£o s√£o recomendadas, a menos que sejam 100% necess√°rias.

### Autentica√ß√£o de Servi√ßo

* [ ] Verifique se todos os tokens de servi√ßo **expiram em 1 ano ou menos**

### T√∫neis

TODO

## Meu Time

TODO

## Logs

* [ ] Voc√™ pode procurar por **a√ß√µes inesperadas** de usu√°rios

## Configura√ß√µes

* [ ] Verifique o **tipo de plano**
* [ ] √â poss√≠vel ver o **nome do propriet√°rio do cart√£o de cr√©dito**, os **√∫ltimos 4 d√≠gitos**, a data de **validade** e o **endere√ßo**
* [ ] √â recomend√°vel **adicionar uma expira√ß√£o do assento do usu√°rio** para remover usu√°rios que n√£o usam realmente este servi√ßo

<details>

<summary><strong>Apoie o HackTricks e obtenha benef√≠cios!</strong></summary>

* Se voc√™ quiser ver sua **empresa anunciada no HackTricks** ou se quiser acessar a **√∫ltima vers√£o do PEASS ou baixar o HackTricks em PDF**, confira os [**PLANOS DE ASSINATURA**](https://github.com/sponsors/carlospolop)!
* Adquira o [**oficial PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Descubra [**The PEASS Family**](https://opensea.io/collection/the-peass-family), nossa cole√ß√£o exclusiva de [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Junte-se ao** üí¨ [**grupo do Discord**](https://discord.gg/hRep4RUj7f) ou ao [**grupo do telegrama**](https://t.me/peass) ou **siga-me** no **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/carlospolopm).
* **Compartilhe suas t√©cnicas de hacking enviando PRs para os reposit√≥rios do** [**HackTricks**](https://github.com/carlospolop/hacktricks) e [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) no github.

</details>