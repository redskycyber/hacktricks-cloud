# Cloudflare λ³΄μ•

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong>λ¥Ό ν†µν•΄ **μ λ΅λ¶€ν„° νμ–΄λ΅κΉμ§€ AWS ν•΄ν‚Ή λ°°μ°κΈ°**!</summary>

HackTricksλ¥Ό μ§€μ›ν•λ” λ‹¤λ¥Έ λ°©λ²•:

* **νμ‚¬λ¥Ό HackTricksμ—μ„ κ΄‘κ³ **ν•κ±°λ‚ **PDFλ΅ HackTricks λ‹¤μ΄λ΅λ“**ν•λ ¤λ©΄ [**κµ¬λ… μ”κΈμ **](https://github.com/sponsors/carlospolop)λ¥Ό ν™•μΈν•μ„Έμ”!
* [**κ³µμ‹ PEASS & HackTricks μ¤μ™κ·Έ**](https://peass.creator-spring.com)λ¥Ό κµ¬μ…ν•μ„Έμ”
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)λ¥Ό λ°κ²¬ν•μ„Έμ”, λ‹Ήμ‚¬μ λ…μ  [**NFTs**](https://opensea.io/collection/the-peass-family) μ»¬λ ‰μ…
* **Discord κ·Έλ£Ή**μ— κ°€μ…ν•κ±°λ‚ [**ν…”λ κ·Έλ¨ κ·Έλ£Ή**](https://t.me/peass)μ— κ°€μ…ν•κ±°λ‚ **νΈμ„ν„°** π¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)λ¥Ό **ν”λ΅μ°**ν•μ„Έμ”.
* **HackTricks** λ° **HackTricks Cloud** github μ €μ¥μ†λ΅ PRμ„ μ μ¶ν•μ—¬ **ν•΄ν‚Ή νΈλ¦­**μ„ κ³µμ ν•μ„Έμ”.

</details>

ν΄λΌμ°λ“ν”λ μ–΄ κ³„μ •μ—λ” κµ¬μ„±ν•  μ μλ” λ‡ κ°€μ§€ **μΌλ° μ„¤μ • λ° μ„λΉ„μ¤**κ°€ μμµλ‹λ‹¤. μ΄ νμ΄μ§€μ—μ„λ” κ° μ„Ήμ…μ **λ³΄μ• κ΄€λ ¨ μ„¤μ •μ„ λ¶„μ„**ν•  κ²ƒμ…λ‹λ‹¤:

<figure><img src="../../.gitbook/assets/image (117).png" alt=""><figcaption></figcaption></figure>

## μ›Ήμ‚¬μ΄νΈ

κ°κ°μ„ λ‹¤μκ³Ό ν•¨κ» κ²€ν† ν•μ‹­μ‹μ¤:

{% content-ref url="cloudflare-domains.md" %}
[cloudflare-domains.md](cloudflare-domains.md)
{% endcontent-ref %}

### λ„λ©”μΈ λ“±λ΅

* [ ] **`λ„λ©”μΈ μ΄μ „`**μ—μ„ μ–΄λ–¤ λ„λ©”μΈλ„ μ΄μ „ν•  μ μ—†λ”μ§€ ν™•μΈν•μ„Έμ”.

κ°κ°μ„ λ‹¤μκ³Ό ν•¨κ» κ²€ν† ν•μ‹­μ‹μ¤:

{% content-ref url="cloudflare-domains.md" %}
[cloudflare-domains.md](cloudflare-domains.md)
{% endcontent-ref %}

## λ¶„μ„

_κµ¬μ„± λ³΄μ• κ²€ν† λ¥Ό μ„ν•΄ ν™•μΈν•  ν•­λ©μ„ μ°Ύμ§€ λ»ν–μµλ‹λ‹¤._

## νμ΄μ§€

κ° ν΄λΌμ°λ“ν”λ μ–΄ νμ΄μ§€μ—μ„:

* [ ] **`λΉλ“ λ΅κ·Έ`**μ—μ„ **λ―Όκ°ν• μ •λ³΄**λ¥Ό ν™•μΈν•μ„Έμ”.
* [ ] νμ΄μ§€μ— ν• λ‹Ήλ **Github μ €μ¥μ†**μ—μ„ **λ―Όκ°ν• μ •λ³΄**λ¥Ό ν™•μΈν•μ„Έμ”.
* [ ] **μ›ν¬ν”λ΅μ° λ…λ Ή μ‚½μ…** λλ” `pull_request_target` μΉ¨ν•΄λ¥Ό ν†µν• **μ μ¬μ μΈ github μ €μ¥μ† μΉ¨ν•΄**λ¥Ό ν™•μΈν•μ„Έμ”. μμ„Έν• λ‚΄μ©μ€ [**Github λ³΄μ• νμ΄μ§€**](../github-security/)μ—μ„ ν™•μΈν•μ„Έμ”.
* [ ] `/fuctions` λ””λ ‰ν† λ¦¬(μλ” κ²½μ°)μ **μ·¨μ•½ν• κΈ°λ¥**, `_redirects` νμΌ(μλ” κ²½μ°)μ **λ¦¬λ‹¤μ΄λ ‰νΈ** λ° `_headers` νμΌ(μλ” κ²½μ°)μ **κµ¬μ„±λμ§€ μ•μ€ ν—¤λ”**λ¥Ό ν™•μΈν•μ„Έμ”.
* [ ] **μ›Ή νμ΄μ§€**μ **μ·¨μ•½μ **μ„ **λΈ”λ™λ°•μ¤** λλ” **ν™”μ΄νΈλ°•μ¤**λ¥Ό ν†µν•΄ ν™•μΈν•μ„Έμ”(μ½”λ“μ— **μ•΅μ„Έμ¤ν•  μ μλ” κ²½μ°**)
* [ ] κ° νμ΄μ§€μ μ„Έλ¶€ μ •λ³΄ `/<page_id>/pages/view/blocklist/settings/functions`. **`ν™κ²½ λ³€μ`**μ—μ„ **λ―Όκ°ν• μ •λ³΄**λ¥Ό ν™•μΈν•μ„Έμ”.
* [ ] μ„Έλ¶€ νμ΄μ§€μ—μ„ **λΉλ“ λ…λ Ή** λ° **λ£¨νΈ λ””λ ‰ν† λ¦¬**λ¥Ό ν™•μΈν•μ—¬ νμ΄μ§€λ¥Ό μΉ¨ν•΄ν•  **μ μ¬μ μΈ μ‚½μ…**μ„ ν™•μΈν•μ„Έμ”.

## **μ›μ»¤**

κ° ν΄λΌμ°λ“ν”λ μ–΄ μ›μ»¤μ—μ„ ν™•μΈν•μ„Έμ”:

* [ ] **νΈλ¦¬κ±°**: μ›μ»¤λ¥Ό νΈλ¦¬κ±°ν•λ” κ²ƒμ€ λ¬΄μ—‡μΈκ°€μ”? **μ‚¬μ©μκ°€ λ³΄λ‚Ό λ°μ΄ν„°**κ°€ μ›μ»¤μ—μ„ **μ‚¬μ©**λ  μ μλ‚μ”?
* [ ] **`μ„¤μ •`**μ—μ„ **λ―Όκ°ν• μ •λ³΄**λ¥Ό ν¬ν•¨ν•λ” **`λ³€μ`**λ¥Ό ν™•μΈν•μ„Έμ”.
* [ ] μ›μ»¤μ **μ½”λ“**λ¥Ό ν™•μΈν•κ³  **μ·¨μ•½μ **μ„ κ²€μƒ‰ν•μ„Έμ”(νΉν μ‚¬μ©μκ°€ μ…λ ¥μ„ κ΄€λ¦¬ν•  μ μλ” κ³³μ—μ„)
* μ μ–΄ν•  μ μλ” μ§€μ‹λ νμ΄μ§€λ¥Ό λ°ν™ν•λ” **SSRFs**λ¥Ό ν™•μΈν•μ„Έμ”
* **SVG μ΄λ―Έμ§€ λ‚΄μ—μ„ JSλ¥Ό μ‹¤ν–‰ν•λ”** **XSSs**λ¥Ό ν™•μΈν•μ„Έμ”

{% hint style="warning" %}
κΈ°λ³Έμ μΌλ΅ **μ›μ»¤λ”** `<worker-name>.<account>.workers.dev`μ™€ κ°™μ€ **URLμ΄ λ¶€μ—¬**λ©λ‹λ‹¤. μ‚¬μ©μλ” **μ„λΈλ„λ©”μΈ**μΌλ΅ μ„¤μ •ν•  μ μμ§€λ§ μ•κ³  μλ‹¤λ©΄ ν•­μƒ ν•΄λ‹Ή **μ›λ URL**λ΅ μ•΅μ„Έμ¤ν•  μ μμµλ‹λ‹¤.
{% endhint %}

## R2

ν•  μΌ

## μ¤νΈλ¦Ό

ν•  μΌ

## μ΄λ―Έμ§€

ν•  μΌ

## λ³΄μ• μ„Όν„°

* [ ] κ°€λ¥ν• κ²½μ° **`λ³΄μ• μΈμ‚¬μ΄νΈ`** **μ¤μΊ”** λ° **`μΈν”„λΌ`** **μ¤μΊ”**μ„ μ‹¤ν–‰ν•μ—¬ **λ³΄μ• κ΄€λ ¨** ν¥λ―Έλ΅μ΄ μ •λ³΄λ¥Ό **κ°•μ΅°**ν•©λ‹λ‹¤.
* [ ] λ³΄μ• κµ¬μ„± μ¤λ¥ λ° ν¥λ―Έλ΅μ΄ μ •λ³΄λ¥Ό ν™•μΈν•μ„Έμ”

## Turnstile

ν•  μΌ

## **μ λ΅ νΈλ¬μ¤νΈ**

{% content-ref url="cloudflare-zero-trust-network.md" %}
[cloudflare-zero-trust-network.md](cloudflare-zero-trust-network.md)
{% endcontent-ref %}

## λ€λ‰ λ¦¬λ””λ ‰μ…

{% hint style="info" %}
[λ™μ  λ¦¬λ””λ ‰μ…](https://developers.cloudflare.com/rules/url-forwarding/dynamic-redirects/)κ³Ό λ‹¬λ¦¬ [**λ€λ‰ λ¦¬λ””λ ‰μ…**](https://developers.cloudflare.com/rules/url-forwarding/bulk-redirects/)μ€ λ³Έμ§μ μΌλ΅ μ •μ μ…λ‹λ‹¤ β€” **λ¬Έμμ—΄ λ€μ²΄** μ‘μ—…μ΄λ‚ μ •κ· ν‘ν„μ‹μ„ **μ§€μ›ν•μ§€ μ•μµλ‹λ‹¤**. κ·Έλ¬λ‚ URL μΌμΉ λ™μ‘ λ° λ°νƒ€μ„ λ™μ‘μ— μν–¥μ„ μ£Όλ” URL λ¦¬λ””λ ‰μ… λ§¤κ°λ³€μλ¥Ό κµ¬μ„±ν•  μ μμµλ‹λ‹¤.
{% endhint %}

* [ ] λ¦¬λ””λ ‰μ…μ„ μ„ν• **ν‘ν„μ‹** λ° **μ”κµ¬ μ‚¬ν•­**μ΄ **μ ν¨ν•μ§€** ν™•μΈν•μ„Έμ”.
* [ ] ν¥λ―Έλ΅μ΄ μ •λ³΄λ¥Ό ν¬ν•¨ν•λ” **λ―Όκ°ν• μ¨κ²¨μ§„ μ—”λ“ν¬μΈνΈ**λ¥Ό ν™•μΈν•μ„Έμ”.

## μ•λ¦Ό

* [ ] **μ•λ¦Ό**μ„ ν™•μΈν•μ„Έμ”. μ΄λ¬ν• μ•λ¦Όμ€ λ³΄μ•μ„ μ„ν•΄ κ¶μ¥λ©λ‹λ‹¤:
* `μ‚¬μ©λ‰ κΈ°λ° μ”κΈ μ²­κµ¬`
* `HTTP DDoS κ³µκ²© κ²½κ³ `
* `λ μ΄μ–΄ 3/4 DDoS κ³µκ²© κ²½κ³ `
* `κ³ κΈ‰ HTTP DDoS κ³µκ²© κ²½κ³ `
* `κ³ κΈ‰ λ μ΄μ–΄ 3/4 DDoS κ³µκ²© κ²½κ³ `
* `νλ¦„ κΈ°λ° λ¨λ‹ν„°λ§: λ¶€ν”Ό κ³µκ²©`
* `κ²½λ΅ λ„μ¶ κ°μ§€ κ²½κ³ `
* `μ•΅μ„Έμ¤ mTLS μΈμ¦μ„ λ§λ£ κ²½κ³ `
* `SaaS μ‚¬μ©μ μ •μ νΈμ¤νΈ μ΄λ¦„μ„ μ„ν• SSL κ²½κ³ `
* `Universal SSL κ²½κ³ `
* `μ¤ν¬λ¦½νΈ λ¨λ‹ν„° μƒ μ½”λ“ λ³€κ²½ κ°μ§€ κ²½κ³ `
* `μ¤ν¬λ¦½νΈ λ¨λ‹ν„° μƒ λ„λ©”μΈ κ²½κ³ `
* `μ¤ν¬λ¦½νΈ λ¨λ‹ν„° μƒ μ•…μμ  λ„λ©”μΈ κ²½κ³ `
* `μ¤ν¬λ¦½νΈ λ¨λ‹ν„° μƒ μ•…μμ  μ¤ν¬λ¦½νΈ κ²½κ³ `
* `μ¤ν¬λ¦½νΈ λ¨λ‹ν„° μƒ μ•…μμ  URL κ²½κ³ `
* `μ¤ν¬λ¦½νΈ λ¨λ‹ν„° μƒ μ¤ν¬λ¦½νΈ κ²½κ³ `
* `μ¤ν¬λ¦½νΈ λ¨λ‹ν„° μƒ μ¤ν¬λ¦½νΈκ°€ μµλ€ URL κΈΈμ΄λ¥Ό μ΄κ³Όν•λ” κ²½κ³ `
* `κ³ κΈ‰ λ³΄μ• μ΄λ²¤νΈ κ²½κ³ `
* `λ³΄μ• μ΄λ²¤νΈ κ²½κ³ `
* [ ] λ¨λ“  **λ€μƒ**μ„ ν™•μΈν•μ„Έμ”. μ›Ήν›… URLμ— **λ―Όκ°ν• μ •λ³΄**(κΈ°λ³Έ http μΈμ¦)κ°€ ν¬ν•¨λ  μ μμµλ‹λ‹¤. λν• μ›Ήν›… URLμ΄ **HTTPS**λ¥Ό μ‚¬μ©ν•λ”μ§€ ν™•μΈν•μ„Έμ”.
* [ ] μ¶”κ°€λ΅, **ν΄λΌμ°λ“ν”λ μ–΄ μ•λ¦Όμ„ ν‰λ‚΄λ‚΄μ–΄** μ 3μμ—κ² μ „μ†΅ν•΄λ³Ό μ μμµλ‹λ‹¤. μ–΄λ–»κ²λ“  **μ„ν—ν• κ²ƒμ„ μ‚½μ…**ν•  μ μμ„μ§€λ„ λ¨λ¦…λ‹λ‹¤.

## κ³„μ • κ΄€λ¦¬

* [ ] **`κ²°μ  μ •λ³΄`**μ—μ„ **μ‹ μ© μΉ΄λ“μ λ§μ§€λ§‰ 4μλ¦¬**, **λ§λ£ μ‹κ°„** λ° **μ²­κµ¬ μ£Όμ†**λ¥Ό λ³Ό μ μμµλ‹λ‹¤.
* [ ] **`κ²°μ ` -> `κµ¬λ…`**μ—μ„ κ³„μ •μ— μ‚¬μ©λ **μ”κΈμ  μ ν•**μ„ ν™•μΈν•  μ μμµλ‹λ‹¤.
* [ ] **`λ©¤λ²„`**μ—μ„ κ³„μ •μ λ¨λ“  λ©¤λ²„μ™€ κ·Έλ“¤μ **μ—­ν• **μ„ ν™•μΈν•  μ μμµλ‹λ‹¤. μ”κΈμ  μ ν•μ΄ Enterpriseκ°€ μ•„λ‹ κ²½μ°, κ΄€λ¦¬μ λ° μνΌ κ΄€λ¦¬μ λ‘ κ°€μ§€ μ—­ν• λ§ μ΅΄μ¬ν•©λ‹λ‹¤. κ·Έλ¬λ‚ μ‚¬μ©λ **μ”κΈμ κ°€ EnterpriseμΈ κ²½μ°**, [**λ” λ§μ€ μ—­ν• **](https://developers.cloudflare.com/fundamentals/account-and-billing/account-setup/account-roles/)μ„ μ‚¬μ©ν•μ—¬ μµμ† κ¶ν• μ›μΉ™μ„ μ¤€μν•  μ μμµλ‹λ‹¤.
* λ”°λΌμ„ κ°€λ¥ν• κ²½μ° **Enterprise μ”κΈμ **λ¥Ό μ‚¬μ©ν•λ” κ²ƒμ΄ **κ¶μ¥**λ©λ‹λ‹¤.
* [ ] λ©¤λ²„μ—μ„ **2λ‹¨κ³„ μΈμ¦(2FA)μ΄ ν™μ„±ν™”**λ **λ©¤λ²„**λ¥Ό ν™•μΈν•  μ μμµλ‹λ‹¤. **λ¨λ“ ** μ‚¬μ©μκ°€ ν™μ„±ν™”ν•΄μ•Ό ν•©λ‹λ‹¤.

{% hint style="info" %}
κ΄€λ¦¬μ μ—­ν• μ€ **λ©¤λ²„μ‹­ κ΄€λ¦¬ κ¶ν•μ„ λ¶€μ—¬ν•μ§€ μ•μµλ‹λ‹¤(κ¶ν• μƒμΉ λλ” μƒ λ©¤λ²„ μ΄λ€ λ¶κ°€)**
{% endhint %}
## DDoS μ΅°μ‚¬

[μ΄ λ¶€λ¶„μ„ ν™•μΈν•μ‹­μ‹μ¤](cloudflare-domains.md#cloudflare-ddos-protection).

<details>

<summary><strong>μ λ΅λ¶€ν„° μμ›…μ΄ λ  λ•κΉμ§€ AWS ν•΄ν‚Ήμ„ λ°°μ°μ„Έμ”</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

HackTricksλ¥Ό μ§€μ›ν•λ” λ‹¤λ¥Έ λ°©λ²•:

* **νμ‚¬κ°€ HackTricksμ— κ΄‘κ³ λκΈΈ μ›ν•κ±°λ‚** **PDF ν•μ‹μ HackTricksλ¥Ό λ‹¤μ΄λ΅λ“ν•κ³  μ‹¶λ‹¤λ©΄** [**κµ¬λ… μ”κΈμ **](https://github.com/sponsors/carlospolop)λ¥Ό ν™•μΈν•μ„Έμ”!
* [**κ³µμ‹ PEASS & HackTricks κµΏμ¦**](https://peass.creator-spring.com)λ¥Ό κµ¬λ§¤ν•μ„Έμ”
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)λ¥Ό λ°κ²¬ν•μ„Έμ”, λ‹Ήμ‚¬μ λ…μ  [**NFTs**](https://opensea.io/collection/the-peass-family) μ»¬λ ‰μ…
* **π’¬ [**Discord κ·Έλ£Ή**](https://discord.gg/hRep4RUj7f)μ΄λ‚ [**ν…”λ κ·Έλ¨ κ·Έλ£Ή**](https://t.me/peass)μ— **κ°€μ…**ν•κ±°λ‚ **νΈμ„ν„°** π¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**λ¥Ό ν”λ΅μ°**ν•μ„Έμ”.
* **HackTricks** λ° **HackTricks Cloud** github μ €μ¥μ†μ— PRμ„ μ μ¶ν•μ—¬ **ν•΄ν‚Ή νΈλ¦­μ„ κ³µμ **ν•μ„Έμ”.

</details>
