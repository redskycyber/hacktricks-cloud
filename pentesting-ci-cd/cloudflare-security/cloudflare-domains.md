# Cloudflare åŸŸå

<details>

<summary><strong>ä»é›¶å¼€å§‹å­¦ä¹  AWS é»‘å®¢æ”»å‡»ç›´åˆ°æˆä¸ºè‹±é›„</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS çº¢é˜Ÿä¸“å®¶)</strong></a><strong>ï¼</strong></summary>

æ”¯æŒ HackTricks çš„å…¶ä»–æ–¹å¼ï¼š

* å¦‚æœæ‚¨æƒ³åœ¨ **HackTricks ä¸­çœ‹åˆ°æ‚¨çš„å…¬å¸å¹¿å‘Š** æˆ– **ä¸‹è½½ HackTricks çš„ PDF ç‰ˆæœ¬**ï¼Œè¯·æŸ¥çœ‹ [**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)ï¼
* è·å– [**å®˜æ–¹ PEASS & HackTricks å•†å“**](https://peass.creator-spring.com)
* å‘ç° [**PEASS å®¶æ—**](https://opensea.io/collection/the-peass-family)ï¼Œæˆ‘ä»¬ç‹¬å®¶çš„ [**NFT é›†åˆ**](https://opensea.io/collection/the-peass-family)
* **åŠ å…¥** ğŸ’¬ [**Discord ç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**telegram ç¾¤ç»„**](https://t.me/peass) æˆ–åœ¨ **Twitter** ğŸ¦ ä¸Š **å…³æ³¨** æˆ‘ [**@carlospolopm**](https://twitter.com/carlospolopm)**ã€‚**
* **é€šè¿‡å‘** [**HackTricks**](https://github.com/carlospolop/hacktricks) å’Œ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github ä»“åº“æäº¤ PR æ¥åˆ†äº«æ‚¨çš„é»‘å®¢æŠ€å·§ã€‚

</details>

åœ¨ Cloudflare ä¸­é…ç½®çš„æ¯ä¸ªé¡¶çº§åŸŸåï¼ˆTLDï¼‰éƒ½æœ‰ä¸€äº›**é€šç”¨è®¾ç½®å’ŒæœåŠ¡**å¯ä»¥é…ç½®ã€‚åœ¨è¿™ä¸ªé¡µé¢ï¼Œæˆ‘ä»¬å°†**åˆ†ææ¯ä¸ªéƒ¨åˆ†çš„ä¸å®‰å…¨ç›¸å…³çš„è®¾ç½®ï¼š**

<figure><img src="../../.gitbook/assets/image (2) (4).png" alt=""><figcaption></figcaption></figure>

## æ¦‚è§ˆ

* [ ] äº†è§£è´¦æˆ·æœåŠ¡çš„**ä½¿ç”¨ç¨‹åº¦**
* [ ] æ‰¾åˆ°**åŒºåŸŸ ID** å’Œ **è´¦æˆ· ID**

## åˆ†æ

* [ ] åœ¨ **`Security`** ä¸­æ£€æŸ¥æ˜¯å¦æœ‰ä»»ä½•**é€Ÿç‡é™åˆ¶**

## DNS

* [ ] æ£€æŸ¥ DNS **è®°å½•**ä¸­çš„**æœ‰è¶£**ï¼ˆæ•æ„Ÿï¼Ÿï¼‰æ•°æ®
* [ ] æ£€æŸ¥å¯èƒ½åŒ…å«**æ•æ„Ÿä¿¡æ¯**çš„**å­åŸŸå**ï¼Œä»…åŸºäº**åç§°**ï¼ˆå¦‚ admin173865324.domin.comï¼‰
* [ ] æ£€æŸ¥**æœªè¢«ä»£ç†**çš„ç½‘é¡µ
* [ ] æ£€æŸ¥å¯ä»¥é€šè¿‡ CNAME æˆ– IP åœ°å€**ç›´æ¥è®¿é—®**çš„**ä»£ç†ç½‘é¡µ**
* [ ] æ£€æŸ¥**DNSSEC**æ˜¯å¦**å¯ç”¨**
* [ ] æ£€æŸ¥æ˜¯å¦åœ¨**æ‰€æœ‰ CNAME**ä¸­ä½¿ç”¨äº†**CNAME å±•å¹³**
* è¿™å¯èƒ½æœ‰åŠ©äº**éšè—å­åŸŸæ¥ç®¡æ¼æ´**å¹¶æé«˜åŠ è½½æ—¶é—´
* [ ] æ£€æŸ¥åŸŸå[**æ˜¯å¦å®¹æ˜“å—åˆ°æ¬ºéª—**](https://book.hacktricks.xyz/network-services-pentesting/pentesting-smtp#mail-spoofing)

## **ç”µå­é‚®ä»¶**

å¾…åŠäº‹é¡¹

## Spectrum

å¾…åŠäº‹é¡¹

## SSL/TLS

### **æ¦‚è§ˆ**

* [ ] **SSL/TLS åŠ å¯†**åº”ä¸º**å®Œå…¨**æˆ–**å®Œå…¨ï¼ˆä¸¥æ ¼ï¼‰**ã€‚å…¶ä»–ä»»ä½•è®¾ç½®éƒ½ä¼šåœ¨æŸäº›æ—¶å€™å‘é€**æ˜æ–‡æµé‡**ã€‚
* [ ] åº”å¯ç”¨ **SSL/TLS æ¨èå™¨**

### è¾¹ç¼˜è¯ä¹¦

* [ ] åº”**å§‹ç»ˆä½¿ç”¨ HTTPS**
* [ ] åº”å¯ç”¨ **HTTP ä¸¥æ ¼ä¼ è¾“å®‰å…¨ï¼ˆHSTSï¼‰**
* [ ] **æœ€ä½ TLS ç‰ˆæœ¬åº”ä¸º 1.2**
* [ ] åº”å¯ç”¨ **TLS 1.3**
* [ ] åº”å¯ç”¨ **è‡ªåŠ¨ HTTPS é‡å†™**
* [ ] åº”å¯ç”¨ **è¯ä¹¦é€æ˜åº¦ç›‘æ§**

## **å®‰å…¨**

* [ ] åœ¨ **`WAF`** éƒ¨åˆ†ï¼Œæ£€æŸ¥æ˜¯å¦ä½¿ç”¨äº†**é˜²ç«å¢™**å’Œ**é€Ÿç‡é™åˆ¶è§„åˆ™**ä»¥é˜²æ­¢æ»¥ç”¨ã€‚
* **`Bypass`** åŠ¨ä½œå°†ä¸ºè¯·æ±‚**ç¦ç”¨ Cloudflare å®‰å…¨**åŠŸèƒ½ã€‚ä¸åº”ä½¿ç”¨å®ƒã€‚
* [ ] åœ¨ **`Page Shield`** éƒ¨åˆ†ï¼Œå»ºè®®æ£€æŸ¥æ˜¯å¦**å¯ç”¨**äº†å®ƒï¼Œå¦‚æœæœ‰é¡µé¢åœ¨ä½¿ç”¨
* [ ] åœ¨ **`API Shield`** éƒ¨åˆ†ï¼Œå»ºè®®æ£€æŸ¥æ˜¯å¦**å¯ç”¨**äº†å®ƒï¼Œå¦‚æœæœ‰ API åœ¨ Cloudflare ä¸­æš´éœ²
* [ ] åœ¨ **`DDoS`** éƒ¨åˆ†ï¼Œå»ºè®®å¯ç”¨**DDoS ä¿æŠ¤**
* [ ] åœ¨ **`Settings`** éƒ¨åˆ†ï¼š
* [ ] æ£€æŸ¥**`Security Level`** æ˜¯å¦ä¸º**ä¸­ç­‰**æˆ–æ›´é«˜
* [ ] æ£€æŸ¥**`Challenge Passage`** æœ€é•¿ä¸º 1 å°æ—¶
* [ ] æ£€æŸ¥**`Browser Integrity Check`** æ˜¯å¦**å¯ç”¨**
* [ ] æ£€æŸ¥**`Privacy Pass Support`** æ˜¯å¦**å¯ç”¨**

### **CloudFlare DDoS ä¿æŠ¤**

* å¦‚æœå¯ä»¥ï¼Œè¯·å¯ç”¨**Bot Fight Mode** æˆ– **Super Bot Fight Mode**ã€‚å¦‚æœæ‚¨ä¿æŠ¤çš„æ˜¯æŸäº›ä»¥ç¼–ç¨‹æ–¹å¼è®¿é—®çš„ APIï¼ˆä¾‹å¦‚æ¥è‡ª JS å‰ç«¯é¡µé¢ï¼‰ã€‚æ‚¨å¯èƒ½æ— æ³•å¯ç”¨æ­¤åŠŸèƒ½ï¼Œè€Œä¸ä¼šç ´åè¯¥è®¿é—®ã€‚
* åœ¨ **WAF** ä¸­ï¼šæ‚¨å¯ä»¥åˆ›å»º**æŒ‰ URL è·¯å¾„çš„é€Ÿç‡é™åˆ¶**æˆ–å¯¹**å·²éªŒè¯çš„æœºå™¨äºº**ï¼ˆé€Ÿç‡é™åˆ¶è§„åˆ™ï¼‰ï¼Œæˆ–è€…åŸºäº IPã€Cookieã€å¼•ç”¨æ¥æºç­‰**é˜»æ­¢è®¿é—®**ã€‚å› æ­¤ï¼Œæ‚¨å¯ä»¥é˜»æ­¢ä¸æ¥è‡ªç½‘é¡µæˆ–æ²¡æœ‰ Cookie çš„è¯·æ±‚ã€‚
* å¦‚æœæ”»å‡»æ¥è‡ª**å·²éªŒè¯çš„æœºå™¨äºº**ï¼Œè‡³å°‘è¦**å¯¹æœºå™¨äººæ·»åŠ é€Ÿç‡é™åˆ¶**ã€‚
* å¦‚æœæ”»å‡»é’ˆå¯¹**ç‰¹å®šè·¯å¾„**ï¼Œä½œä¸ºé¢„é˜²æœºåˆ¶ï¼Œåœ¨æ­¤è·¯å¾„ä¸­æ·»åŠ **é€Ÿç‡é™åˆ¶**ã€‚
* æ‚¨è¿˜å¯ä»¥ä» WAF ä¸­çš„**å·¥å…·**ä¸­**ç™½åå•** IP åœ°å€ã€IP èŒƒå›´ã€å›½å®¶æˆ– ASNã€‚
* æ£€æŸ¥**æ‰˜ç®¡è§„åˆ™**æ˜¯å¦ä¹Ÿæœ‰åŠ©äºé˜²æ­¢æ¼æ´åˆ©ç”¨ã€‚
* åœ¨**å·¥å…·**éƒ¨åˆ†ï¼Œæ‚¨å¯ä»¥**é˜»æ­¢æˆ–å¯¹ç‰¹å®š IP å’Œç”¨æˆ·ä»£ç†å‘å‡ºæŒ‘æˆ˜**ã€‚
* åœ¨ DDoS ä¸­ï¼Œæ‚¨å¯ä»¥**è¦†ç›–æŸäº›è§„åˆ™ä½¿å…¶æ›´åŠ ä¸¥æ ¼**ã€‚
* **è®¾ç½®**ï¼šå°†**å®‰å…¨çº§åˆ«**è®¾ç½®ä¸º**é«˜**ï¼Œå¦‚æœæ‚¨æ­£åœ¨å—åˆ°æ”»å‡»ï¼Œåˆ™è®¾ç½®ä¸º**å—åˆ°æ”»å‡»**ï¼Œå¹¶ç¡®ä¿**æµè§ˆå™¨å®Œæ•´æ€§æ£€æŸ¥å·²å¯ç”¨**ã€‚
* åœ¨ Cloudflare åŸŸå -> åˆ†æ -> å®‰å…¨ -> æ£€æŸ¥æ˜¯å¦å¯ç”¨äº†**é€Ÿç‡é™åˆ¶**
* åœ¨ Cloudflare åŸŸå -> å®‰å…¨ -> äº‹ä»¶ -> æ£€æŸ¥æ˜¯å¦æ£€æµ‹åˆ°**æ¶æ„äº‹ä»¶**

## è®¿é—®

{% content-ref url="cloudflare-zero-trust-network.md" %}
[cloudflare-zero-trust-network.md](cloudflare-zero-trust-network.md)
{% endcontent-ref %}
## é€Ÿåº¦

_æˆ‘æ²¡æœ‰æ‰¾åˆ°ä»»ä½•ä¸å®‰å…¨ç›¸å…³çš„é€‰é¡¹_

## ç¼“å­˜

* [ ] åœ¨ **`é…ç½®`** éƒ¨åˆ†è€ƒè™‘å¯ç”¨ **CSAM æ‰«æå·¥å…·**

## **Workers è·¯ç”±**

_ä½ åº”è¯¥å·²ç»æ£€æŸ¥è¿‡_ [_cloudflare workers_](./#workers)

## è§„åˆ™

å¾…åŠ

## ç½‘ç»œ

* [ ] å¦‚æœ **`HTTP/2`** å·²**å¯ç”¨**ï¼Œåº”è¯¥**å¯ç”¨** **`HTTP/2 åˆ°æºç«™`**
* [ ] åº”è¯¥**å¯ç”¨** **`HTTP/3 (ä½¿ç”¨ QUIC)`**
* [ ] å¦‚æœä½ çš„**ç”¨æˆ·** **éšç§**å¾ˆé‡è¦ï¼Œè¯·ç¡®ä¿**å¯ç”¨** **`æ´‹è‘±è·¯ç”±`**

## **æµé‡**

å¾…åŠ

## è‡ªå®šä¹‰é¡µé¢

* [ ] å½“è§¦å‘ä¸å®‰å…¨ç›¸å…³çš„é”™è¯¯æ—¶ï¼ˆå¦‚é˜»æ­¢ã€é€Ÿç‡é™åˆ¶æˆ–æˆ‘æ­£å—åˆ°æ”»å‡»æ¨¡å¼ï¼‰ï¼Œå¯ä»¥é€‰æ‹©é…ç½®è‡ªå®šä¹‰é¡µé¢

## åº”ç”¨ç¨‹åº

å¾…åŠ

## Scrape Shield

* [ ] æ£€æŸ¥**ç”µå­é‚®ä»¶åœ°å€æ··æ·†**æ˜¯å¦**å¯ç”¨**
* [ ] æ£€æŸ¥**æœåŠ¡å™¨ç«¯æ’é™¤**æ˜¯å¦**å¯ç”¨**

## **Zaraz**

å¾…åŠ

## **Web3**

å¾…åŠ

<details>

<summary><strong>ä»é›¶å¼€å§‹å­¦ä¹  AWS é»‘å®¢æ”»å‡»ç›´åˆ°æˆä¸ºè‹±é›„ï¼Œé€šè¿‡</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS çº¢é˜Ÿä¸“å®¶)</strong></a><strong>ï¼</strong></summary>

å…¶ä»–æ”¯æŒ HackTricks çš„æ–¹å¼ï¼š

* å¦‚æœä½ æƒ³åœ¨ **HackTricks** ä¸­çœ‹åˆ°ä½ çš„**å…¬å¸å¹¿å‘Š**æˆ–**ä¸‹è½½ HackTricks çš„ PDF**ï¼Œè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)ï¼
* è·å– [**å®˜æ–¹ PEASS & HackTricks å•†å“**](https://peass.creator-spring.com)
* å‘ç° [**PEASS å®¶æ—**](https://opensea.io/collection/the-peass-family)ï¼Œæˆ‘ä»¬ç‹¬å®¶çš„ [**NFTs é›†åˆ**](https://opensea.io/collection/the-peass-family)
* **åŠ å…¥** ğŸ’¬ [**Discord ç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**telegram ç¾¤ç»„**](https://t.me/peass) æˆ–åœ¨ **Twitter** ğŸ¦ ä¸Š**å…³æ³¨**æˆ‘ [**@carlospolopm**](https://twitter.com/carlospolopm)**ã€‚**
* **é€šè¿‡å‘** [**HackTricks**](https://github.com/carlospolop/hacktricks) å’Œ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github ä»“åº“æäº¤ PR æ¥**åˆ†äº«ä½ çš„é»‘å®¢æŠ€å·§**ã€‚

</details>
