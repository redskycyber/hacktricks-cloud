# Osnovne informacije o Gitei

<details>

<summary><strong>NauÄite hakovanje AWS-a od nule do heroja sa</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Drugi naÄini podrÅ¡ke HackTricks-u:

* Ako Å¾elite da vidite **vaÅ¡u kompaniju reklamiranu na HackTricks-u** ili **preuzmete HackTricks u PDF formatu** proverite [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Nabavite [**zvaniÄni PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Otkrijte [**The PEASS Family**](https://opensea.io/collection/the-peass-family), naÅ¡u kolekciju ekskluzivnih [**NFT-ova**](https://opensea.io/collection/the-peass-family)
* **PridruÅ¾ite se** ğŸ’¬ [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili nas **pratite** na **Twitter-u** ğŸ¦ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Podelite svoje hakovanje trikove slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>

## Osnovna struktura

Osnovna struktura Gitea okruÅ¾enja je grupisanje repozitorijuma po **organizacijama**, pri Äemu svaka organizacija moÅ¾e sadrÅ¾ati **viÅ¡e repozitorijuma** i **viÅ¡e timova**. MeÄ‘utim, treba napomenuti da korisnici, kao i na github-u, mogu imati repozitorijume van organizacije.

Osim toga, **korisnik** moÅ¾e biti **Älan** **razliÄitih organizacija**. Unutar organizacije, korisnik moÅ¾e imati **razliÄite dozvole za svaki repozitorijum**.

Korisnik takoÄ‘e moÅ¾e biti **deo razliÄitih timova** sa razliÄitim dozvolama za razliÄite repozitorijume.

I na kraju, **repozitorijumi mogu imati posebne mehanizme zaÅ¡tite**.

## Dozvole

### Organizacije

Kada se **kreira organizacija**, tim pod nazivom **Owners** se **kreira** i korisnik se stavlja unutar njega. Ovaj tim Ä‡e dati **admin pristup** nad **organizacijom**, te **dozvole** i **ime** tima **ne mogu biti izmenjeni**.

**Org admini** (vlasnici) mogu odabrati **vidljivost** organizacije:

* Javno
* OgraniÄeno (samo prijavljeni korisnici)
* Privatno (samo Älanovi)

**Org admini** takoÄ‘e mogu naznaÄiti da li **repo admini** mogu **dodavati i/ili uklanjati pristup** timovima. TakoÄ‘e mogu naznaÄiti maksimalan broj repozitorijuma.

Prilikom kreiranja novog tima, biraju se nekoliko vaÅ¾nih podeÅ¡avanja:

* NaznaÄava se **repozitorijumi organizacije kojima Ä‡e Älanovi tima moÄ‡i pristupiti**: odreÄ‘eni repozitorijumi (repozitorijumi gde je tim dodat) ili svi.
* TakoÄ‘e se naznaÄava da li Älanovi mogu kreirati nove repozitorijume (kreator Ä‡e dobiti admin pristup).
* **Dozvole** koje Ä‡e **Älanovi** repozitorijuma **imati**:
* **Administrator** pristup
* **SpecifiÄan** pristup:

![](<../../.gitbook/assets/image (3) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1).png>)

### Timovi i korisnici

U repozitorijumu, **org admin** i **repo admini** (ako je dozvoljeno od strane org) mogu **upravljati ulogama** dodeljenim saradnicima (ostalim korisnicima) i timovima. Postoje **3** moguÄ‡e **uloge**:

* Administrator
* Pisanje
* ÄŒitanje

## Gitea autentifikacija

### Web pristup

KoriÅ¡Ä‡enjem **korisniÄkog imena + lozinke** i potencijalno (i preporuÄljivo) 2FA.

### **SSH kljuÄevi**

MoÅ¾ete konfigurisati svoj nalog sa jednim ili viÅ¡e javnih kljuÄeva koji omoguÄ‡avaju povezani **privatni kljuÄ da izvrÅ¡ava radnje u vaÅ¡e ime**. [http://localhost:3000/user/settings/keys](http://localhost:3000/user/settings/keys)

#### **GPG kljuÄevi**

Sa ovim kljuÄevima **ne moÅ¾ete se predstavljati kao korisnik**, ali ako ih ne koristite, moguÄ‡e je da **budete otkriveni zbog slanja commit-ova bez potpisa**.

### **LiÄni pristupni tokeni**

MoÅ¾ete generisati liÄni pristupni token da **dodelite aplikaciji pristup vaÅ¡em nalogu**. LiÄni pristupni token omoguÄ‡ava potpuni pristup vaÅ¡em nalogu: [http://localhost:3000/user/settings/applications](http://localhost:3000/user/settings/applications)

### Oauth aplikacije

Kao i liÄni pristupni tokeni, **Oauth aplikacije** Ä‡e imati **potpuni pristup** vaÅ¡em nalogu i mestima na kojima vaÅ¡ nalog ima pristup, jer, kako je naznaÄeno u [dokumentaciji](https://docs.gitea.io/en-us/oauth2-provider/#scopes), opsezi joÅ¡ uvek nisu podrÅ¾ani:

![](<../../.gitbook/assets/image (60).png>)

### Deploy kljuÄevi

Deploy kljuÄevi mogu imati samo Äitanje ili i pisanje pristup repozitorijumu, pa mogu biti interesantni za kompromitovanje odreÄ‘enih repozitorijuma.

## ZaÅ¡tita grana

ZaÅ¡tita grana je dizajnirana tako da **ne daje potpunu kontrolu nad repozitorijumom** korisnicima. Cilj je da se **postave razne metode zaÅ¡tite pre nego Å¡to se moÅ¾e pisati kod u nekoj grani**.

**ZaÅ¡tita grana repozitorijuma** se moÅ¾e pronaÄ‡i na _https://localhost:3000/\<orgname>/\<reponame>/settings/branches_

{% hint style="info" %}
Nije **moguÄ‡e postaviti zaÅ¡titu grane na nivou organizacije**. Stoga, sve zaÅ¡tite moraju biti deklarisane na svakom repozitorijumu.
{% endhint %}

RazliÄite zaÅ¡tite mogu se primeniti na granu (kao na master):

* **OnemoguÄ‡i Push**: Niko ne moÅ¾e push-ovati u ovu granu
* **OmoguÄ‡i Push**: Svako sa pristupom moÅ¾e push-ovati, ali ne i force push.
* **Whitelist ograniÄen Push**: Samo odabrani korisnici/timovi mogu push-ovati u ovu granu (ali ne i force push)
* **OmoguÄ‡i Whitelist Merge**: Samo korisnici/timovi sa whitelist-e mogu merge-ovati PR-ove.
* **OmoguÄ‡i provere statusa**: Zahteva da provere statusa proÄ‘u pre spajanja.
* **Zahtevaj odobrenja**: OznaÄava broj odobrenja potrebnih pre spajanja PR-a.
* **OgraniÄi odobrenja na whitelist-u**: OznaÄava korisnike/timove koji mogu odobriti PR-ove.
* **Blokiraj merge na odbijenim pregledima**: Ako se zahtevaju izmene, ne moÅ¾e se spojiti (Äak i ako ostale provere proÄ‘u)
* **Blokiraj merge na zvaniÄnim
