# åŸºæœ¬çš„Githubä¿¡æ¯

<details>

<summary><strong>æ”¯æŒHackTrickså¹¶è·å¾—å¥½å¤„ï¼</strong></summary>

* å¦‚æœæ‚¨æƒ³åœ¨HackTricksä¸­çœ‹åˆ°æ‚¨çš„å…¬å¸å¹¿å‘Šï¼Œæˆ–è€…å¦‚æœæ‚¨æƒ³è®¿é—®PEASSçš„æœ€æ–°ç‰ˆæœ¬æˆ–ä¸‹è½½PDFæ ¼å¼çš„HackTricksï¼Œè¯·æŸ¥çœ‹[**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)ï¼
* è·å–[**å®˜æ–¹PEASSå’ŒHackTricksè¡£ç‰©**](https://peass.creator-spring.com)
* å‘ç°[**PEASSå®¶æ—**](https://opensea.io/collection/the-peass-family)ï¼Œæˆ‘ä»¬çš„ç‹¬å®¶[**NFTs**](https://opensea.io/collection/the-peass-family)æ”¶è—å“
* **åŠ å…¥** ğŸ’¬ [**Discordç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**Telegramç¾¤ç»„**](https://t.me/peass) æˆ– **å…³æ³¨**æˆ‘åœ¨**Twitter**ä¸Šçš„ğŸ¦ [**@carlospolopm**](https://twitter.com/carlospolopm)**ã€‚**
* **é€šè¿‡å‘** [**HackTricks**](https://github.com/carlospolop/hacktricks) **å’Œ** [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) **githubä»“åº“æäº¤PRæ¥åˆ†äº«æ‚¨çš„é»‘å®¢æŠ€å·§**ã€‚

</details>

## åŸºæœ¬ç»“æ„

å¤§å‹**å…¬å¸**çš„åŸºæœ¬Githubç¯å¢ƒç»“æ„æ˜¯æ‹¥æœ‰ä¸€ä¸ª**ä¼ä¸š**ï¼Œè¯¥ä¼ä¸šæ‹¥æœ‰**å¤šä¸ªç»„ç»‡**ï¼Œæ¯ä¸ªç»„ç»‡å¯èƒ½åŒ…å«**å¤šä¸ªä»“åº“**å’Œ**å¤šä¸ªå›¢é˜Ÿ**ã€‚è¾ƒå°çš„å…¬å¸å¯èƒ½åªæ‹¥æœ‰ä¸€ä¸ªç»„ç»‡è€Œæ²¡æœ‰ä¼ä¸šã€‚

ä»ç”¨æˆ·çš„è§’åº¦æ¥çœ‹ï¼Œ**ç”¨æˆ·**å¯ä»¥æ˜¯**ä¸åŒä¼ä¸šå’Œç»„ç»‡çš„æˆå‘˜**ã€‚åœ¨å…¶ä¸­ï¼Œç”¨æˆ·å¯ä»¥æ‹¥æœ‰**ä¸åŒçš„ä¼ä¸šã€ç»„ç»‡å’Œä»“åº“è§’è‰²**ã€‚

æ­¤å¤–ï¼Œç”¨æˆ·å¯èƒ½æ˜¯**ä¸åŒå›¢é˜Ÿçš„ä¸€éƒ¨åˆ†**ï¼Œå…·æœ‰ä¸åŒçš„ä¼ä¸šã€ç»„ç»‡æˆ–ä»“åº“è§’è‰²ã€‚

æœ€åï¼Œ**ä»“åº“å¯èƒ½å…·æœ‰ç‰¹æ®Šçš„ä¿æŠ¤æœºåˆ¶**ã€‚

## æƒé™

### ä¼ä¸šè§’è‰²

* **ä¼ä¸šæ‰€æœ‰è€…**ï¼šæ‹¥æœ‰æ­¤è§’è‰²çš„äººå¯ä»¥**ç®¡ç†ç®¡ç†å‘˜ã€ç®¡ç†ä¼ä¸šå†…çš„ç»„ç»‡ã€ç®¡ç†ä¼ä¸šè®¾ç½®ã€åœ¨ç»„ç»‡é—´å¼ºåˆ¶æ‰§è¡Œç­–ç•¥**ã€‚ä½†æ˜¯ï¼Œé™¤éä»–ä»¬æˆä¸ºç»„ç»‡æ‰€æœ‰è€…æˆ–ç›´æ¥è·å¾—å¯¹ç»„ç»‡æ‹¥æœ‰çš„ä»“åº“çš„è®¿é—®æƒé™ï¼Œå¦åˆ™ä»–ä»¬**æ— æ³•è®¿é—®ç»„ç»‡è®¾ç½®æˆ–å†…å®¹**ã€‚
* **ä¼ä¸šæˆå‘˜**ï¼šæ‚¨ä¼ä¸šæ‹¥æœ‰çš„ç»„ç»‡çš„æˆå‘˜ä¹Ÿæ˜¯**è‡ªåŠ¨æˆä¸ºä¼ä¸šçš„æˆå‘˜**ã€‚

### ç»„ç»‡è§’è‰²

åœ¨ç»„ç»‡ä¸­ï¼Œç”¨æˆ·å¯ä»¥æ‹¥æœ‰ä¸åŒçš„è§’è‰²ï¼š

* **ç»„ç»‡æ‰€æœ‰è€…**ï¼šç»„ç»‡æ‰€æœ‰è€…å¯¹æ‚¨çš„ç»„ç»‡æ‹¥æœ‰**å®Œå…¨çš„ç®¡ç†è®¿é—®æƒé™**ã€‚è¿™ä¸ªè§’è‰²åº”è¯¥åœ¨æ‚¨çš„ç»„ç»‡ä¸­é™åˆ¶ï¼Œä½†è‡³å°‘åº”æœ‰ä¸¤ä¸ªäººã€‚
* **ç»„ç»‡æˆå‘˜**ï¼š**éç®¡ç†å‘˜è§’è‰²**çš„**ç»„ç»‡æˆå‘˜**æ˜¯ç»„ç»‡ä¸­çš„é»˜è®¤è§’è‰²ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œç»„ç»‡æˆå‘˜**å…·æœ‰å¤šä¸ªæƒé™**ã€‚
* **è´¢åŠ¡ç»ç†**ï¼šè´¢åŠ¡ç»ç†æ˜¯å¯ä»¥**ç®¡ç†ç»„ç»‡çš„è´¢åŠ¡è®¾ç½®**ï¼ˆå¦‚ä»˜æ¬¾ä¿¡æ¯ï¼‰çš„ç”¨æˆ·ã€‚
* **å®‰å…¨ç»ç†**ï¼šè¿™æ˜¯ç»„ç»‡æ‰€æœ‰è€…å¯ä»¥åˆ†é…ç»™ç»„ç»‡ä¸­çš„ä»»ä½•å›¢é˜Ÿçš„è§’è‰²ã€‚åº”ç”¨æ­¤è§’è‰²åï¼Œå›¢é˜Ÿçš„æ¯ä¸ªæˆå‘˜éƒ½å…·æœ‰**ç®¡ç†ç»„ç»‡ä¸­çš„å®‰å…¨è­¦æŠ¥å’Œè®¾ç½®çš„æƒé™**ï¼Œä»¥åŠå¯¹ç»„ç»‡ä¸­æ‰€æœ‰ä»“åº“çš„è¯»å–æƒé™ã€‚
* å¦‚æœæ‚¨çš„ç»„ç»‡æœ‰ä¸€ä¸ªå®‰å…¨å›¢é˜Ÿï¼Œæ‚¨å¯ä»¥ä½¿ç”¨å®‰å…¨ç»ç†è§’è‰²ä¸ºå›¢é˜Ÿæˆå‘˜æä¾›ä»–ä»¬éœ€è¦çš„æœ€ä½è®¿é—®æƒé™ã€‚
* **Githubåº”ç”¨ç¨‹åºç®¡ç†å‘˜**ï¼šä¸ºäº†å…è®¸å…¶ä»–ç”¨æˆ·**ç®¡ç†ç»„ç»‡æ‹¥æœ‰çš„GitHubåº”ç”¨ç¨‹åº**ï¼Œæ‰€æœ‰è€…å¯ä»¥æˆäºˆä»–ä»¬GitHubåº”ç”¨ç¨‹åºç®¡ç†å‘˜æƒé™ã€‚
* **å¤–éƒ¨åˆä½œè€…**ï¼šå¤–éƒ¨åˆä½œè€…æ˜¯æŒ‡**å¯ä»¥è®¿é—®ä¸€ä¸ªæˆ–å¤šä¸ªç»„ç»‡ä»“åº“ä½†ä¸æ˜¯ç»„ç»‡æˆå‘˜**çš„äººã€‚

æ‚¨å¯ä»¥åœ¨æ­¤è¡¨ä¸­**æ¯”è¾ƒè¿™äº›è§’è‰²çš„æƒé™**ï¼š[https://docs.github.com/en/organizations/managing-peoples-access-to-your-organization-with-roles/roles-in-an-organization#permissions-for-organization-roles](https://docs.github.com/en/organizations/managing-peoples-access-to-your-organization-with-roles/roles-in-an-organization#permissions-for-organization-roles)

### æˆå‘˜æƒé™

åœ¨_https://github.com/organizations/\<org\_name>/settings/member\_privileges_ä¸­ï¼Œæ‚¨å¯ä»¥æŸ¥çœ‹**ç»„ç»‡æˆå‘˜ä»…å› ä¸ºæ˜¯ç»„ç»‡æˆå‘˜è€Œæ‹¥æœ‰çš„æƒé™**ã€‚

åœ¨æ­¤å¤„é…ç½®çš„è®¾ç½®å°†æŒ‡ç¤ºç»„ç»‡æˆå‘˜çš„ä»¥ä¸‹æƒé™ï¼š

* å¯¹ç»„ç»‡ä¸­æ‰€æœ‰ä»“åº“çš„ç®¡ç†è€…ã€ç¼–å†™è€…ã€è¯»è€…æˆ–æ— æƒé™ã€‚
* æˆå‘˜æ˜¯å¦å¯ä»¥åˆ›å»ºç§æœ‰ã€å†…éƒ¨æˆ–å…¬å…±ä»“åº“ã€‚
* æ˜¯å¦å¯ä»¥forkä»“åº“ã€‚
* æ˜¯å¦å¯ä»¥é‚€è¯·å¤–éƒ¨åˆä½œè€…ã€‚
* æ˜¯å¦å¯ä»¥å‘å¸ƒå…¬å…±æˆ–ç§æœ‰ç«™ç‚¹ã€‚
* ç®¡ç†å‘˜å¯¹ä»“åº“çš„æƒé™ã€‚
* æˆå‘˜æ˜¯å¦å¯ä»¥åˆ›å»ºæ–°å›¢é˜Ÿã€‚

### ä»“åº“è§’è‰²

é»˜è®¤æƒ…å†µä¸‹ï¼Œåˆ›å»ºä»¥ä¸‹ä»“åº“è§’è‰²ï¼š

* **è¯»å–**ï¼šæ¨èç»™å¸Œæœ›æŸ¥çœ‹æˆ–è®¨è®ºé¡¹ç›®çš„**éä»£ç è´¡çŒ®è€…**ã€‚
* **å¤„ç†**ï¼šæ¨èç»™**éœ€è¦ä¸»åŠ¨ç®¡ç†é—®é¢˜å’Œæ‹‰å–è¯·æ±‚**ä½†æ²¡æœ‰å†™å…¥æƒé™çš„è´¡çŒ®è€…ã€‚
* **ç¼–å†™**ï¼šæ¨èç»™**ç§¯ææ¨åŠ¨é¡¹ç›®çš„è´¡çŒ®è€…**ã€‚
* **ç»´æŠ¤**ï¼šæ¨èç»™**éœ€è¦ç®¡ç†ä»“åº“ä½†æ— æƒè®¿é—®æ•æ„Ÿæˆ–ç ´åæ€§æ“ä½œçš„é¡¹ç›®ç»ç†**ã€‚
* **ç®¡ç†**ï¼šæ¨èç»™éœ€è¦**å®Œå…¨è®¿é—®é¡¹ç›®**ï¼ˆåŒ…æ‹¬ç®¡ç†å®‰å…¨æˆ–åˆ é™¤ä»“åº“ç­‰æ•æ„Ÿå’Œç ´åæ€§æ“ä½œï¼‰çš„äººã€‚

æ‚¨å¯ä»¥åœ¨æ­¤è¡¨ä¸­**æ¯”è¾ƒæ¯ä¸ªè§’è‰²çš„æƒé™**ï¼š[https://docs.github.com/en/organizations/managing-access-to-your-organizations-repositories/repository-roles-for-an-organization#permissions-for-each-role](https://docs.github.com/en/organizations/managing-access-to-your-organizations-repositories/repository-roles-for-an-organization#permissions-for-each-role)

æ‚¨è¿˜å¯ä»¥åœ¨_https://github.com/organizations/\<org\_name>/settings/roles_ä¸­**åˆ›å»ºè‡ªå·±çš„è§’è‰²**ã€‚

### å›¢é˜Ÿ

æ‚¨å¯ä»¥åœ¨_https://github.com/orgs/\<org\_name>/teams_ä¸­**åˆ—å‡ºç»„ç»‡ä¸­åˆ›å»ºçš„å›¢é˜Ÿ**ã€‚è¯·æ³¨æ„ï¼Œè¦æŸ¥çœ‹ä½œä¸ºå…¶ä»–å›¢é˜Ÿå­çº§çš„å›¢é˜Ÿï¼Œæ‚¨éœ€è¦è®¿é—®æ¯ä¸ªçˆ¶çº§å›¢é˜Ÿã€‚

### ç”¨æˆ·

ç»„ç»‡çš„ç”¨æˆ·å¯ä»¥åœ¨_https://github.com/orgs/\<org\_name>/people_ä¸­**åˆ—å‡º**ã€‚

åœ¨æ¯ä¸ªç”¨æˆ·çš„ä¿¡æ¯ä¸­ï¼Œæ‚¨å¯ä»¥çœ‹åˆ°ç”¨æˆ·æ˜¯**å›¢é˜Ÿçš„æˆå‘˜**ï¼Œä»¥åŠç”¨æˆ·å¯ä»¥è®¿é—®çš„**ä»“åº“**ã€‚

## Githubèº«ä»½éªŒè¯

Githubæä¾›äº†ä¸åŒçš„èº«ä»½éªŒè¯æ–¹å¼ï¼Œä»¥ä¾¿æ‚¨ç™»å½•åˆ°æ‚¨çš„å¸æˆ·å¹¶ä»£è¡¨æ‚¨æ‰§è¡Œæ“ä½œã€‚

### ç½‘é¡µè®¿é—®

è®¿é—®**github.com**ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨æ‚¨çš„**ç”¨æˆ·åå’Œå¯†ç **ï¼ˆä»¥åŠå¯èƒ½çš„**2FA**ï¼‰ç™»å½•ã€‚

### **SSHå¯†é’¥**

æ‚¨å¯ä»¥é…ç½®æ‚¨çš„å¸æˆ·ä½¿ç”¨ä¸€ä¸ªæˆ–å¤šä¸ªå…¬é’¥ï¼Œå…è®¸ç›¸å…³çš„**ç§é’¥ä»£è¡¨æ‚¨æ‰§è¡Œæ“ä½œ**ã€‚[https://github.com/settings/keys](https://github.com/settings/keys)
#### **GPG å¯†é’¥**

ä½¿ç”¨è¿™äº›å¯†é’¥**æ— æ³•å†’å……ç”¨æˆ·**ï¼Œä½†å¦‚æœä¸ä½¿ç”¨å®ƒï¼Œå¯èƒ½ä¼š**å‘ç°å‘é€æœªç­¾åæäº¤**ã€‚äº†è§£æœ‰å…³[vigilantæ¨¡å¼çš„æ›´å¤šä¿¡æ¯](https://docs.github.com/en/authentication/managing-commit-signature-verification/displaying-verification-statuses-for-all-of-your-commits#about-vigilant-mode)ã€‚

### **ä¸ªäººè®¿é—®ä»¤ç‰Œ**

æ‚¨å¯ä»¥ç”Ÿæˆä¸ªäººè®¿é—®ä»¤ç‰Œï¼Œä»¥**æˆäºˆåº”ç”¨ç¨‹åºè®¿é—®æ‚¨çš„å¸æˆ·çš„æƒé™**ã€‚åˆ›å»ºä¸ªäººè®¿é—®ä»¤ç‰Œæ—¶ï¼Œ**ç”¨æˆ·**éœ€è¦**æŒ‡å®š**ä»¤ç‰Œå°†å…·æœ‰çš„**æƒé™**ã€‚[https://github.com/settings/tokens](https://github.com/settings/tokens)

### Oauth åº”ç”¨ç¨‹åº

Oauth åº”ç”¨ç¨‹åºå¯èƒ½ä¼šè¦æ±‚æ‚¨æˆäºˆå…¶**è®¿é—®éƒ¨åˆ† GitHub ä¿¡æ¯æˆ–å†’å……æ‚¨**ä»¥æ‰§è¡ŒæŸäº›æ“ä½œçš„æƒé™ã€‚ä¸€ä¸ªå¸¸è§çš„ä¾‹å­æ˜¯æ‚¨å¯èƒ½åœ¨æŸäº›å¹³å°ä¸Šæ‰¾åˆ°çš„**ä½¿ç”¨ GitHub ç™»å½•æŒ‰é’®**ã€‚

* æ‚¨å¯ä»¥åœ¨[https://github.com/settings/developers](https://github.com/settings/developers)ä¸Š**åˆ›å»º**è‡ªå·±çš„**Oauth åº”ç”¨ç¨‹åº**ã€‚
* æ‚¨å¯ä»¥åœ¨[https://github.com/settings/applications](https://github.com/settings/applications)ä¸ŠæŸ¥çœ‹**è®¿é—®æ‚¨çš„å¸æˆ·çš„ Oauth åº”ç”¨ç¨‹åº**ã€‚
* æ‚¨å¯ä»¥åœ¨[https://docs.github.com/en/developers/apps/building-oauth-apps/scopes-for-oauth-apps](https://docs.github.com/en/developers/apps/building-oauth-apps/scopes-for-oauth-apps)ä¸ŠæŸ¥çœ‹**Oauth åº”ç”¨ç¨‹åºå¯ä»¥è¯·æ±‚çš„èŒƒå›´**ã€‚
* æ‚¨å¯ä»¥åœ¨_https://github.com/organizations/\<org\_name>/settings/oauth\_application\_policy_ä¸ŠæŸ¥çœ‹**ç»„ç»‡ä¸­åº”ç”¨ç¨‹åºçš„ç¬¬ä¸‰æ–¹è®¿é—®**ã€‚

ä¸€äº›**å®‰å…¨å»ºè®®**ï¼š

* **OAuth åº”ç”¨ç¨‹åº**åº”å§‹ç»ˆ**ä½œä¸ºç»è¿‡èº«ä»½éªŒè¯çš„ GitHub ç”¨æˆ·åœ¨ GitHub ä¸Šæ‰§è¡Œæ‰€æœ‰æ“ä½œ**ï¼ˆä¾‹å¦‚ï¼Œæä¾›ç”¨æˆ·é€šçŸ¥ï¼‰ï¼Œå¹¶ä¸”åªèƒ½è®¿é—®æŒ‡å®šçš„èŒƒå›´ã€‚
* é€šè¿‡å¯ç”¨â€œä½¿ç”¨ GitHub ç™»å½•â€ä¸ºç»è¿‡èº«ä»½éªŒè¯çš„ç”¨æˆ·ï¼ŒOAuth åº”ç”¨ç¨‹åºå¯ä»¥ç”¨ä½œèº«ä»½æä¾›è€…ã€‚
* å¦‚æœæ‚¨å¸Œæœ›åº”ç”¨ç¨‹åºä»…å¯¹**å•ä¸ªå­˜å‚¨åº“**è¿›è¡Œæ“ä½œï¼Œè¯·**ä¸è¦**æ„å»º**OAuth åº”ç”¨ç¨‹åº**ã€‚ä½¿ç”¨`repo` OAuth èŒƒå›´ï¼ŒOAuth åº”ç”¨ç¨‹åºå¯ä»¥**å¯¹ç»è¿‡èº«ä»½éªŒè¯çš„ç”¨æˆ·çš„æ‰€æœ‰å­˜å‚¨åº“**è¿›è¡Œæ“ä½œã€‚
* è¯·å‹¿æ„å»º OAuth åº”ç”¨ç¨‹åºä½œä¸ºå›¢é˜Ÿæˆ–å…¬å¸çš„åº”ç”¨ç¨‹åºã€‚OAuth åº”ç”¨ç¨‹åºä½œä¸º**å•ä¸ªç”¨æˆ·**è¿›è¡Œèº«ä»½éªŒè¯ï¼Œå› æ­¤å¦‚æœæœ‰äººä¸ºå…¬å¸åˆ›å»ºäº† OAuth åº”ç”¨ç¨‹åºå¹¶ä½¿ç”¨å®ƒï¼Œç„¶åç¦»å¼€å…¬å¸ï¼Œå…¶ä»–äººå°†æ— æ³•è®¿é—®è¯¥åº”ç”¨ç¨‹åºã€‚
* **æ›´å¤šä¿¡æ¯**è¯·å‚è§[æ­¤å¤„](https://docs.github.com/en/developers/apps/getting-started-with-apps/about-apps#about-oauth-apps)ã€‚

### Github åº”ç”¨ç¨‹åº

Github åº”ç”¨ç¨‹åºå¯ä»¥è¯·æ±‚æƒé™**è®¿é—®æ‚¨çš„ GitHub ä¿¡æ¯æˆ–å†’å……æ‚¨**ä»¥æ‰§è¡Œç‰¹å®šèµ„æºä¸Šçš„ç‰¹å®šæ“ä½œã€‚åœ¨ Github åº”ç”¨ç¨‹åºä¸­ï¼Œæ‚¨éœ€è¦æŒ‡å®šåº”ç”¨ç¨‹åºå°†è®¿é—®çš„å­˜å‚¨åº“ã€‚

* è¦å®‰è£… GitHub åº”ç”¨ç¨‹åºï¼Œæ‚¨å¿…é¡»æ˜¯**ç»„ç»‡æ‰€æœ‰è€…æˆ–å…·æœ‰å­˜å‚¨åº“çš„ç®¡ç†å‘˜æƒé™**ã€‚
* GitHub åº”ç”¨ç¨‹åºåº”**è¿æ¥åˆ°ä¸ªäººå¸æˆ·æˆ–ç»„ç»‡**ã€‚
* æ‚¨å¯ä»¥åœ¨[https://github.com/settings/apps](https://github.com/settings/apps)ä¸Šåˆ›å»ºè‡ªå·±çš„ Github åº”ç”¨ç¨‹åºã€‚
* æ‚¨å¯ä»¥åœ¨[https://github.com/settings/apps/authorizations](https://github.com/settings/apps/authorizations)ä¸ŠæŸ¥çœ‹**è®¿é—®æ‚¨çš„å¸æˆ·çš„ Github åº”ç”¨ç¨‹åº**ã€‚
* è¿™äº›æ˜¯[GitHub åº”ç”¨ç¨‹åºçš„ API ç«¯ç‚¹](https://docs.github.com/en/rest/overview/endpoints-available-for-github-apps)ã€‚æ ¹æ®åº”ç”¨ç¨‹åºçš„æƒé™ï¼Œå®ƒå°†èƒ½å¤Ÿè®¿é—®å…¶ä¸­çš„ä¸€äº›ç«¯ç‚¹ã€‚
* æ‚¨å¯ä»¥åœ¨_https://github.com/organizations/\<org\_name>/settings/installations_ä¸ŠæŸ¥çœ‹ç»„ç»‡ä¸­å®‰è£…çš„åº”ç”¨ç¨‹åºã€‚

ä¸€äº›å®‰å…¨å»ºè®®ï¼š

* GitHub åº”ç”¨ç¨‹åºåº”**ç‹¬ç«‹äºç”¨æˆ·é‡‡å–è¡ŒåŠ¨**ï¼ˆé™¤éåº”ç”¨ç¨‹åºä½¿ç”¨[user-to-server](https://docs.github.com/en/apps/building-github-apps/identifying-and-authorizing-users-for-github-apps#user-to-server-requests)ä»¤ç‰Œï¼‰ã€‚ä¸ºäº†ä½¿ user-to-server è®¿é—®ä»¤ç‰Œæ›´å®‰å…¨ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨åœ¨ 8 å°æ—¶åè¿‡æœŸçš„è®¿é—®ä»¤ç‰Œå’Œå¯ä»¥äº¤æ¢ä¸ºæ–°è®¿é—®ä»¤ç‰Œçš„åˆ·æ–°ä»¤ç‰Œã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚è§"[åˆ·æ–° user-to-server è®¿é—®ä»¤ç‰Œ](https://docs.github.com/en/apps/building-github-apps/refreshing-user-to-server-access-tokens)"ã€‚
* ç¡®ä¿ GitHub åº”ç”¨ç¨‹åºä¸**ç‰¹å®šå­˜å‚¨åº“**é›†æˆã€‚
* GitHub åº”ç”¨ç¨‹åºåº”**è¿æ¥åˆ°ä¸ªäººå¸æˆ·æˆ–ç»„ç»‡**ã€‚
* ä¸è¦æœŸæœ› GitHub åº”ç”¨ç¨‹åºäº†è§£å¹¶æ‰§è¡Œç”¨æˆ·çš„æ‰€æœ‰æ“ä½œã€‚
* å¦‚æœæ‚¨åªéœ€è¦â€œä½¿ç”¨ GitHub ç™»å½•â€æœåŠ¡ï¼Œè¯·**ä¸è¦ä½¿ç”¨ GitHub åº”ç”¨ç¨‹åº**ã€‚ä½†æ˜¯ï¼ŒGitHub åº”ç”¨ç¨‹åºå¯ä»¥ä½¿ç”¨[user identification flow](https://docs.github.com/en/apps/building-github-apps/identifying-and-authorizing-users-for-github-apps)æ¥ç™»å½•ç”¨æˆ·å¹¶æ‰§è¡Œå…¶ä»–æ“ä½œã€‚
* å¦‚æœæ‚¨åªæƒ³ä½œä¸º GitHub ç”¨æˆ·å¹¶æ‰§è¡Œç”¨æˆ·å¯ä»¥æ‰§è¡Œçš„æ‰€æœ‰æ“ä½œï¼Œè¯·**ä¸è¦æ„å»º GitHub åº”ç”¨ç¨‹åº**ã€‚
* å¦‚æœæ‚¨æ­£åœ¨ä½¿ç”¨åº”ç”¨ç¨‹åºä¸ GitHub Actions å¹¶ä¸”æƒ³è¦ä¿®æ”¹å·¥ä½œæµæ–‡ä»¶ï¼Œåˆ™å¿…é¡»ä»£è¡¨å…·æœ‰åŒ…å«`workflow`èŒƒå›´çš„ OAuth ä»¤ç‰Œçš„ç”¨æˆ·è¿›è¡Œèº«ä»½éªŒè¯ã€‚ç”¨æˆ·å¿…é¡»å¯¹åŒ…å«å·¥ä½œæµæ–‡ä»¶çš„å­˜å‚¨åº“å…·æœ‰ç®¡ç†å‘˜æˆ–å†™å…¥æƒé™ã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚è§"[äº†è§£ OAuth åº”ç”¨ç¨‹åºçš„èŒƒå›´](https://docs.github.com/en/apps/building-oauth-apps/understanding-scopes-for-oauth-apps/#available-scopes)"ã€‚
* **æ›´å¤šä¿¡æ¯**è¯·å‚è§[æ­¤å¤„](https://docs.github.com/en/developers/apps/getting-started-with-apps/about-apps#about-github-apps)ã€‚

### Github Actions

è¿™**ä¸æ˜¯åœ¨ GitHub è¿›è¡Œèº«ä»½éªŒè¯çš„æ–¹æ³•**ï¼Œä½†æ˜¯æ¶æ„çš„ Github Action å¯ä»¥è·å–**æœªç»æˆæƒçš„è®¿é—®æƒé™**å¹¶æ ¹æ®åˆ†é…ç»™è¯¥ Action çš„**ç‰¹æƒ**æ‰§è¡Œå¤šç§**ä¸åŒçš„æ”»å‡»**ã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚è§ä¸‹æ–‡ã€‚

## Git Actions

Git Actions å…è®¸åœ¨å‘ç”Ÿäº‹ä»¶æ—¶è‡ªåŠ¨æ‰§è¡Œä»£ç ã€‚é€šå¸¸ï¼Œæ‰§è¡Œçš„ä»£ç ä¸å­˜å‚¨åº“çš„ä»£ç **æœ‰å…³**ï¼ˆä¾‹å¦‚æ„å»º Docker å®¹å™¨æˆ–æ£€æŸ¥ PR æ˜¯å¦åŒ…å«æœºå¯†ä¿¡æ¯ï¼‰ã€‚

### é…ç½®

åœ¨_https://github.com/organizations/\<org\_name>/settings/actions_ä¸­ï¼Œå¯ä»¥æŸ¥çœ‹ç»„ç»‡çš„**Github Actions é…ç½®**ã€‚

å¯ä»¥å®Œå…¨ç¦æ­¢ä½¿ç”¨ Github Actionsï¼Œ**å…è®¸æ‰€æœ‰ Github Actions**ï¼Œæˆ–ä»…å…è®¸æŸäº›æ“ä½œã€‚

è¿˜å¯ä»¥é…ç½®**è°éœ€è¦æ‰¹å‡†è¿è¡Œ Github Action**ä»¥åŠè¿è¡Œæ—¶ Github Action çš„ GITHUB\_TOKEN çš„**æƒé™**ã€‚
### Git Secrets

Github Actioné€šå¸¸éœ€è¦ä¸€äº›ç§˜å¯†æ¥ä¸githubæˆ–ç¬¬ä¸‰æ–¹åº”ç”¨ç¨‹åºè¿›è¡Œäº¤äº’ã€‚ä¸ºäº†**é¿å…å°†å®ƒä»¬ä»¥æ˜æ–‡å½¢å¼æ”¾åœ¨å­˜å‚¨åº“ä¸­**ï¼Œgithubå…è®¸å°†å®ƒä»¬ä½œä¸º**ç§˜å¯†**å­˜å‚¨ã€‚

è¿™äº›ç§˜å¯†å¯ä»¥ä¸º**å­˜å‚¨åº“æˆ–æ•´ä¸ªç»„ç»‡**é…ç½®ã€‚ç„¶åï¼Œä¸ºäº†ä½¿**Actionèƒ½å¤Ÿè®¿é—®ç§˜å¯†**ï¼Œæ‚¨éœ€è¦åƒè¿™æ ·å£°æ˜å®ƒï¼š
```yaml
steps:
- name: Hello world action
with: # Set the secret as an input
super_secret: ${{ secrets.SuperSecret }}
env: # Or as an environment variable
super_secret: ${{ secrets.SuperSecret }}
```
#### ä½¿ç”¨Bashçš„ç¤ºä¾‹ <a href="#example-using-bash" id="example-using-bash"></a>
```yaml
steps:
- shell: bash
env:
SUPER_SECRET: ${{ secrets.SuperSecret }}
run: |
example-command "$SUPER_SECRET"
```
{% hint style="warning" %}
åªæœ‰åœ¨å£°æ˜äº†çš„ Github Actions ä¸­æ‰èƒ½è®¿é—®**secrets**ã€‚

ä¸€æ—¦åœ¨ä»“åº“æˆ–ç»„ç»‡ä¸­é…ç½®å¥½ï¼Œ**github ç”¨æˆ·å°†æ— æ³•å†æ¬¡è®¿é—®å®ƒä»¬**ï¼Œä»–ä»¬åªèƒ½**æ›´æ”¹å®ƒä»¬**ã€‚
{% endhint %}

å› æ­¤ï¼Œ**çªƒå– github secrets çš„å”¯ä¸€æ–¹æ³•æ˜¯èƒ½å¤Ÿè®¿é—®æ‰§è¡Œ Github Action çš„æœºå™¨**ï¼ˆåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ‚¨åªèƒ½è®¿é—®ä¸ºè¯¥ Action å£°æ˜çš„ secretsï¼‰ã€‚

### Git ç¯å¢ƒ

Github å…è®¸åˆ›å»º**ç¯å¢ƒ**ï¼Œæ‚¨å¯ä»¥åœ¨å…¶ä¸­ä¿å­˜**secrets**ã€‚ç„¶åï¼Œæ‚¨å¯ä»¥é€šè¿‡ç±»ä¼¼ä»¥ä¸‹æ–¹å¼ï¼Œä½¿ github action å¯ä»¥è®¿é—®ç¯å¢ƒä¸­çš„ secretsï¼š
```yaml
jobs:
deployment:
runs-on: ubuntu-latest
environment: env_name
```
æ‚¨å¯ä»¥é…ç½®ä¸€ä¸ªç¯å¢ƒï¼Œä½¿å…¶å¯ä»¥è¢«æ‰€æœ‰åˆ†æ”¯ï¼ˆé»˜è®¤ï¼‰ã€ä»…å—ä¿æŠ¤çš„åˆ†æ”¯æˆ–æŒ‡å®šçš„åˆ†æ”¯è®¿é—®ã€‚\
è¿˜å¯ä»¥è®¾ç½®åœ¨æ‰§è¡Œæ“ä½œä¹‹å‰éœ€è¦è¿›è¡Œä¸€å®šæ•°é‡çš„å®¡æŸ¥ï¼Œæˆ–è€…åœ¨å…è®¸éƒ¨ç½²ä¹‹å‰ç­‰å¾…ä¸€æ®µæ—¶é—´ã€‚

### Git Action Runner

Github Actionå¯ä»¥åœ¨githubç¯å¢ƒä¸­æ‰§è¡Œï¼Œä¹Ÿå¯ä»¥åœ¨ç”¨æˆ·é…ç½®çš„ç¬¬ä¸‰æ–¹åŸºç¡€è®¾æ–½ä¸­æ‰§è¡Œã€‚

è®¸å¤šç»„ç»‡å…è®¸åœ¨ç¬¬ä¸‰æ–¹åŸºç¡€è®¾æ–½ä¸­è¿è¡ŒGithub Actionsï¼Œå› ä¸ºè¿™æ ·æ›´ä¾¿å®œã€‚

æ‚¨å¯ä»¥åœ¨_https://github.com/organizations/<org_name>/settings/actions/runners_ä¸­åˆ—å‡ºç»„ç»‡çš„è‡ªæ‰˜ç®¡è¿è¡Œç¨‹åºã€‚

æŸ¥æ‰¾åœ¨égithubåŸºç¡€è®¾æ–½ä¸­æ‰§è¡Œçš„Github Actionsçš„æ–¹æ³•æ˜¯åœ¨Github Actioné…ç½®yamlä¸­æœç´¢`runs-on: self-hosted`ã€‚

ä¸å¯èƒ½åœ¨ä¸åŒç»„ç»‡çš„è‡ªæ‰˜ç®¡æ¡†ä¸­è¿è¡Œç»„ç»‡çš„Github Actionï¼Œå› ä¸ºåœ¨é…ç½®æ—¶ä¸ºRunnerç”Ÿæˆäº†å”¯ä¸€çš„ä»¤ç‰Œï¼Œä»¥ç¡®å®šRunneræ‰€å±çš„ä½ç½®ã€‚

å¦‚æœè‡ªå®šä¹‰çš„Github Runneré…ç½®åœ¨AWSæˆ–GCPä¸­çš„æœºå™¨ä¸Šï¼Œè¯¥Actionå¯èƒ½å¯ä»¥è®¿é—®å…ƒæ•°æ®ç«¯ç‚¹å¹¶çªƒå–æœºå™¨æ­£åœ¨è¿è¡Œçš„æœåŠ¡å¸æˆ·çš„ä»¤ç‰Œã€‚

### Git Action Compromise

å¦‚æœå…è®¸æ‰€æœ‰æ“ä½œï¼ˆæˆ–æ¶æ„æ“ä½œï¼‰ï¼Œç”¨æˆ·å¯ä»¥ä½¿ç”¨ä¸€ä¸ªæ¶æ„çš„Github Actionæ¥å±å®³å…¶æ­£åœ¨æ‰§è¡Œçš„å®¹å™¨ã€‚

{% hint style="danger" %}
æ”»å‡»è€…å¯ä»¥æ»¥ç”¨æ¶æ„çš„Github Actionæ¥ï¼š

* çªƒå–Actionå¯ä»¥è®¿é—®çš„æ‰€æœ‰æœºå¯†ä¿¡æ¯
* å¦‚æœActionåœ¨å¯ä»¥è®¿é—®æœºå™¨ä¸Šè¿è¡Œçš„ç¬¬ä¸‰æ–¹åŸºç¡€è®¾æ–½ä¸­æ‰§è¡Œï¼Œåˆ™å¯ä»¥æ¨ªå‘ç§»åŠ¨ï¼ˆå¯èƒ½é€šè¿‡å…ƒæ•°æ®æœåŠ¡ï¼‰
* æ»¥ç”¨å·¥ä½œæµä½¿ç”¨çš„ä»¤ç‰Œæ¥çªƒå–æ‰§è¡ŒActionçš„ä»“åº“çš„ä»£ç ï¼Œç”šè‡³ä¿®æ”¹ä»£ç ã€‚
{% endhint %}

## åˆ†æ”¯ä¿æŠ¤

åˆ†æ”¯ä¿æŠ¤æ—¨åœ¨ä¸å°†å¯¹å­˜å‚¨åº“çš„å®Œå…¨æ§åˆ¶æƒäº¤ç»™ç”¨æˆ·ã€‚ç›®æ ‡æ˜¯åœ¨èƒ½å¤Ÿåœ¨æŸäº›åˆ†æ”¯ä¸­ç¼–å†™ä»£ç ä¹‹å‰è®¾ç½®å¤šç§ä¿æŠ¤æ–¹æ³•ã€‚

å¯ä»¥åœ¨_https://github.com/<orgname>/<reponame>/settings/branches_ä¸­æ‰¾åˆ°å­˜å‚¨åº“çš„åˆ†æ”¯ä¿æŠ¤è®¾ç½®ã€‚

{% hint style="info" %}
ä¸å¯èƒ½åœ¨ç»„ç»‡çº§åˆ«è®¾ç½®åˆ†æ”¯ä¿æŠ¤ã€‚å› æ­¤ï¼Œæ‰€æœ‰åˆ†æ”¯ä¿æŠ¤éƒ½å¿…é¡»åœ¨æ¯ä¸ªå­˜å‚¨åº“ä¸­å£°æ˜ã€‚
{% endhint %}

å¯ä»¥å¯¹åˆ†æ”¯åº”ç”¨ä¸åŒçš„ä¿æŠ¤ï¼ˆä¾‹å¦‚å¯¹ä¸»åˆ†æ”¯ï¼‰ï¼š

* å¯ä»¥è¦æ±‚åœ¨åˆå¹¶ä¹‹å‰è¿›è¡ŒPRï¼ˆå› æ­¤æ— æ³•ç›´æ¥å°†ä»£ç åˆå¹¶åˆ°åˆ†æ”¯ä¸­ï¼‰ã€‚å¦‚æœé€‰æ‹©æ­¤é€‰é¡¹ï¼Œå¯ä»¥è®¾ç½®å…¶ä»–ä¸åŒçš„ä¿æŠ¤æªæ–½ï¼š
* è¦æ±‚ä¸€å®šæ•°é‡çš„æ‰¹å‡†ã€‚é€šå¸¸è¦æ±‚1æˆ–2ä¸ªäººæ‰¹å‡†æ‚¨çš„PRï¼Œä»¥ä¾¿å•ä¸ªç”¨æˆ·æ— æ³•ç›´æ¥åˆå¹¶ä»£ç ã€‚
* æ¨é€æ–°æäº¤æ—¶å–æ¶ˆæ‰¹å‡†ã€‚å¦‚æœä¸å–æ¶ˆæ‰¹å‡†ï¼Œç”¨æˆ·å¯èƒ½ä¼šæ‰¹å‡†åˆæ³•ä»£ç ï¼Œç„¶åç”¨æˆ·å¯ä»¥æ·»åŠ æ¶æ„ä»£ç å¹¶åˆå¹¶å®ƒã€‚
* è¦æ±‚ä»£ç æ‰€æœ‰è€…è¿›è¡Œå®¡æŸ¥ã€‚è‡³å°‘éœ€è¦ä¸€ä¸ªä»£ç æ‰€æœ‰è€…æ‰¹å‡†PRï¼ˆå› æ­¤â€œéšæœºâ€ç”¨æˆ·æ— æ³•æ‰¹å‡†ï¼‰ã€‚
* é™åˆ¶å¯ä»¥å–æ¶ˆæ‹‰å–è¯·æ±‚å®¡æŸ¥çš„äººã€‚å¯ä»¥æŒ‡å®šå…è®¸å–æ¶ˆæ‹‰å–è¯·æ±‚å®¡æŸ¥çš„äººæˆ–å›¢é˜Ÿã€‚
* å…è®¸æŒ‡å®šçš„å‚ä¸è€…ç»•è¿‡æ‹‰å–è¯·æ±‚è¦æ±‚ã€‚è¿™äº›ç”¨æˆ·å°†èƒ½å¤Ÿç»•è¿‡å…ˆå‰çš„é™åˆ¶ã€‚
* è¦æ±‚åœ¨åˆå¹¶ä¹‹å‰é€šè¿‡çŠ¶æ€æ£€æŸ¥ã€‚åœ¨èƒ½å¤Ÿåˆå¹¶æäº¤ä¹‹å‰ï¼Œéœ€è¦é€šè¿‡ä¸€äº›æ£€æŸ¥ï¼ˆä¾‹å¦‚æ£€æŸ¥æ˜¯å¦å­˜åœ¨æ˜æ–‡å¯†ç ï¼‰ã€‚
* è¦æ±‚åœ¨åˆå¹¶ä¹‹å‰è§£å†³å¯¹è¯ã€‚å¿…é¡»è§£å†³ä»£ç ä¸Šçš„æ‰€æœ‰è¯„è®ºï¼Œç„¶åæ‰èƒ½åˆå¹¶PRã€‚
* è¦æ±‚ç­¾åæäº¤ã€‚æäº¤å¿…é¡»ç»è¿‡ç­¾åã€‚
* è¦æ±‚çº¿æ€§å†å²ã€‚é˜²æ­¢å°†åˆå¹¶æäº¤æ¨é€åˆ°åŒ¹é…çš„åˆ†æ”¯ã€‚
* åŒ…æ‹¬ç®¡ç†å‘˜ã€‚å¦‚æœæœªè®¾ç½®æ­¤é¡¹ï¼Œç®¡ç†å‘˜å¯ä»¥ç»•è¿‡é™åˆ¶ã€‚
* é™åˆ¶å¯ä»¥æ¨é€åˆ°åŒ¹é…åˆ†æ”¯çš„äººã€‚é™åˆ¶å¯ä»¥å‘é€PRçš„äººã€‚

{% hint style="info" %}
æ­£å¦‚æ‚¨æ‰€çœ‹åˆ°çš„ï¼Œå³ä½¿æ‚¨æˆåŠŸè·å–äº†æŸä¸ªç”¨æˆ·çš„æŸäº›å‡­æ®ï¼Œä¹Ÿå¯èƒ½ä¼šå—åˆ°ä¿æŠ¤ï¼Œæ— æ³•å°†ä»£ç ç›´æ¥æ¨é€åˆ°ä¸»åˆ†æ”¯ç­‰ï¼Œä»¥å±å®³CI/CDæµæ°´çº¿ã€‚
{% endhint %}

## å‚è€ƒèµ„æ–™

* [https://docs.github.com/en/organizations/managing-access-to-your-organizations-repositories/repository-roles-for-an-organization](https://docs.github.com/en/organizations/managing-access-to-your-organizations-repositories/repository-roles-for-an-organization)
* [https://docs.github.com/en/enterprise-server@3.3/admin/user-management/managing-users-in-your-enterprise/roles-in-an-enterprise](https://docs.github.com/en/enterprise-server@3.3/admin/user-management/managing-users-in-your-enterprise/roles-in-an-enterprise)[https://docs.github.com/en/enterprise-server](https://docs.github.com/en/enterprise-server@3.3/admin/user-management/managing-users-in-your-enterprise/roles-in-an-enterprise)
* [https://docs.github.com/en/get-started/learning-about-github/access-permissions-on-github](https://docs.github.com/en/get-started/learning-about-github/access-permissions-on-github)
* [https://docs.github.com/en/account-and-profile/setting-up-and-managing-your-github-user-account/managing-user-account-settings/permission-levels-for-user-owned-project-boards](https://docs.github.com/en/account-and-profile/setting-up-and-managing-your-github-user-account/managing-user-account-settings/permission-levels-for-user-owned-project-boards)
* [https://docs.github.com/en/actions/security-guides/encrypted-secrets](https://docs.github.com/en/actions/security-guides/encrypted-secrets)

<details>

<summary><strong>æ”¯æŒHackTrickså¹¶è·å¾—ç¦åˆ©ï¼</strong></summary>

* å¦‚æœæ‚¨å¸Œæœ›åœ¨HackTricksä¸­çœ‹åˆ°æ‚¨çš„å…¬å¸å¹¿å‘Šï¼Œæˆ–è€…å¦‚æœæ‚¨æƒ³è®¿é—®PEASSçš„æœ€æ–°ç‰ˆæœ¬æˆ–ä¸‹è½½PDFç‰ˆæœ¬çš„HackTricksï¼Œè¯·æŸ¥çœ‹[**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)ï¼
* è·å¾—[**å®˜æ–¹PEASSå’ŒHackTrickså‘¨è¾¹äº§å“**](https://peass.creator-spring.com)
* å‘ç°[**The PEASS Family**](https://opensea.io/collection/the-peass-family)ï¼Œæˆ‘ä»¬çš„ç‹¬å®¶[NFT](https://opensea.io/collection/the-peass-family)æ”¶è—å“
* **åŠ å…¥** ğŸ’¬ [**Discordç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**Telegramç¾¤ç»„**](https://t.me/peass) æˆ– **å…³æ³¨**æˆ‘çš„ **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/carlospolopm)**ã€‚**
* **é€šè¿‡å‘** [**HackTricks**](https://github.com/carlospolop/hacktricks) å’Œ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) **githubä»“åº“æäº¤PRæ¥åˆ†äº«æ‚¨çš„é»‘å®¢æŠ€å·§ã€‚**

</details>
