# åŸºæœ¬çš„ Github ä¿¡æ¯

<details>

<summary><strong>ä»é›¶åˆ°è‹±é›„å­¦ä¹  AWS é»‘å®¢æŠ€æœ¯</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS çº¢é˜Ÿä¸“å®¶)</strong></a><strong>ï¼</strong></summary>

æ”¯æŒ HackTricks çš„å…¶ä»–æ–¹å¼ï¼š

* å¦‚æœæ‚¨æƒ³åœ¨ **HackTricks ä¸­çœ‹åˆ°æ‚¨çš„å…¬å¸å¹¿å‘Š** æˆ– **ä¸‹è½½ HackTricks çš„ PDF**ï¼Œè¯·æŸ¥çœ‹ [**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)ï¼
* è·å– [**å®˜æ–¹ PEASS & HackTricks å•†å“**](https://peass.creator-spring.com)
* å‘ç° [**PEASS å®¶æ—**](https://opensea.io/collection/the-peass-family)ï¼Œæˆ‘ä»¬çš„ç‹¬å®¶ [**NFTs é›†åˆ**](https://opensea.io/collection/the-peass-family)
* **åŠ å…¥** ğŸ’¬ [**Discord ç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**telegram ç¾¤ç»„**](https://t.me/peass) æˆ–åœ¨ **Twitter** ğŸ¦ ä¸Š **å…³æ³¨** æˆ‘ [**@carlospolopm**](https://twitter.com/carlospolopm)**ã€‚**
* **é€šè¿‡å‘** [**HackTricks**](https://github.com/carlospolop/hacktricks) å’Œ [**HackTricks äº‘**](https://github.com/carlospolop/hacktricks-cloud) github ä»“åº“æäº¤ PR æ¥åˆ†äº«æ‚¨çš„é»‘å®¢æŠ€å·§ã€‚

</details>

## åŸºæœ¬ç»“æ„

ä¸€ä¸ªå¤§å‹**å…¬å¸**çš„åŸºæœ¬ github ç¯å¢ƒç»“æ„æ˜¯æ‹¥æœ‰ä¸€ä¸ª**ä¼ä¸š**ï¼Œè¯¥ä¼ä¸šæ‹¥æœ‰**å‡ ä¸ªç»„ç»‡**ï¼Œæ¯ä¸ªç»„ç»‡å¯èƒ½åŒ…å«**å‡ ä¸ªä»“åº“**å’Œ**å‡ ä¸ªå›¢é˜Ÿ**ã€‚è¾ƒå°çš„å…¬å¸å¯èƒ½åª**æ‹¥æœ‰ä¸€ä¸ªç»„ç»‡è€Œæ²¡æœ‰ä¼ä¸š**ã€‚

ä»ç”¨æˆ·çš„è§’åº¦çœ‹ï¼Œä¸€ä¸ª**ç”¨æˆ·**å¯ä»¥æ˜¯**ä¸åŒä¼ä¸šå’Œç»„ç»‡çš„æˆå‘˜**ã€‚åœ¨è¿™äº›ç»„ç»‡ä¸­ï¼Œç”¨æˆ·å¯èƒ½æœ‰**ä¸åŒçš„ä¼ä¸šã€ç»„ç»‡å’Œä»“åº“è§’è‰²**ã€‚

æ­¤å¤–ï¼Œç”¨æˆ·å¯èƒ½æ˜¯**ä¸åŒå›¢é˜Ÿçš„ä¸€éƒ¨åˆ†**ï¼Œæ‹¥æœ‰ä¸åŒçš„ä¼ä¸šã€ç»„ç»‡æˆ–ä»“åº“è§’è‰²ã€‚

æœ€åï¼Œ**ä»“åº“å¯èƒ½æœ‰ç‰¹æ®Šçš„ä¿æŠ¤æœºåˆ¶**ã€‚

## æƒé™

### ä¼ä¸šè§’è‰²

* **ä¼ä¸šæ‹¥æœ‰è€…**ï¼šæ‹¥æœ‰æ­¤è§’è‰²çš„äººå¯ä»¥**ç®¡ç†ç®¡ç†å‘˜ï¼Œç®¡ç†ä¼ä¸šå†…çš„ç»„ç»‡ï¼Œç®¡ç†ä¼ä¸šè®¾ç½®ï¼Œè·¨ç»„ç»‡æ‰§è¡Œæ”¿ç­–**ã€‚ç„¶è€Œï¼Œä»–ä»¬**æ— æ³•è®¿é—®ç»„ç»‡è®¾ç½®æˆ–å†…å®¹**ï¼Œé™¤éä»–ä»¬è¢«ä»»å‘½ä¸ºç»„ç»‡æ‹¥æœ‰è€…æˆ–ç›´æ¥è®¿é—®ç»„ç»‡æ‹¥æœ‰çš„ä»“åº“
* **ä¼ä¸šæˆå‘˜**ï¼šæ‚¨ä¼ä¸šæ‹¥æœ‰çš„ç»„ç»‡çš„æˆå‘˜ä¹Ÿ**è‡ªåŠ¨æˆä¸ºä¼ä¸šçš„æˆå‘˜**ã€‚

### ç»„ç»‡è§’è‰²

åœ¨ä¸€ä¸ªç»„ç»‡ä¸­ï¼Œç”¨æˆ·å¯ä»¥æœ‰ä¸åŒçš„è§’è‰²ï¼š

* **ç»„ç»‡æ‹¥æœ‰è€…**ï¼šç»„ç»‡æ‹¥æœ‰è€…å¯¹æ‚¨çš„ç»„ç»‡æ‹¥æœ‰**å®Œå…¨çš„ç®¡ç†è®¿é—®æƒé™**ã€‚è¿™ä¸ªè§’è‰²åº”è¯¥æ˜¯æœ‰é™çš„ï¼Œä½†åœ¨æ‚¨çš„ç»„ç»‡ä¸­ä¸åº”å°‘äºä¸¤ä¸ªäººã€‚
* **ç»„ç»‡æˆå‘˜**ï¼šç»„ç»‡ä¸­**äººå‘˜çš„é»˜è®¤**ï¼Œéç®¡ç†è§’è‰²æ˜¯ç»„ç»‡æˆå‘˜ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œç»„ç»‡æˆå‘˜**æ‹¥æœ‰è®¸å¤šæƒé™**ã€‚
* **è´¦å•ç®¡ç†å‘˜**ï¼šè´¦å•ç®¡ç†å‘˜æ˜¯å¯ä»¥**ç®¡ç†æ‚¨ç»„ç»‡çš„è´¦å•è®¾ç½®**çš„ç”¨æˆ·ï¼Œä¾‹å¦‚æ”¯ä»˜ä¿¡æ¯ã€‚
* **å®‰å…¨ç»ç†**ï¼šå®ƒæ˜¯ç»„ç»‡æ‹¥æœ‰è€…å¯ä»¥åˆ†é…ç»™ç»„ç»‡ä¸­ä»»ä½•å›¢é˜Ÿçš„è§’è‰²ã€‚åº”ç”¨åï¼Œå®ƒèµ‹äºˆå›¢é˜Ÿä¸­æ¯ä¸ªæˆå‘˜æƒé™æ¥**ç®¡ç†æ‚¨ç»„ç»‡çš„å®‰å…¨è­¦æŠ¥å’Œè®¾ç½®ï¼Œä»¥åŠå¯¹ç»„ç»‡ä¸­æ‰€æœ‰ä»“åº“çš„è¯»å–æƒé™**ã€‚
* å¦‚æœæ‚¨çš„ç»„ç»‡æœ‰ä¸€ä¸ªå®‰å…¨å›¢é˜Ÿï¼Œæ‚¨å¯ä»¥ä½¿ç”¨å®‰å…¨ç»ç†è§’è‰²ç»™äºˆå›¢é˜Ÿæˆå‘˜ä»–ä»¬éœ€è¦çš„æœ€å°‘è®¿é—®æƒé™ã€‚
* **Github åº”ç”¨ç®¡ç†å‘˜**ï¼šä¸ºäº†å…è®¸é¢å¤–çš„ç”¨æˆ·**ç®¡ç†ç»„ç»‡æ‹¥æœ‰çš„ Github åº”ç”¨**ï¼Œæ‹¥æœ‰è€…å¯ä»¥æˆäºˆä»–ä»¬ Github åº”ç”¨ç®¡ç†å‘˜æƒé™ã€‚
* **å¤–éƒ¨åˆä½œè€…**ï¼šå¤–éƒ¨åˆä½œè€…æ˜¯ä¸€ä¸ªæ‹¥æœ‰å¯¹ä¸€ä¸ªæˆ–å¤šä¸ªç»„ç»‡ä»“åº“çš„è®¿é—®æƒé™ä½†ä¸æ˜¯ç»„ç»‡æ˜ç¡®æˆå‘˜çš„äººã€‚

æ‚¨å¯ä»¥åœ¨æ­¤è¡¨ä¸­**æ¯”è¾ƒè¿™äº›è§’è‰²çš„æƒé™**ï¼š[https://docs.github.com/en/organizations/managing-peoples-access-to-your-organization-with-roles/roles-in-an-organization#permissions-for-organization-roles](https://docs.github.com/en/organizations/managing-peoples-access-to-your-organization-with-roles/roles-in-an-organization#permissions-for-organization-roles)

### æˆå‘˜æƒé™

åœ¨ _https://github.com/organizations/\<org\_name>/settings/member\_privileges_ æ‚¨å¯ä»¥çœ‹åˆ°**ä»…ä»…å› ä¸ºæ˜¯ç»„ç»‡çš„ä¸€éƒ¨åˆ†è€Œæ‹¥æœ‰çš„æƒé™**ã€‚

è¿™é‡Œé…ç½®çš„è®¾ç½®å°†æŒ‡ç¤ºç»„ç»‡æˆå‘˜çš„ä»¥ä¸‹æƒé™ï¼š

* æˆä¸ºæ‰€æœ‰ç»„ç»‡ä»“åº“çš„ç®¡ç†å‘˜ã€ç¼–å†™è€…ã€è¯»è€…æˆ–æ²¡æœ‰æƒé™ã€‚
* æˆå‘˜æ˜¯å¦å¯ä»¥åˆ›å»ºç§æœ‰ã€å†…éƒ¨æˆ–å…¬å…±ä»“åº“ã€‚
* æ˜¯å¦å¯ä»¥å¤åˆ¶ä»“åº“ã€‚
* æ˜¯å¦å¯ä»¥é‚€è¯·å¤–éƒ¨åˆä½œè€…ã€‚
* æ˜¯å¦å¯ä»¥å‘å¸ƒå…¬å…±æˆ–ç§æœ‰ç«™ç‚¹ã€‚
* ç®¡ç†å‘˜å¯¹ä»“åº“çš„æƒé™ã€‚
* æˆå‘˜æ˜¯å¦å¯ä»¥åˆ›å»ºæ–°å›¢é˜Ÿã€‚

### ä»“åº“è§’è‰²

é»˜è®¤æƒ…å†µä¸‹åˆ›å»ºä»“åº“è§’è‰²ï¼š

* **è¯»å–**ï¼šæ¨èç»™æƒ³è¦æŸ¥çœ‹æˆ–è®¨è®ºæ‚¨çš„é¡¹ç›®çš„**éä»£ç è´¡çŒ®è€…**
* **æ•´ç†**ï¼šæ¨èç»™éœ€è¦ç§¯æç®¡ç†é—®é¢˜å’Œæ‹‰å–è¯·æ±‚ä½†æ²¡æœ‰å†™å…¥æƒé™çš„**è´¡çŒ®è€…**
* **å†™å…¥**ï¼šæ¨èç»™**ç§¯ææ¨é€åˆ°æ‚¨é¡¹ç›®çš„è´¡çŒ®è€…**
* **ç»´æŠ¤**ï¼šæ¨èç»™éœ€è¦**ç®¡ç†ä»“åº“ä½†æ²¡æœ‰è®¿é—®æ•æ„Ÿæˆ–ç ´åæ€§æ“ä½œæƒé™çš„é¡¹ç›®ç»ç†**
* **ç®¡ç†å‘˜**ï¼šæ¨èç»™éœ€è¦**å®Œå…¨è®¿é—®é¡¹ç›®çš„äºº**ï¼ŒåŒ…æ‹¬æ•æ„Ÿå’Œç ´åæ€§æ“ä½œï¼Œå¦‚ç®¡ç†å®‰å…¨æˆ–åˆ é™¤ä»“åº“

æ‚¨å¯ä»¥åœ¨æ­¤è¡¨ä¸­**æ¯”è¾ƒæ¯ä¸ªè§’è‰²çš„æƒé™** [https://docs.github.com/en/organizations/managing-access-to-your-organizations-repositories/repository-roles-for-an-organization#permissions-for-each-role](https://docs.github.com/en/organizations/managing-access-to-your-organizations-repositories/repository-roles-for-an-organization#permissions-for-each-role)

æ‚¨ä¹Ÿå¯ä»¥åœ¨ _https://github.com/organizations/\<org\_name>/settings/roles_ **åˆ›å»ºæ‚¨è‡ªå·±çš„è§’è‰²**

### å›¢é˜Ÿ

æ‚¨å¯ä»¥åœ¨ _https://github.com/orgs/\<org\_name>/teams_ **åˆ—å‡ºç»„ç»‡ä¸­åˆ›å»ºçš„å›¢é˜Ÿ**ã€‚è¯·æ³¨æ„ï¼Œè¦æŸ¥çœ‹å…¶ä»–å›¢é˜Ÿçš„å­å›¢é˜Ÿï¼Œæ‚¨éœ€è¦è®¿é—®æ¯ä¸ªçˆ¶å›¢é˜Ÿã€‚

### ç”¨æˆ·

å¯ä»¥åœ¨ _https://github.com/orgs/\<org\_name>/people_ **åˆ—å‡º**ç»„ç»‡çš„ç”¨æˆ·ã€‚

åœ¨æ¯ä¸ªç”¨æˆ·çš„ä¿¡æ¯ä¸­ï¼Œæ‚¨å¯ä»¥çœ‹åˆ°**ç”¨æˆ·æ˜¯å“ªäº›å›¢é˜Ÿçš„æˆå‘˜**ï¼Œä»¥åŠ**ç”¨æˆ·å¯ä»¥è®¿é—®å“ªäº›ä»“åº“**ã€‚

## Github è®¤è¯

Github æä¾›äº†ä¸åŒçš„æ–¹å¼æ¥è®¤è¯æ‚¨çš„è´¦æˆ·å¹¶ä»£è¡¨æ‚¨æ‰§è¡Œæ“ä½œã€‚

### ç½‘é¡µè®¿é—®

è®¿é—® **github.com**ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨æ‚¨çš„**ç”¨æˆ·åå’Œå¯†ç **ï¼ˆå¯èƒ½è¿˜æœ‰**ä¸¤å› ç´ è®¤è¯**ï¼‰ç™»å½•ã€‚
### **SSH å¯†é’¥**

æ‚¨å¯ä»¥ä¸ºæ‚¨çš„è´¦æˆ·é…ç½®ä¸€ä¸ªæˆ–å¤šä¸ªå…¬é’¥ï¼Œå…è®¸å…³è”çš„**ç§é’¥ä»£è¡¨æ‚¨æ‰§è¡Œæ“ä½œã€‚** [https://github.com/settings/keys](https://github.com/settings/keys)

#### **GPG å¯†é’¥**

æ‚¨**ä¸èƒ½ç”¨è¿™äº›å¯†é’¥å†’å……ç”¨æˆ·**ï¼Œä½†å¦‚æœæ‚¨ä¸ä½¿ç”¨å®ƒï¼Œå¯èƒ½ä¼šå› ä¸º**å‘é€æœªç­¾åçš„æäº¤**è€Œ**è¢«å‘ç°**ã€‚äº†è§£æ›´å¤šå…³äº[è­¦æˆ’æ¨¡å¼çš„ä¿¡æ¯](https://docs.github.com/en/authentication/managing-commit-signature-verification/displaying-verification-statuses-for-all-of-your-commits#about-vigilant-mode)ã€‚

### **ä¸ªäººè®¿é—®ä»¤ç‰Œ**

æ‚¨å¯ä»¥ç”Ÿæˆä¸ªäººè®¿é—®ä»¤ç‰Œæ¥**æˆæƒåº”ç”¨ç¨‹åºè®¿é—®æ‚¨çš„è´¦æˆ·**ã€‚åˆ›å»ºä¸ªäººè®¿é—®ä»¤ç‰Œæ—¶ï¼Œ**ç”¨æˆ·**éœ€è¦**æŒ‡å®š**ä»¤ç‰Œå°†æ‹¥æœ‰çš„**æƒé™**ã€‚[https://github.com/settings/tokens](https://github.com/settings/tokens)

### Oauth åº”ç”¨ç¨‹åº

Oauth åº”ç”¨ç¨‹åºå¯èƒ½ä¼šè¯·æ±‚æƒé™**è®¿é—®æ‚¨çš„ GitHub ä¿¡æ¯æˆ–å†’å……æ‚¨**æ‰§è¡ŒæŸäº›æ“ä½œã€‚ä¸€ä¸ªå¸¸è§çš„ä¾‹å­æ˜¯æ‚¨å¯èƒ½åœ¨ä¸€äº›å¹³å°ä¸Šæ‰¾åˆ°çš„**ä½¿ç”¨ GitHub ç™»å½•æŒ‰é’®**ã€‚

* æ‚¨å¯ä»¥åœ¨ [https://github.com/settings/developers](https://github.com/settings/developers) **åˆ›å»º**æ‚¨è‡ªå·±çš„**Oauth åº”ç”¨ç¨‹åº**
* æ‚¨å¯ä»¥åœ¨ [https://github.com/settings/applications](https://github.com/settings/applications) æŸ¥çœ‹æ‰€æœ‰**æœ‰æƒè®¿é—®æ‚¨è´¦æˆ·çš„ Oauth åº”ç”¨ç¨‹åº**
* æ‚¨å¯ä»¥åœ¨ [https://docs.github.com/en/developers/apps/building-oauth-apps/scopes-for-oauth-apps](https://docs.github.com/en/developers/apps/building-oauth-apps/scopes-for-oauth-apps) æŸ¥çœ‹**Oauth åº”ç”¨ç¨‹åºå¯ä»¥è¯·æ±‚çš„èŒƒå›´**
* æ‚¨å¯ä»¥åœ¨ _https://github.com/organizations/\<org\_name>/settings/oauth\_application\_policy_ æŸ¥çœ‹**ç»„ç»‡**ä¸­åº”ç”¨ç¨‹åºçš„ç¬¬ä¸‰æ–¹è®¿é—®æƒé™

ä¸€äº›**å®‰å…¨å»ºè®®**ï¼š

* **OAuth åº”ç”¨ç¨‹åº**åº”å§‹ç»ˆ**ä½œä¸ºç»è¿‡èº«ä»½éªŒè¯çš„ GitHub ç”¨æˆ·åœ¨ GitHub çš„æ‰€æœ‰åœ°æ–¹è¡ŒåŠ¨**ï¼ˆä¾‹å¦‚ï¼Œæä¾›ç”¨æˆ·é€šçŸ¥ï¼‰ï¼Œå¹¶ä¸”åªèƒ½è®¿é—®æŒ‡å®šçš„èŒƒå›´ã€‚
* OAuth åº”ç”¨ç¨‹åºå¯ä»¥é€šè¿‡å¯ç”¨â€œä½¿ç”¨ GitHub ç™»å½•â€ä½œä¸ºèº«ä»½æä¾›è€…ã€‚
* **ä¸è¦**æ„å»º**OAuth åº”ç”¨ç¨‹åº**ï¼Œå¦‚æœæ‚¨å¸Œæœ›æ‚¨çš„åº”ç”¨ç¨‹åºä»…åœ¨**å•ä¸ªä»“åº“**ä¸Šè¡ŒåŠ¨ã€‚ä½¿ç”¨ `repo` OAuth èŒƒå›´ï¼ŒOAuth åº”ç”¨ç¨‹åºå¯ä»¥**å¯¹æ‰€æœ‰**ç»è¿‡èº«ä»½éªŒè¯ç”¨æˆ·çš„ä»“åº“**è¡ŒåŠ¨**ã€‚
* **ä¸è¦**æ„å»º OAuth åº”ç”¨ç¨‹åºä½œä¸ºæ‚¨çš„**å›¢é˜Ÿæˆ–å…¬å¸**çš„åº”ç”¨ç¨‹åºã€‚OAuth åº”ç”¨ç¨‹åºä½œä¸º**å•ä¸ªç”¨æˆ·**è¿›è¡Œèº«ä»½éªŒè¯ï¼Œå› æ­¤å¦‚æœä¸€ä¸ªäººä¸ºå…¬å¸åˆ›å»ºäº†ä¸€ä¸ª OAuth åº”ç”¨ç¨‹åºï¼Œç„¶åä»–ä»¬ç¦»å¼€äº†å…¬å¸ï¼Œå…¶ä»–äººå°†æ— æ³•è®¿é—®å®ƒã€‚
* **æ›´å¤š**ä¿¡æ¯åœ¨[è¿™é‡Œ](https://docs.github.com/en/developers/apps/getting-started-with-apps/about-apps#about-oauth-apps)ã€‚

### Github åº”ç”¨ç¨‹åº

Github åº”ç”¨ç¨‹åºå¯ä»¥è¯·æ±‚æƒé™**è®¿é—®æ‚¨çš„ Github ä¿¡æ¯æˆ–å†’å……æ‚¨**ï¼Œä»¥å¯¹ç‰¹å®šèµ„æºæ‰§è¡Œç‰¹å®šæ“ä½œã€‚åœ¨ Github åº”ç”¨ç¨‹åºä¸­ï¼Œæ‚¨éœ€è¦æŒ‡å®šåº”ç”¨ç¨‹åºå°†æœ‰æƒè®¿é—®çš„ä»“åº“ã€‚

* è¦å®‰è£… GitHub åº”ç”¨ç¨‹åºï¼Œæ‚¨å¿…é¡»æ˜¯**ç»„ç»‡æ‰€æœ‰è€…æˆ–åœ¨ä»“åº“ä¸­æ‹¥æœ‰ç®¡ç†å‘˜æƒé™**ã€‚
* GitHub åº”ç”¨ç¨‹åºåº”è¯¥**è¿æ¥åˆ°ä¸ªäººè´¦æˆ·æˆ–ç»„ç»‡**ã€‚
* æ‚¨å¯ä»¥åœ¨ [https://github.com/settings/apps](https://github.com/settings/apps) åˆ›å»ºæ‚¨è‡ªå·±çš„ Github åº”ç”¨ç¨‹åº
* æ‚¨å¯ä»¥åœ¨ [https://github.com/settings/apps/authorizations](https://github.com/settings/apps/authorizations) æŸ¥çœ‹æ‰€æœ‰**æœ‰æƒè®¿é—®æ‚¨è´¦æˆ·çš„ Github åº”ç”¨ç¨‹åº**
* è¿™äº›æ˜¯**Github åº”ç”¨ç¨‹åºçš„ API ç«¯ç‚¹** [https://docs.github.com/en/rest/overview/endpoints-available-for-github-app](https://docs.github.com/en/rest/overview/endpoints-available-for-github-apps)ã€‚æ ¹æ®åº”ç”¨ç¨‹åºçš„æƒé™ï¼Œå®ƒå°†èƒ½å¤Ÿè®¿é—®å…¶ä¸­çš„ä¸€äº›
* æ‚¨å¯ä»¥åœ¨ _https://github.com/organizations/\<org\_name>/settings/installations_ æŸ¥çœ‹**ç»„ç»‡**ä¸­å®‰è£…çš„åº”ç”¨ç¨‹åº

ä¸€äº›å®‰å…¨å»ºè®®ï¼š

* GitHub åº”ç”¨ç¨‹åºåº”è¯¥**ç‹¬ç«‹äºç”¨æˆ·é‡‡å–è¡ŒåŠ¨**ï¼ˆé™¤éåº”ç”¨ç¨‹åºä½¿ç”¨[ç”¨æˆ·åˆ°æœåŠ¡å™¨](https://docs.github.com/en/apps/building-github-apps/identifying-and-authorizing-users-for-github-apps#user-to-server-requests)ä»¤ç‰Œï¼‰ã€‚ä¸ºäº†ä½¿ç”¨æˆ·åˆ°æœåŠ¡å™¨è®¿é—®ä»¤ç‰Œæ›´å®‰å…¨ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨å°†åœ¨ 8 å°æ—¶åè¿‡æœŸçš„è®¿é—®ä»¤ç‰Œï¼Œä»¥åŠå¯ä»¥äº¤æ¢æ–°è®¿é—®ä»¤ç‰Œçš„åˆ·æ–°ä»¤ç‰Œã€‚æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…â€œ[åˆ·æ–°ç”¨æˆ·åˆ°æœåŠ¡å™¨è®¿é—®ä»¤ç‰Œ](https://docs.github.com/en/apps/building-github-apps/refreshing-user-to-server-access-tokens)ã€‚â€
* ç¡®ä¿ GitHub åº”ç”¨ç¨‹åºä¸**ç‰¹å®šä»“åº“**é›†æˆã€‚
* GitHub åº”ç”¨ç¨‹åºåº”è¯¥**è¿æ¥åˆ°ä¸ªäººè´¦æˆ·æˆ–ç»„ç»‡**ã€‚
* ä¸è¦æœŸæœ› GitHub åº”ç”¨ç¨‹åºçŸ¥é“å¹¶åšç”¨æˆ·å¯ä»¥åšçš„ä¸€åˆ‡ã€‚
* **å¦‚æœæ‚¨åªéœ€è¦â€œä½¿ç”¨ GitHub ç™»å½•â€æœåŠ¡ï¼Œä¸è¦ä½¿ç”¨ GitHub åº”ç”¨ç¨‹åº**ã€‚ä½†æ˜¯ï¼ŒGitHub åº”ç”¨ç¨‹åºå¯ä»¥ä½¿ç”¨[ç”¨æˆ·è¯†åˆ«æµç¨‹](https://docs.github.com/en/apps/building-github-apps/identifying-and-authorizing-users-for-github-apps)æ¥ç™»å½•ç”¨æˆ·_å¹¶_åšå…¶ä»–äº‹æƒ…ã€‚
* å¦‚æœæ‚¨_åªæ˜¯_æƒ³ä½œä¸º GitHub ç”¨æˆ·è¡ŒåŠ¨å¹¶åšç”¨æˆ·å¯ä»¥åšçš„ä¸€åˆ‡ï¼Œä¸è¦æ„å»º GitHub åº”ç”¨ç¨‹åºã€‚
* å¦‚æœæ‚¨è¦å°†åº”ç”¨ç¨‹åºä¸ GitHub Actions ä¸€èµ·ä½¿ç”¨ï¼Œå¹¶å¸Œæœ›ä¿®æ”¹å·¥ä½œæµæ–‡ä»¶ï¼Œåˆ™å¿…é¡»ä»£è¡¨ç”¨æˆ·ä½¿ç”¨åŒ…å« `workflow` èŒƒå›´çš„ OAuth ä»¤ç‰Œè¿›è¡Œèº«ä»½éªŒè¯ã€‚ç”¨æˆ·å¿…é¡»å¯¹åŒ…å«å·¥ä½œæµæ–‡ä»¶çš„ä»“åº“æ‹¥æœ‰ç®¡ç†å‘˜æˆ–å†™æƒé™ã€‚æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…â€œ[äº†è§£ OAuth åº”ç”¨ç¨‹åºçš„èŒƒå›´](https://docs.github.com/en/apps/building-oauth-apps/understanding-scopes-for-oauth-apps/#available-scopes)ã€‚â€
* **æ›´å¤š**ä¿¡æ¯åœ¨[è¿™é‡Œ](https://docs.github.com/en/developers/apps/getting-started-with-apps/about-apps#about-github-apps)ã€‚

### Github Actions

è¿™**ä¸æ˜¯ä¸€ç§åœ¨ github ä¸Šè¿›è¡Œèº«ä»½éªŒè¯çš„æ–¹å¼**ï¼Œä½†æ˜¯**æ¶æ„**çš„ Github Action å¯èƒ½ä¼šè·å¾—**æœªç»æˆæƒçš„è®¿é—® github**ï¼Œå¹¶ä¸”**æ ¹æ®**èµ‹äºˆ Action çš„**æƒé™**ï¼Œå¯èƒ½ä¼šè¿›è¡Œå¤šç§**ä¸åŒçš„æ”»å‡»**ã€‚æ›´å¤šä¿¡æ¯è¯·è§ä¸‹æ–‡ã€‚

## Git Actions

Git actions å…è®¸åœ¨å‘ç”Ÿäº‹ä»¶æ—¶è‡ªåŠ¨åŒ–**æ‰§è¡Œä»£ç **ã€‚é€šå¸¸æ‰§è¡Œçš„ä»£ç **ä¸ä»“åº“çš„ä»£ç æœ‰å…³**ï¼ˆå¯èƒ½æ˜¯æ„å»ºä¸€ä¸ª docker å®¹å™¨æˆ–æ£€æŸ¥ PR æ˜¯å¦åŒ…å«ç§˜å¯†ï¼‰ã€‚
### é…ç½®

åœ¨ _https://github.com/organizations/\<org\_name>/settings/actions_ å¯ä»¥æ£€æŸ¥ç»„ç»‡çš„**GitHub Actions é…ç½®**ã€‚

å¯ä»¥å®Œå…¨ç¦æ­¢ä½¿ç”¨ GitHub Actionsï¼Œ**å…è®¸æ‰€æœ‰ GitHub Actions**ï¼Œæˆ–è€…åªå…è®¸æŸäº› Actionsã€‚

è¿˜å¯ä»¥é…ç½®**è°éœ€è¦æ‰¹å‡†æ‰èƒ½è¿è¡Œ GitHub Action**ä»¥åŠè¿è¡Œæ—¶ GitHub Action çš„ **GITHUB\_TOKEN** çš„**æƒé™**ã€‚

### Git Secrets

GitHub Action é€šå¸¸éœ€è¦ä¸€äº›ç§˜å¯†æ¥ä¸ GitHub æˆ–ç¬¬ä¸‰æ–¹åº”ç”¨ç¨‹åºäº¤äº’ã€‚ä¸ºäº†**é¿å…åœ¨ä»“åº“ä¸­æ˜æ–‡æ”¾ç½®**ï¼ŒGitHub å…è®¸å°†å®ƒä»¬è®¾ç½®ä¸º**Secrets**ã€‚

è¿™äº›ç§˜å¯†å¯ä»¥ä¸º**ä»“åº“æˆ–æ•´ä¸ªç»„ç»‡**é…ç½®ã€‚ç„¶åï¼Œä¸ºäº†è®© **Action èƒ½å¤Ÿè®¿é—®ç§˜å¯†**ï¼Œä½ éœ€è¦å£°æ˜å®ƒï¼Œåƒè¿™æ ·ï¼š
```yaml
steps:
- name: Hello world action
with: # Set the secret as an input
super_secret: ${{ secrets.SuperSecret }}
env: # Or as an environment variable
super_secret: ${{ secrets.SuperSecret }}
```
#### ä½¿ç”¨ Bash ç¤ºä¾‹ <a href="#example-using-bash" id="example-using-bash"></a>
```yaml
steps:
- shell: bash
env:
SUPER_SECRET: ${{ secrets.SuperSecret }}
run: |
example-command "$SUPER_SECRET"
```
{% hint style="warning" %}
å¯†é’¥**åªèƒ½ä»å£°æ˜äº†å®ƒä»¬çš„ Github Actions ä¸­è®¿é—®**ã€‚

ä¸€æ—¦åœ¨ä»“åº“æˆ–ç»„ç»‡ä¸­é…ç½®ï¼Œ**github çš„ç”¨æˆ·å°†æ— æ³•å†æ¬¡è®¿é—®å®ƒä»¬**ï¼Œä»–ä»¬åªèƒ½**æ›´æ”¹å®ƒä»¬**ã€‚
{% endhint %}

å› æ­¤ï¼Œ**çªƒå– github å¯†é’¥çš„å”¯ä¸€æ–¹æ³•æ˜¯èƒ½å¤Ÿè®¿é—®æ‰§è¡Œ Github Action çš„æœºå™¨**ï¼ˆåœ¨è¯¥åœºæ™¯ä¸­ï¼Œæ‚¨å°†åªèƒ½è®¿é—®ä¸º Action å£°æ˜çš„å¯†é’¥ï¼‰ã€‚

### Git ç¯å¢ƒ

Github å…è®¸åˆ›å»º**ç¯å¢ƒ**ï¼Œæ‚¨å¯ä»¥åœ¨å…¶ä¸­ä¿å­˜**å¯†é’¥**ã€‚ç„¶åï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ç±»ä¼¼ä»¥ä¸‹æ–¹å¼æˆäºˆ github action è®¿é—®ç¯å¢ƒä¸­çš„å¯†é’¥ï¼š
```yaml
jobs:
deployment:
runs-on: ubuntu-latest
environment: env_name
```
```markdown
æ‚¨å¯ä»¥é…ç½®ç¯å¢ƒä»¥è¢«**æ‰€æœ‰åˆ†æ”¯**ï¼ˆé»˜è®¤ï¼‰ã€**ä»…å—ä¿æŠ¤**åˆ†æ”¯è®¿é—®æˆ–**æŒ‡å®š**å“ªäº›åˆ†æ”¯å¯ä»¥è®¿é—®å®ƒã€‚
å®ƒè¿˜å¯ä»¥è®¾ç½®åœ¨ä½¿ç”¨**ç¯å¢ƒ**æ‰§è¡Œ**æ“ä½œ**ä¹‹å‰æ‰€éœ€çš„**å®¡æŸ¥æ•°é‡**ï¼Œæˆ–åœ¨å…è®¸éƒ¨ç½²ç»§ç»­ä¹‹å‰**ç­‰å¾…**ä¸€æ®µ**æ—¶é—´**ã€‚

### Git Action Runner

Github Action å¯ä»¥åœ¨**github ç¯å¢ƒå†…æ‰§è¡Œ**ï¼Œä¹Ÿå¯ä»¥åœ¨ç”¨æˆ·é…ç½®çš„**ç¬¬ä¸‰æ–¹åŸºç¡€è®¾æ–½**ä¸­æ‰§è¡Œã€‚

è®¸å¤šç»„ç»‡ä¼šå…è®¸åœ¨**ç¬¬ä¸‰æ–¹åŸºç¡€è®¾æ–½**ä¸­è¿è¡Œ Github Actionsï¼Œå› ä¸ºè¿™é€šå¸¸ä¼šæ›´**ä¾¿å®œ**ã€‚

æ‚¨å¯ä»¥åœ¨ _https://github.com/organizations/\<org\_name>/settings/actions/runners_ åˆ—å‡ºç»„ç»‡çš„è‡ªæ‰˜ç®¡è¿è¡Œå™¨

æ‰¾å‡ºå“ªäº›**Github Actions åœ¨é github åŸºç¡€è®¾æ–½ä¸­æ‰§è¡Œ**çš„æ–¹æ³•æ˜¯åœ¨ Github Action é…ç½® yaml ä¸­æœç´¢ `runs-on: self-hosted`ã€‚

**ä¸å¯èƒ½åœ¨ä¸åŒç»„ç»‡çš„è‡ªæ‰˜ç®¡ç›’å­å†…è¿è¡Œç»„ç»‡çš„ Github Action**ï¼Œå› ä¸ºé…ç½® Runner æ—¶ä¼šç”Ÿæˆ**å”¯ä¸€çš„ä»¤ç‰Œ**ä»¥çŸ¥é“ Runner å±äºå“ªé‡Œã€‚

å¦‚æœè‡ªå®šä¹‰çš„**Github Runner é…ç½®åœ¨ AWS æˆ– GCP å†…çš„æœºå™¨ä¸Š**ï¼Œä¾‹å¦‚ï¼ŒAction **å¯èƒ½è®¿é—®å…ƒæ•°æ®ç«¯ç‚¹**å¹¶**çªƒå–æœºå™¨æ­£åœ¨ä½¿ç”¨çš„æœåŠ¡å¸æˆ·çš„ä»¤ç‰Œ**ã€‚

### Git Action Compromise

å¦‚æœå…è®¸æ‰€æœ‰æ“ä½œï¼ˆæˆ–æ¶æ„æ“ä½œï¼‰ï¼Œç”¨æˆ·å¯ä»¥ä½¿ç”¨**æ¶æ„çš„ Github action**ï¼Œå°†**å±å®³**æ­£åœ¨æ‰§è¡Œçš„**å®¹å™¨**ã€‚

{% hint style="danger" %}
æ¶æ„ Github Action è¿è¡Œå¯èƒ½è¢«æ”»å‡»è€…**æ»¥ç”¨**æ¥ï¼š

* **çªƒå– Action å¯è®¿é—®çš„æ‰€æœ‰ç§˜å¯†**
* **æ¨ªå‘ç§»åŠ¨**ï¼Œå¦‚æœ Action åœ¨å¯ä»¥è®¿é—®ç”¨äºè¿è¡Œæœºå™¨çš„ SA ä»¤ç‰Œçš„**ç¬¬ä¸‰æ–¹åŸºç¡€è®¾æ–½**å†…æ‰§è¡Œï¼ˆå¯èƒ½é€šè¿‡å…ƒæ•°æ®æœåŠ¡ï¼‰
* **æ»¥ç”¨å·¥ä½œæµ**ä½¿ç”¨çš„**ä»¤ç‰Œ**æ¥**çªƒå–æ‰§è¡Œ Action çš„ä»“åº“çš„ä»£ç **æˆ–**ç”šè‡³ä¿®æ”¹å®ƒ**ã€‚
{% endhint %}

## åˆ†æ”¯ä¿æŠ¤

åˆ†æ”¯ä¿æŠ¤æ—¨åœ¨**ä¸å®Œå…¨æ§åˆ¶ç”¨æˆ·å¯¹ä»“åº“çš„æ§åˆ¶**ã€‚ç›®æ ‡æ˜¯åœ¨èƒ½å¤Ÿåœ¨æŸäº›åˆ†æ”¯å†…ç¼–å†™ä»£ç ä¹‹å‰**è®¾ç½®å‡ ç§ä¿æŠ¤æ–¹æ³•**ã€‚

å¯ä»¥åœ¨ _https://github.com/\<orgname>/\<reponame>/settings/branches_ æ‰¾åˆ°**ä»“åº“çš„åˆ†æ”¯ä¿æŠ¤**

{% hint style="info" %}
**ä¸å¯èƒ½åœ¨ç»„ç»‡çº§åˆ«è®¾ç½®åˆ†æ”¯ä¿æŠ¤**ã€‚å› æ­¤ï¼Œæ‰€æœ‰è¿™äº›éƒ½å¿…é¡»åœ¨æ¯ä¸ªä»“åº“ä¸­å£°æ˜ã€‚
{% endhint %}

å¯ä»¥å¯¹åˆ†æ”¯åº”ç”¨ä¸åŒçš„ä¿æŠ¤ï¼ˆå¦‚ masterï¼‰ï¼š

* æ‚¨å¯ä»¥**è¦æ±‚åœ¨åˆå¹¶å‰æå‡º PR**ï¼ˆå› æ­¤æ‚¨ä¸èƒ½ç›´æ¥åœ¨åˆ†æ”¯ä¸Šåˆå¹¶ä»£ç ï¼‰ã€‚å¦‚æœé€‰æ‹©äº†è¿™ä¸ªï¼Œå¯ä»¥æ”¾ç½®ä¸åŒçš„å…¶ä»–ä¿æŠ¤ï¼š
* **è¦æ±‚æ‰¹å‡†æ•°é‡**ã€‚é€šå¸¸è¦æ±‚ 1 æˆ– 2 ä¸ªä»¥ä¸Šçš„äººæ‰¹å‡†æ‚¨çš„ PRï¼Œè¿™æ ·å•ä¸ªç”¨æˆ·å°±ä¸èƒ½ç›´æ¥åˆå¹¶ä»£ç ã€‚
* **æ¨é€æ–°æäº¤æ—¶è§£é™¤æ‰¹å‡†**ã€‚å¦‚æœä¸è¿™æ ·åšï¼Œç”¨æˆ·å¯èƒ½ä¼šæ‰¹å‡†åˆæ³•ä»£ç ï¼Œç„¶åç”¨æˆ·å¯èƒ½ä¼šæ·»åŠ æ¶æ„ä»£ç å¹¶åˆå¹¶å®ƒã€‚
* **è¦æ±‚ä»£ç æ‰€æœ‰è€…å®¡æŸ¥**ã€‚è‡³å°‘éœ€è¦ 1 ä¸ªä»£ç æ‰€æœ‰è€…æ‰¹å‡† PRï¼ˆå› æ­¤â€œéšæœºâ€ç”¨æˆ·ä¸èƒ½æ‰¹å‡†å®ƒï¼‰
* **é™åˆ¶è°å¯ä»¥è§£é™¤æ‹‰å–è¯·æ±‚å®¡æŸ¥ã€‚** æ‚¨å¯ä»¥æŒ‡å®šå…è®¸è§£é™¤æ‹‰å–è¯·æ±‚å®¡æŸ¥çš„äººå‘˜æˆ–å›¢é˜Ÿã€‚
* **å…è®¸æŒ‡å®šçš„å‚ä¸è€…ç»•è¿‡æ‹‰å–è¯·æ±‚è¦æ±‚**ã€‚è¿™äº›ç”¨æˆ·å°†èƒ½å¤Ÿç»•è¿‡ä»¥å‰çš„é™åˆ¶ã€‚
* **è¦æ±‚çŠ¶æ€æ£€æŸ¥åœ¨åˆå¹¶å‰é€šè¿‡ã€‚** åœ¨èƒ½å¤Ÿåˆå¹¶æäº¤ä¹‹å‰ï¼Œéœ€è¦é€šè¿‡ä¸€äº›æ£€æŸ¥ï¼ˆå¦‚ github action æ£€æŸ¥æ˜¯å¦æœ‰ä»»ä½•æ˜æ–‡ç§˜å¯†ï¼‰ã€‚
* **è¦æ±‚åœ¨åˆå¹¶å‰è§£å†³å¯¹è¯**ã€‚åœ¨ PR å¯ä»¥åˆå¹¶ä¹‹å‰ï¼Œéœ€è¦è§£å†³ä»£ç ä¸Šçš„æ‰€æœ‰è¯„è®ºã€‚
* **è¦æ±‚ç­¾åæäº¤**ã€‚æäº¤éœ€è¦ç­¾åã€‚
* **è¦æ±‚çº¿æ€§å†å²ã€‚** é˜²æ­¢å°†åˆå¹¶æäº¤æ¨é€åˆ°åŒ¹é…çš„åˆ†æ”¯ã€‚
* **åŒ…æ‹¬ç®¡ç†å‘˜**ã€‚å¦‚æœæ²¡æœ‰è®¾ç½®ï¼Œç®¡ç†å‘˜å¯ä»¥ç»•è¿‡é™åˆ¶ã€‚
* **é™åˆ¶è°å¯ä»¥æ¨é€åˆ°åŒ¹é…çš„åˆ†æ”¯**ã€‚é™åˆ¶è°å¯ä»¥å‘é€ PRã€‚

{% hint style="info" %}
å¦‚æ‚¨æ‰€è§ï¼Œå³ä½¿æ‚¨è®¾æ³•è·å¾—äº†æŸä¸ªç”¨æˆ·çš„ä¸€äº›å‡­æ®ï¼Œ**ä»“åº“å¯èƒ½å—åˆ°ä¿æŠ¤ï¼Œé¿å…æ‚¨å°†ä»£ç æ¨é€åˆ° master**ï¼Œä¾‹å¦‚å±å®³ CI/CD ç®¡é“ã€‚
{% endhint %}

## å‚è€ƒèµ„æ–™

* [https://docs.github.com/en/organizations/managing-access-to-your-organizations-repositories/repository-roles-for-an-organization](https://docs.github.com/en/organizations/managing-access-to-your-organizations-repositories/repository-roles-for-an-organization)
* [https://docs.github.com/en/enterprise-server@3.3/admin/user-management/managing-users-in-your-enterprise/roles-in-an-enterprise](https://docs.github.com/en/enterprise-server@3.3/admin/user-management/managing-users-in-your-enterprise/roles-in-an-enterprise)[https://docs.github.com/en/enterprise-server](https://docs.github.com/en/enterprise-server@3.3/admin/user-management/managing-users-in-your-enterprise/roles-in-an-enterprise)
* [https://docs.github.com/en/get-started/learning-about-github/access-permissions-on-github](https://docs.github.com/en/get-started/learning-about-github/access-permissions-on-github)
* [https://docs.github.com/en/account-and-profile/setting-up-and-managing-your-github-user-account/managing-user-account-settings/permission-levels-for-user-owned-project-boards](https://docs.github.com/en/account-and-profile/setting-up-and-managing-your-github-user-account/managing-user-account-settings/permission-levels-for-user-owned-project-boards)
* [https://docs.github.com/en/actions/security-guides/encrypted-secrets](https://docs.github.com/en/actions/security-guides/encrypted-secrets)

<details>

<summary><strong>é€šè¿‡</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong> ä»é›¶å¼€å§‹å­¦ä¹  AWS é»‘å®¢æ”»å‡»ï¼</strong></summary>

æ”¯æŒ HackTricks çš„å…¶ä»–æ–¹å¼ï¼š

* å¦‚æœæ‚¨æƒ³åœ¨ HackTricks ä¸­çœ‹åˆ°æ‚¨çš„**å…¬å¸å¹¿å‘Š**æˆ–**ä¸‹è½½ HackTricks çš„ PDF**ï¼Œè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)ï¼
* è·å–[**å®˜æ–¹ PEASS & HackTricks å•†å“**](https://peass.creator-spring.com)
* å‘ç°[**PEASS å®¶æ—**](https://opensea.io/collection/the-peass-family)ï¼Œæˆ‘ä»¬ç‹¬å®¶çš„[**NFTs**](https://opensea.io/collection/the-peass-family)ç³»åˆ—
* **åŠ å…¥** ğŸ’¬ [**Discord ç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**telegram ç¾¤ç»„**](https://t.me/peass) æˆ–åœ¨ **Twitter** ğŸ¦ ä¸Š**å…³æ³¨**æˆ‘ [**@carlospolopm**](https://twitter.com/carlospolopm)**ã€‚**
* é€šè¿‡å‘ [**HackTricks**](https://github.com/carlospolop/hacktricks) å’Œ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github ä»“åº“æäº¤ PR æ¥**åˆ†äº«æ‚¨çš„é»‘å®¢æŠ€å·§**ã€‚

</details>
```
