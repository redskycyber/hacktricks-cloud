# Gh Actions - è„šæœ¬æ³¨å…¥

<details>

<summary><strong>ä»é›¶åˆ°è‹±é›„å­¦ä¹ AWSé»‘å®¢æ”»å‡»</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>ï¼</strong></summary>

æ”¯æŒHackTricksçš„å…¶ä»–æ–¹å¼ï¼š

* å¦‚æœæ‚¨æƒ³åœ¨ **HackTricksä¸­çœ‹åˆ°æ‚¨çš„å…¬å¸å¹¿å‘Š** æˆ– **ä¸‹è½½HackTricksçš„PDF**ï¼Œè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)ï¼
* è·å–[**å®˜æ–¹PEASS & HackTrickså•†å“**](https://peass.creator-spring.com)
* å‘ç°[**PEASSå®¶æ—**](https://opensea.io/collection/the-peass-family)ï¼Œæˆ‘ä»¬ç‹¬å®¶çš„[**NFTsç³»åˆ—**](https://opensea.io/collection/the-peass-family)
* **åŠ å…¥** ğŸ’¬ [**Discordç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**telegramç¾¤ç»„**](https://t.me/peass) æˆ–åœ¨ **Twitter** ğŸ¦ ä¸Š**å…³æ³¨**æˆ‘ [**@carlospolopm**](https://twitter.com/carlospolopm)**ã€‚**
* **é€šè¿‡å‘** [**HackTricks**](https://github.com/carlospolop/hacktricks) å’Œ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) githubä»“åº“æäº¤PRæ¥åˆ†äº«æ‚¨çš„é»‘å®¢æŠ€å·§ã€‚

</details>

## åŸºæœ¬ä¿¡æ¯

è¯·æ³¨æ„ï¼Œæœ‰ä¸€äº›[**githubä¸Šä¸‹æ–‡**](https://docs.github.com/en/actions/reference/context-and-expression-syntax-for-github-actions#github-context)çš„å€¼æ˜¯ç”±åˆ›å»ºPRçš„**ç”¨æˆ·** **æ§åˆ¶**çš„ã€‚å¦‚æœgithub actionä½¿ç”¨è¯¥**æ•°æ®æ‰§è¡Œä»»ä½•æ“ä½œ**ï¼Œå®ƒå¯èƒ½å¯¼è‡´**ä»»æ„ä»£ç æ‰§è¡Œ**ã€‚è¿™äº›ä¸Šä¸‹æ–‡é€šå¸¸ä»¥`body`ã€`default_branch`ã€`email`ã€`head_ref`ã€`label`ã€`message`ã€`name`ã€`page_name`ã€`ref`å’Œ`title`ç»“å°¾ã€‚ä¾‹å¦‚ï¼ˆåˆ—è¡¨æ¥è‡ªè¿™ä¸ª[**å†™ä½œ**](https://medium.com/tinder/exploiting-github-actions-on-open-source-projects-5d93936d189f)ï¼‰ï¼š

* github.event.comment.body
* github.event.issue.body
* github.event.issue.title
* github.head\_ref
* github.pull\_request.\*
* github.\*.\*.authors.name
* github.\*.\*.authors.email

è¯·æ³¨æ„ï¼Œè¿™é‡Œè¿˜æœ‰ä¸€äº›**ä¸å¤ªæ˜æ˜¾çš„æ½œåœ¨ä¸å—ä¿¡ä»»è¾“å…¥æº**ï¼Œä¾‹å¦‚åˆ†æ”¯åç§°å’Œç”µå­é‚®ä»¶åœ°å€ï¼Œè¿™äº›å¯ä»¥åœ¨å…è®¸çš„å†…å®¹æ–¹é¢**ç›¸å½“çµæ´»**ã€‚ä¾‹å¦‚ï¼Œ`zzz";echo${IFS}"hello";#` å°†æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„åˆ†æ”¯åç§°ï¼Œå¹¶ä¸”å¯èƒ½æˆä¸ºé’ˆå¯¹ç›®æ ‡ä»“åº“çš„æ½œåœ¨æ”»å‡»å‘é‡ã€‚

### è„šæœ¬æ³¨å…¥æ”»å‡»ç¤ºä¾‹ <a href="#example-of-a-script-injection-attack" id="example-of-a-script-injection-attack"></a>

è„šæœ¬æ³¨å…¥æ”»å‡»å¯ä»¥ç›´æ¥åœ¨å·¥ä½œæµçš„å†…è”è„šæœ¬ä¸­å‘ç”Ÿã€‚åœ¨ä»¥ä¸‹ç¤ºä¾‹ä¸­ï¼Œä¸€ä¸ªåŠ¨ä½œä½¿ç”¨**è¡¨è¾¾å¼æ¥æµ‹è¯•æ‹‰å–è¯·æ±‚æ ‡é¢˜çš„æœ‰æ•ˆæ€§**ï¼Œä½†ä¹Ÿå¢åŠ äº†è„šæœ¬æ³¨å…¥çš„é£é™©ï¼š
```yaml
- name: Check PR title
run: |
title="${{ github.event.pull_request.title }}"
if [[ $title =~ ^octocat ]]; then
echo "PR title starts with 'octocat'"
exit 0
else
echo "PR title did not start with 'octocat'"
exit 1
fi
```
åœ¨è¿è¡Œ shell è„šæœ¬ä¹‹å‰ï¼Œ`${{ }}` å†…çš„è¡¨è¾¾å¼ä¼šè¢«**è¯„ä¼°**å¹¶æ›¿æ¢ä¸ºç»“æœå€¼ï¼Œè¿™å¯èƒ½å¯¼è‡´**å®¹æ˜“å—åˆ° shell å‘½ä»¤æ³¨å…¥æ”»å‡»**ã€‚

ä¸ºäº†å‘è¿™ä¸ªå·¥ä½œæµæ³¨å…¥å‘½ä»¤ï¼Œæ”»å‡»è€…å¯ä»¥åˆ›å»ºä¸€ä¸ªæ ‡é¢˜ä¸º **`a"; ls $GITHUB_WORKSPACE"`** çš„æ‹‰å–è¯·æ±‚ã€‚

åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ**`"`** å­—ç¬¦ç”¨äºä¸­æ–­ `title=`**`"${{ github.event.pull_request.title }}"`** è¯­å¥ï¼Œå…è®¸åœ¨è¿è¡Œå™¨ä¸Šæ‰§è¡Œ `ls` å‘½ä»¤ã€‚

<details>

<summary><strong>ä»é›¶å¼€å§‹å­¦ä¹  AWS é»‘å®¢æŠ€æœ¯ï¼Œæˆä¸º</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS çº¢é˜Ÿä¸“å®¶)</strong></a><strong>ï¼</strong></summary>

æ”¯æŒ HackTricks çš„å…¶ä»–æ–¹å¼ï¼š

* å¦‚æœä½ æƒ³åœ¨ HackTricks ä¸Šçœ‹åˆ°ä½ çš„**å…¬å¸å¹¿å‘Š**æˆ–**ä¸‹è½½ HackTricks çš„ PDF**ï¼Œè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)ï¼
* è·å–[**å®˜æ–¹ PEASS & HackTricks å•†å“**](https://peass.creator-spring.com)
* å‘ç°[**PEASS å®¶æ—**](https://opensea.io/collection/the-peass-family)ï¼Œæˆ‘ä»¬ç‹¬å®¶çš„[**NFT é›†åˆ**](https://opensea.io/collection/the-peass-family)
* **åŠ å…¥** ğŸ’¬ [**Discord ç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**telegram ç¾¤ç»„**](https://t.me/peass) æˆ–åœ¨ **Twitter** ğŸ¦ ä¸Š**å…³æ³¨**æˆ‘ [**@carlospolopm**](https://twitter.com/carlospolopm)**ã€‚**
* **é€šè¿‡å‘** [**HackTricks**](https://github.com/carlospolop/hacktricks) å’Œ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github ä»“åº“æäº¤ PR æ¥**åˆ†äº«ä½ çš„é»‘å®¢æŠ€å·§**ã€‚

</details>
