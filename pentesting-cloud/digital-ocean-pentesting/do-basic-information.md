# DO - 基本情報

<details>

<summary><strong>htARTE（HackTricks AWS Red Team Expert）</strong>を通じて、ゼロからヒーローまでAWSハッキングを学びましょう！</summary>

HackTricksをサポートする他の方法：

- **HackTricksで企業を宣伝**したい場合や**HackTricksをPDFでダウンロード**したい場合は、[**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)をチェックしてください！
- [**公式PEASS＆HackTricksスウェグ**](https://peass.creator-spring.com)を手に入れる
- [**The PEASS Family**](https://opensea.io/collection/the-peass-family)を発見し、独占的な[**NFTs**](https://opensea.io/collection/the-peass-family)のコレクションを見つける
- **Discordグループ**に**参加**する💬 ([**Discord group**](https://discord.gg/hRep4RUj7f))または[**telegram group**](https://t.me/peass)に**参加**するか、**Twitter** 🐦で私たちをフォローする [**@hacktricks_live**](https://twitter.com/hacktricks_live)。
- **HackTricks**と[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud)のGitHubリポジトリにPRを提出して、あなたのハッキングテクニックを共有してください。

</details>

## 基本情報

DigitalOceanは、**仮想プライベートサーバー（VPS）やその他のリソースを提供するクラウドコンピューティングプラットフォーム**であり、アプリケーションの構築、展開、管理に使用できるさまざまなサービスをユーザーに提供します。**DigitalOceanのサービスはシンプルで使いやすく設計されており**、**開発者や中小企業の間で人気**があります。

DigitalOceanの主な機能には次のものがあります：

- **仮想プライベートサーバー（VPS）**：DigitalOceanは、ウェブサイトやアプリケーションのホスティングに使用できるVPSを提供しています。これらのVPSはシンプルで使いやすいことで知られており、さまざまな事前構築された「ドロップレット」やカスタム構成を使用して迅速かつ簡単に展開できます。
- **ストレージ**：DigitalOceanは、オブジェクトストレージ、ブロックストレージ、管理データベースなど、ウェブサイトやアプリケーションのデータを保存および管理するために使用できるさまざまなストレージオプションを提供しています。
- **開発および展開ツール**：DigitalOceanは、APIや事前構築されたドロップレットなど、アプリケーションの構築、展開、管理に使用できるさまざまなツールを提供しています。
- **セキュリティ**：DigitalOceanはセキュリティに重点を置いており、データやアプリケーションを安全に保つためのさまざまなツールや機能を提供しています。これには暗号化、バックアップ、その他のセキュリティ対策が含まれます。

全体として、DigitalOceanはクラウドコンピューティングプラットフォームであり、クラウドでアプリケーションを構築、展開、管理するために必要なツールとリソースをユーザーに提供します。そのサービスはシンプルで使いやすく設計されており、開発者や中小企業の間で人気があります。

### AWSとの主な違い

DigitalOceanとAWSの主な違いの1つは、**提供されるサービスの範囲**です。**DigitalOceanはシンプルな**VPS、ストレージ、開発および展開ツールを提供することに焦点を当てています。**AWS**は、VPS、ストレージ、データベース、機械学習、分析など、**はるかに幅広いサービスを提供**しています。これにより、AWSは複雑なエンタープライズレベルのアプリケーションに適している一方、DigitalOceanは中小企業や開発者向けにより適しています。

両プラットフォームのもう1つの主な違いは、**価格体系**です。**DigitalOceanの価格設定は一般的にAWSよりもわかりやすく簡単**であり、使用されるドロップレットやその他のリソースの数に基づいているさまざまな価格プランがあります。一方、AWSは、使用されるリソースの種類や量など、さまざまな要因に基づいているより複雑な価格体系を持っています。これにより、AWSを使用する際にコストを予測するのがより難しくなる可能性があります。

## 階層

### ユーザー

ユーザーは、期待通りのユーザーです。**チームを作成**し、**さまざまなチームのメンバーになる**ことができます。

### チーム

チームは**ユーザー**のグループです。ユーザーがチームを作成すると、そのチームで**所有者の役割**を持ち、最初に**請求情報を設定**します。その後、他のユーザーをチームに**招待**できます。

チーム内には複数の**プロジェクト**が存在する場合があります。プロジェクトは単に**一緒に実行されるサービスのセット**です。これは、本番、ステージング、開発など、異なるインフラステージを**分離**するために使用できます。

### プロジェクト

説明したように、プロジェクトは、それ内で**一緒に実行されるすべてのサービス**（ドロップレット、スペース、データベース、Kubernetesなど）のコンテナにすぎません。\
Digital Oceanのプロジェクトは、IAMのないGCPプロジェクトに非常に似ています。

## 権限

### チーム

基本的に、チームのすべてのメンバーは、そのチーム内で作成されたすべてのプロジェクトの**DOリソースにアクセスできます（権限に応じて）**。

### 役割

チーム内の**各ユーザー**は、次の3つの**役割**のいずれかを持つことができます：

| 役割       | 共有リソース | 請求情報 | チーム設定 |
| ---------- | ------------ | --------- | ----------- |
| **所有者**  | 完全アクセス | 完全アクセス | 完全アクセス |
| **請求者** | アクセスなし | 完全アクセス | アクセスなし |
| **メンバー** | 完全アクセス | アクセスなし | アクセスなし |

**所有者**と**メンバーはユーザーをリストアップ**し、その**役割**を確認できます（請求者はできません）。

## アクセス

### ユーザー名 + パスワード（MFA）

ほとんどのプラットフォームと同様に、GUIにアクセスするためには、クラウドの**リソース**にアクセスするための**有効なユーザー名とパスワード**を使用できます。ログインすると、[https://cloud.digitalocean.com/account/profile](https://cloud.digitalocean.com/account/profile)で所属する**すべてのチーム**を見ることができます。\
また、[https://cloud.digitalocean.com/account/activity](https://cloud.digitalocean.com/account/activity)ですべてのアクティビティを確認できます。

ユーザーで**MFA**を**有効**にし、チームにアクセスするためにすべてのユーザーに**強制**することができます。

### APIキー

APIを使用するために、ユーザーは**APIキーを生成**できます。これらは常に読み取り権限を持っていますが、**書き込み権限はオプション**です。\
APIキーは次のようになります：
```
dop_v1_1946a92309d6240274519275875bb3cb03c1695f60d47eaa1532916502361836
```
cliツールは[**doctl**](https://github.com/digitalocean/doctl#installing-doctl)です。トークンを使用して初期化します：
```bash
doctl auth init # Asks for the token
doctl auth init --context my-context # Login with a different token
doctl auth list # List accounts
```
デフォルトでは、このトークンはMacの`/Users/<username>/Library/Application Support/doctl/config.yaml`にクリアテキストで書かれます。

### スペースアクセスキー

これらは、**Spacesへのアクセス**（AWSのS3やGCPのストレージのような）を提供するキーです。

これらは**名前**、**キーID**、**シークレット**で構成されています。例えば：
```
Name: key-example
Keyid: DO00ZW4FABSGZHAABGFX
Secret: 2JJ0CcQZ56qeFzAJ5GFUeeR4Dckarsh6EQSLm87MKlM
```
### OAuthアプリケーション

OAuthアプリケーションは**Digital Ocean上でアクセス権限を付与**されることがあります。

[https://cloud.digitalocean.com/account/api/applications](https://cloud.digitalocean.com/account/api/applications)で**OAuthアプリケーションを作成**し、[https://cloud.digitalocean.com/account/api/access](https://cloud.digitalocean.com/account/api/access)で**許可されたOAuthアプリケーションを確認**することが可能です。

### SSHキー

[https://cloud.digitalocean.com/account/security](https://cloud.digitalocean.com/account/security)の**コンソール**から**SSHキーをDigital Oceanチームに追加**することが可能です。

これにより、**新しいドロップレットを作成すると、SSHキーが設定**され、パスワードなしでSSH経由でログインできるようになります（新しく[アップロードされたSSHキーは、セキュリティ上の理由から既存のドロップレットには設定されないことに注意してください](https://docs.digitalocean.com/products/droplets/how-to/add-ssh-keys/to-existing-droplet/)）。

### 関数認証トークン

REST APIを介して**関数をトリガーする方法**（常に有効で、CLIが使用する方法です）は、次のように**認証トークン**を含むリクエストをトリガーすることです：
```bash
curl -X POST "https://faas-lon1-129376a7.doserverless.co/api/v1/namespaces/fn-c100c012-65bf-4040-1230-2183764b7c23/actions/functionname?blocking=true&result=true" \
-H "Content-Type: application/json" \
-H "Authorization: Basic MGU0NTczZGQtNjNiYS00MjZlLWI2YjctODk0N2MyYTA2NGQ4OkhwVEllQ2t4djNZN2x6YjJiRmFGc1FERXBySVlWa1lEbUxtRE1aRTludXA1UUNlU2VpV0ZGNjNqWnVhYVdrTFg="
```
## ログ

### ユーザーログ

**ユーザーのログ**は[**https://cloud.digitalocean.com/account/activity**](https://cloud.digitalocean.com/account/activity) で見つけることができます。

### チームログ

**チームのログ**は[**https://cloud.digitalocean.com/account/security**](https://cloud.digitalocean.com/account/security) で見つけることができます。

## 参照

* [https://docs.digitalocean.com/products/teams/how-to/manage-membership/](https://docs.digitalocean.com/products/teams/how-to/manage-membership/)

<details>

<summary><strong>ゼロからヒーローまでのAWSハッキングを学ぶ</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE（HackTricks AWS Red Team Expert）</strong></a><strong>!</strong></summary>

HackTricksをサポートする他の方法:

* **HackTricksで企業を宣伝したい**場合や**HackTricksをPDFでダウンロード**したい場合は、[**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)をチェックしてください！
* [**公式PEASS＆HackTricksスウェグ**](https://peass.creator-spring.com)を手に入れる
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)を発見し、独占的な[**NFTs**](https://opensea.io/collection/the-peass-family)のコレクションを見つける
* 💬 [**Discordグループ**](https://discord.gg/hRep4RUj7f)や[**telegramグループ**](https://t.me/peass)に**参加**したり、**Twitter** 🐦 [**@hacktricks_live**](https://twitter.com/hacktricks_live)で**フォロー**する
* **HackTricks**と[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks)のGitHubリポジトリにPRを提出して、あなたのハッキングテクニックを共有してください。

</details>
