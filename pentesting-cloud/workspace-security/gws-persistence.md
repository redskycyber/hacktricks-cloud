# GWS - Upornost

<details>

<summary><strong>NauÄite hakovanje AWS-a od nule do heroja sa</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Drugi naÄini podrÅ¡ke HackTricks-u:

* Ako Å¾elite da vidite **vaÅ¡u kompaniju reklamiranu na HackTricks-u** ili **preuzmete HackTricks u PDF formatu**, proverite [**PLANOVE ZA PRETPLATU**](https://github.com/sponsors/carlospolop)!
* Nabavite [**zvaniÄni PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Otkrijte [**The PEASS Family**](https://opensea.io/collection/the-peass-family), naÅ¡u kolekciju ekskluzivnih [**NFT-ova**](https://opensea.io/collection/the-peass-family)
* **PridruÅ¾ite se** ğŸ’¬ [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili me **pratite** na **Twitter-u** ğŸ¦ [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **Podelite svoje hakovanje trikove slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>

{% hint style="danger" %}
Sve radnje navedene u odeljku koje menjaju postavke generisaÄ‡e **bezbednosno upozorenje na e-mail i Äak push obaveÅ¡tenje na bilo koji sinhronizovani mobilni ureÄ‘aj** sa nalogom.
{% endhint %}

## **Upornost u Gmail-u**

* MoÅ¾ete kreirati **filtere da sakrijete** bezbednosna obaveÅ¡tenja od Google-a
* `from: (no-reply@accounts.google.com) "Security Alert"`
* Ovo Ä‡e spreÄiti da bezbednosne e-mail poruke stignu na e-mail (ali neÄ‡e spreÄiti push obaveÅ¡tenja na mobilnom)

<details>

<summary>Koraci za kreiranje Gmail filtera</summary>

(Uputstva sa [**ovde**](https://support.google.com/mail/answer/6579))

1. Otvorite [Gmail](https://mail.google.com/).
2. U polju za pretragu na vrhu, kliknite na "PrikaÅ¾i opcije pretrage" ![photos tune](https://lh3.googleusercontent.com/cD6YR\_YvqXqNKxrWn2NAWkV6tjJtg8vfvqijKT1\_9zVCrl2sAx9jROKhLqiHo2ZDYTE=w36) .
3. Unesite svoje kriterijume pretrage. Ako Å¾elite da proverite da li je pretraga uspela, vidite koje e-mail poruke se pojavljuju klikom na **Pretraga**.&#x20;
4. Na dnu prozora pretrage, kliknite na **Kreiraj filter**.
5. Izaberite Å¡ta Å¾elite da filter uradi.
6. Kliknite na **Kreiraj filter**.

Proverite svoje trenutne filtere (da biste ih obrisali) na [https://mail.google.com/mail/u/0/#settings/filters](https://mail.google.com/mail/u/0/#settings/filters)

</details>

<figure><img src="../../.gitbook/assets/image (142).png" alt=""><figcaption></figcaption></figure>

* Kreirajte **adresu za prosleÄ‘ivanje osetljivih informacija** (ili svega) - Potrebno je ruÄno pristupiti.
* Kreirajte adresu za prosleÄ‘ivanje na [https://mail.google.com/mail/u/2/#settings/fwdandpop](https://mail.google.com/mail/u/2/#settings/fwdandpop)
* Adresa koja prima Ä‡e morati da potvrdi ovo
* Zatim, postavite da se svi e-mailovi prosleÄ‘uju uz Äuvanje kopije (ne zaboravite da kliknete na saÄuvaj promene):

<figure><img src="../../.gitbook/assets/image (143).png" alt=""><figcaption></figcaption></figure>

TakoÄ‘e je moguÄ‡e kreirati filtere i prosleÄ‘ivati samo odreÄ‘ene e-mail poruke na drugu e-mail adresu.

## Lozinke aplikacija

Ako ste uspeli da **kompromitujete sesiju korisnika Google-a** i korisnik ima **2FA**, moÅ¾ete **generisati** [**lozinku aplikacije**](https://support.google.com/accounts/answer/185833?hl=en) (pratite link da biste videli korake). Imajte na umu da **Google viÅ¡e ne preporuÄuje lozinke aplikacija i povlaÄe se** kada korisnik **promeni lozinku svog Google naloga.**

**ÄŒak i ako imate otvorenu sesiju, moraÄ‡ete da znate lozinku korisnika da biste kreirali lozinku aplikacije.**

{% hint style="info" %}
Lozinke aplikacija mogu se **koristiti samo sa nalozima koji imaju ukljuÄenu dvostepenu verifikaciju**.
{% endhint %}

## Promena 2-FA i sliÄno

TakoÄ‘e je moguÄ‡e **iskljuÄiti 2-FA ili upisati novi ureÄ‘aj** (ili broj telefona) na ovoj stranici [**https://myaccount.google.com/security**](https://myaccount.google.com/security)**.**\
**TakoÄ‘e je moguÄ‡e generisati kljuÄeve za pristup (dodajte sopstveni ureÄ‘aj), promeniti lozinku, dodati mobilne brojeve za verifikaciju telefona i oporavak, promeniti e-mail za oporavak i promeniti sigurnosna pitanja).**

{% hint style="danger" %}
Da biste spreÄili da bezbednosna push obaveÅ¡tenja stignu na telefon korisnika, moÅ¾ete ga **odjaviti sa svog pametnog telefona** (iako bi to bilo Äudno) jer ga ne moÅ¾ete ponovo prijaviti sa ove stranice.

TakoÄ‘e je moguÄ‡e **locirati ureÄ‘aj**.
{% endhint %}

**ÄŒak i ako imate otvorenu sesiju, moraÄ‡ete da znate lozinku korisnika da biste promenili ove postavke.**

## Upornost putem OAuth aplikacija

Ako ste **kompromitovali nalog korisnika**, moÅ¾ete jednostavno **prihvatiti** da dodelite sve moguÄ‡e dozvole **OAuth aplikaciji**. Jedini problem je Å¡to Workspace moÅ¾e biti konfigurisan da **ne dozvoljava neodobrenim spoljnim i/ili internim OAuth aplikacijama.**\
PriliÄno je uobiÄajeno da Workspace organizacije po defaultu ne veruju spoljnim OAuth aplikacijama, ali veruju internim, pa ako imate **dovoljno dozvola da generiÅ¡ete novu OAuth aplikaciju** unutar organizacije i spoljne aplikacije su zabranjene, generiÅ¡ite je i **koristite tu novu internu OAuth aplikaciju za odrÅ¾avanje upornosti**.

Proverite sledeÄ‡u stranicu za viÅ¡e informacija o OAuth aplikacijama:

{% content-ref url="gws-google-platforms-phishing/" %}
[gws-google-platforms-phishing](gws-google-platforms-phishing/)
{% endcontent-ref %}

## Upornost putem delegacije

MoÅ¾ete jednostavno **delegirati nalog** drugom nalogu koji kontroliÅ¡e napadaÄ (ako vam je to dozvoljeno). U Workspace **Organizacijama** ova opcija mora biti **omoguÄ‡ena**. MoÅ¾e biti onemoguÄ‡ena za sve, omoguÄ‡ena za odreÄ‘ene korisnike/grupe ili za sve (obiÄno je omoguÄ‡ena samo za odreÄ‘ene korisnike/grupe ili potpuno onemoguÄ‡ena).

<details>

<summary>Ako ste administrator Workspace-a, proverite ovo da biste omoguÄ‡ili funkciju</summary>

(Informacije [kopirane sa dokumentacije](https://support.google.com/a/answer/7223765))

Kao administrator za vaÅ¡u organizaciju (na primer, vaÅ¡ posao ili Å¡kola), vi kontroliÅ¡ete da li korisnici mog
### Korak 1: UkljuÄite delegaciju Gmaila za svoje korisnike

**Pre nego Å¡to poÄnete:** Da biste primenili podeÅ¡avanje za odreÄ‘ene korisnike, stavite njihove naloge u [organizacionu jedinicu](https://support.google.com/a/topic/1227584).

1. [Prijavite se](https://admin.google.com/) na svoju [Google Admin konzolu](https://support.google.com/a/answer/182076).

Prijavite se koristeÄ‡i _administratorski nalog_, a ne svoj trenutni nalog CarlosPolop@gmail.com.
2. U Admin konzoli idite na Meni ![](https://storage.googleapis.com/support-kms-prod/JxKYG9DqcsormHflJJ8Z8bHuyVI5YheC0lAp)![a zatim](https://storage.googleapis.com/support-kms-prod/Th2Tx0uwPMOhsMPn7nRXMUo3vs6J0pto2DTn)![](https://storage.googleapis.com/support-kms-prod/ocGtUSENh4QebLpvZcmLcNRZyaTBcolMRSyl) **Aplikacije**![a zatim](https://storage.googleapis.com/support-kms-prod/Th2Tx0uwPMOhsMPn7nRXMUo3vs6J0pto2DTn)**Google Workspace**![a zatim](https://storage.googleapis.com/support-kms-prod/Th2Tx0uwPMOhsMPn7nRXMUo3vs6J0pto2DTn)**Gmail**![a zatim](https://storage.googleapis.com/support-kms-prod/Th2Tx0uwPMOhsMPn7nRXMUo3vs6J0pto2DTn)**PodeÅ¡avanja korisnika**.
3. Da biste primenili podeÅ¡avanje za sve, ostavite izabranu gornju organizacionu jedinicu. U suprotnom, izaberite podreÄ‘enu [organizacionu jedinicu](https://support.google.com/a/topic/1227584).
4. Kliknite na **Delegacija poÅ¡te**.
5. OznaÄite polje **Dozvoli korisnicima da delegiraju pristup svojoj poÅ¡tanskoj sanduÄiÄ‡u drugim korisnicima u domenu**.
6. (Opciono) Da biste omoguÄ‡ili korisnicima da specificiraju koje informacije o poÅ¡iljaocu su ukljuÄene u delegirane poruke poslate iz njihovog naloga, oznaÄite polje **Dozvoli korisnicima da prilagode ovo podeÅ¡avanje**.
7. Izaberite opciju za podrazumevane informacije o poÅ¡iljaocu koje su ukljuÄene u poruke poslate od strane delegata:&#x20;
* **PrikaÅ¾i vlasnika naloga i delegata koji je poslao e-poÅ¡tu** - Poruke ukljuÄuju e-adrese vlasnika Gmail naloga i delegata.
* **PrikaÅ¾i samo vlasnika naloga** - Poruke ukljuÄuju samo e-adresu vlasnika Gmail naloga. E-adresa delegata nije ukljuÄena.
8. (Opciono) Da biste omoguÄ‡ili korisnicima da dodaju grupu u Grupama kao delegata, oznaÄite polje **Dozvoli korisnicima da dodele pristup svojoj poÅ¡tanskoj sanduÄiÄ‡u Google grupi**.
9. Kliknite na **SaÄuvaj**. Ako ste konfigurirali podreÄ‘enu organizacionu jedinicu, moÅ¾da Ä‡ete moÄ‡i **Naslediti** ili **Prebrisati** podeÅ¡avanja nadreÄ‘ene organizacione jedinice.
10. (Opciono) Da biste ukljuÄili delegaciju Gmaila za druge organizacione jedinice, ponovite korake 3-9.

Promene mogu potrajati do 24 sata, ali obiÄno se deÅ¡avaju brÅ¾e. [Saznajte viÅ¡e](https://support.google.com/a/answer/7514107)

### Korak 2: Neka korisnici podele pristup svojim nalozima

Nakon Å¡to ukljuÄite delegaciju, vaÅ¡i korisnici idu na svoja Gmail podeÅ¡avanja da bi dodelili delegatima. Delegati mogu Äitati, slati i primati poruke u ime korisnika. &#x20;

Za detalje, uputite korisnike na [Delegiranje i saradnju putem e-poÅ¡te](https://support.google.com/a/users/answer/138350).

</details>

<details>

<summary>Iz obiÄnog korisnika, proverite ovde uputstva kako biste pokuÅ¡ali da delegirate pristup</summary>

(Informacije kopirane [**iz dokumenata**](https://support.google.com/mail/answer/138350))

MoÅ¾ete dodati do 10 delegata.

Ako koristite Gmail preko svog posla, Å¡kole ili druge organizacije:

* MoÅ¾ete dodati do 1000 delegata unutar svoje organizacije.
* UobiÄajenom upotrebom, 40 delegata moÅ¾e pristupiti Gmail nalogu istovremeno.&#x20;
* Ako koristite automatizovane procese, kao Å¡to su API-ji ili proÅ¡irenja pregledaÄa, nekoliko delegata moÅ¾e pristupiti Gmail nalogu istovremeno.

1. Na svom raÄunaru otvorite [Gmail](https://mail.google.com/). Ne moÅ¾ete dodavati delegate iz Gmail aplikacije.
2. U gornjem desnom uglu kliknite na Postavke ![Postavke](https://lh3.googleusercontent.com/p3J-ZSPOLtuBBR\_ofWTFDfdgAYQgi8mR5c76ie8XQ2wjegk7-yyU5zdRVHKybQgUlQ=w36-h36) ![a zatim](https://lh3.googleusercontent.com/3\_l97rr0GvhSP2XV5OoCkV2ZDTIisAOczrSdzNCBxhIKWrjXjHucxNwocghoUa39gw=w36-h36) **PrikaÅ¾i sva podeÅ¡avanja**.
3. Kliknite na karticu **Nalozi i uvoz** ili **Nalozi**.
4. U odeljku "Dodeli pristup svom nalogu" kliknite na **Dodaj drugi nalog**. Ako koristite Gmail preko svog posla ili Å¡kole, vaÅ¡a organizacija moÅ¾e ograniÄiti delegaciju e-poÅ¡te. Ako ne vidite ovo podeÅ¡avanje, kontaktirajte svog administratora.
* Ako ne vidite Dodeli pristup svom nalogu, onda je ograniÄeno.
5. Unesite e-adresu osobe koju Å¾elite dodati. Ako koristite Gmail preko svog posla, Å¡kole ili druge organizacije, i ako to dozvoljava vaÅ¡ administrator, moÅ¾ete uneti e-adresu grupe. Ova grupa mora imati istu domenu kao vaÅ¡a organizacija. Spoljni Älanovi grupe nemaju pristup delegaciji. \
\
**VaÅ¾no:** Ako je nalog koji delegirate novi nalog ili je lozinka resetovana, administrator mora iskljuÄiti zahtev za promenu lozinke prilikom prvog prijavljivanja.

* [Saznajte kako administrator moÅ¾e kreirati korisnika](https://support.google.com/a/answer/33310).
* [Saznajte kako administrator moÅ¾e resetovati lozinke](https://support.google.com/a/answer/33319).

6. Kliknite na **SledeÄ‡i korak** ![a zatim](https://lh3.googleusercontent.com/QbWcYKta5vh\_4-OgUeFmK-JOB0YgLLoGh69P478nE6mKdfpWQniiBabjF7FVoCVXI0g=h36) **PoÅ¡alji e-poÅ¡
* **Podelite svoje hakovanje trikove slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) **i** [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) **github repozitorijume.**

</details>
