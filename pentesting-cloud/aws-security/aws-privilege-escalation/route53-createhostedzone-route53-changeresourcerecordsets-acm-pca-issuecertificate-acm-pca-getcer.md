# AWS - Route53 Yetki YÃ¼kseltme

<details>

<summary><strong>htARTE (HackTricks AWS KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ±)</strong></a><strong> ile sÄ±fÄ±rdan kahraman olmak iÃ§in AWS hackleme Ã¶ÄŸrenin!</strong></summary>

HackTricks'Ä± desteklemenin diÄŸer yollarÄ±:

* Åirketinizi HackTricks'te **reklamÄ±nÄ±zÄ± gÃ¶rmek** veya **HackTricks'i PDF olarak indirmek** iÃ§in [**ABONELÄ°K PLANLARI**](https://github.com/sponsors/carlospolop)na gÃ¶z atÄ±n!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* Ã–zel [**NFT'lerden**](https://opensea.io/collection/the-peass-family) oluÅŸan koleksiyonumuz [**The PEASS Family**](https://opensea.io/collection/the-peass-family)'i keÅŸfedin
* ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katÄ±lÄ±n** veya **Twitter** ğŸ¦ [**@hacktricks_live**](https://twitter.com/hacktricks_live)'Ä± takip edin.
* Hacking hilelerinizi [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna PR gÃ¶ndererek paylaÅŸÄ±n.

</details>

Route53 hakkÄ±nda daha fazla bilgi iÃ§in:

{% content-ref url="../aws-services/aws-route53-enum.md" %}
[aws-route53-enum.md](../aws-services/aws-route53-enum.md)
{% endcontent-ref %}

### `route53:CreateHostedZone`, `route53:ChangeResourceRecordSets`, `acm-pca:IssueCertificate`, `acm-pca:GetCertificate`

{% hint style="info" %}
Bu saldÄ±rÄ±yÄ± gerÃ§ekleÅŸtirmek iÃ§in hedef hesabÄ±n zaten hesapta [**AWS Sertifika YÃ¶neticisi Ã–zel Sertifika Yetkilisi**](https://aws.amazon.com/certificate-manager/private-certificate-authority/) **(AWS-PCA)** kurulu olmalÄ± ve VPC(ler) iÃ§indeki EC2 Ã¶rneklerinin sertifikalarÄ± gÃ¼venmesi iÃ§in Ã¶nceden iÃ§e aktarÄ±lmÄ±ÅŸ olmalÄ±dÄ±r. Bu altyapÄ± mevcut olduÄŸunda, aÅŸaÄŸÄ±daki saldÄ±rÄ± AWS API trafiÄŸini ele geÃ§irmek iÃ§in gerÃ§ekleÅŸtirilebilir.
{% endhint %}

DiÄŸer izinler **enumarasyon iÃ§in Ã¶nerilir ancak zorunlu deÄŸildir**: `route53:GetHostedZone`, `route53:ListHostedZones`, `acm-pca:ListCertificateAuthorities`, `ec2:DescribeVpcs`

Bir AWS VPC'sinin birden Ã§ok bulut doÄŸal uygulamasÄ±nÄ±n birbirleriyle ve AWS API'yle iletiÅŸim kurduÄŸu varsayÄ±lÄ±r. Mikro servisler arasÄ±ndaki iletiÅŸim genellikle TLS ÅŸifrelemeli olduÄŸundan, bu hizmetler iÃ§in geÃ§erli sertifikalarÄ± vermek iÃ§in Ã¶zel bir CA olmalÄ±dÄ±r. **ACM-PCA** bunun iÃ§in kullanÄ±lÄ±yorsa ve saldÄ±rgan, yukarÄ±da aÃ§Ä±klanan minimum izin setiyle hem route53'Ã¼ hem de acm-pca Ã¶zel CA'yÄ± kontrol etme eriÅŸimine sahip olursa, uygulama Ã§aÄŸrÄ±larÄ±nÄ± AWS API'ye ele geÃ§irebilir ve IAM izinlerini ele geÃ§irebilir.

Bu mÃ¼mkÃ¼n Ã§Ã¼nkÃ¼:

* AWS SDK'larÄ± [Sertifika Pinleme](https://www.digicert.com/blog/certificate-pinning-what-is-certificate-pinning) Ã¶zelliÄŸine sahip deÄŸildir.
* Route53, AWS API etki alan adlarÄ± iÃ§in Ã–zel BarÄ±ndÄ±rÄ±lan BÃ¶lge ve DNS kayÄ±tlarÄ± oluÅŸturmaya izin verir.
* ACM-PCA'daki Ã–zel CA, yalnÄ±zca belirli Ortak Adlar iÃ§in sertifika imzalamakla sÄ±nÄ±rlanamaz.

**Potansiyel Etki:** Trafikteki hassas bilgileri ele geÃ§irerek dolaylÄ± olarak yetki yÃ¼kseltme.

#### SÃ¶mÃ¼rÃ¼ <a href="#discovery" id="discovery"></a>

SÃ¶mÃ¼rÃ¼ adÄ±mlarÄ±nÄ± orijinal araÅŸtÄ±rmada bulabilirsiniz: [**https://niebardzo.github.io/2022-03-11-aws-hijacking-route53/**](https://niebardzo.github.io/2022-03-11-aws-hijacking-route53/)

<details>

<summary><strong>htARTE (HackTricks AWS KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ±)</strong></a><strong> ile sÄ±fÄ±rdan kahraman olmak iÃ§in AWS hackleme Ã¶ÄŸrenin!</strong></summary>

HackTricks'Ä± desteklemenin diÄŸer yollarÄ±:

* Åirketinizi HackTricks'te **reklamÄ±nÄ±zÄ± gÃ¶rmek** veya **HackTricks'i PDF olarak indirmek** iÃ§in [**ABONELÄ°K PLANLARI**](https://github.com/sponsors/carlospolop)na gÃ¶z atÄ±n!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* Ã–zel [**NFT'lerden**](https://opensea.io/collection/the-peass-family) oluÅŸan koleksiyonumuz [**The PEASS Family**](https://opensea.io/collection/the-peass-family)'i keÅŸfedin
* ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katÄ±lÄ±n** veya **Twitter** ğŸ¦ [**@hacktricks_live**](https://twitter.com/hacktricks_live)'Ä± takip edin.
* Hacking hilelerinizi [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna PR gÃ¶ndererek paylaÅŸÄ±n.

</details>
