# AWS - Codepipeline ê¶Œí•œ ìƒìŠ¹

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong>ë¥¼ í†µí•´ **ì œë¡œë¶€í„° ì˜ì›…ì´ ë˜ëŠ” AWS í•´í‚¹ì„ ë°°ìš°ì„¸ìš”**!</summary>

HackTricksë¥¼ ì§€ì›í•˜ëŠ” ë‹¤ë¥¸ ë°©ë²•:

* **íšŒì‚¬ë¥¼ HackTricksì—ì„œ ê´‘ê³ **í•˜ê±°ë‚˜ **HackTricksë¥¼ PDFë¡œ ë‹¤ìš´ë¡œë“œ**í•˜ë ¤ë©´ [**êµ¬ë… ìš”ê¸ˆì œ**](https://github.com/sponsors/carlospolop)ë¥¼ í™•ì¸í•˜ì„¸ìš”!
* [**ê³µì‹ PEASS & HackTricks ìŠ¤ì™œê·¸**](https://peass.creator-spring.com)ë¥¼ êµ¬ë§¤í•˜ì„¸ìš”
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ë¥¼ ë°œê²¬í•˜ì„¸ìš”, ë‹¹ì‚¬ì˜ ë…ì  [**NFTs**](https://opensea.io/collection/the-peass-family) ì»¬ë ‰ì…˜
* **ğŸ’¬ [ë””ìŠ¤ì½”ë“œ ê·¸ë£¹](https://discord.gg/hRep4RUj7f)** ë˜ëŠ” [í…”ë ˆê·¸ë¨ ê·¸ë£¹](https://t.me/peass)ì— **ê°€ì…**í•˜ê±°ë‚˜ **íŠ¸ìœ„í„°** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)ë¥¼ **íŒ”ë¡œìš°**í•˜ì„¸ìš”.
* **í•´í‚¹ ìš”ë ¹ì„ ê³µìœ í•˜ë ¤ë©´** [**HackTricks**](https://github.com/carlospolop/hacktricks) ë° [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github ì €ì¥ì†Œë¡œ PRì„ ì œì¶œí•˜ì„¸ìš”.

</details>

## codepipeline

codepipelineì— ëŒ€í•œ ìì„¸í•œ ì •ë³´ëŠ” ë‹¤ìŒì„ í™•ì¸í•˜ì„¸ìš”:

{% content-ref url="../aws-services/aws-datapipeline-codepipeline-codebuild-and-codecommit.md" %}
[aws-datapipeline-codepipeline-codebuild-and-codecommit.md](../aws-services/aws-datapipeline-codepipeline-codebuild-and-codecommit.md)
{% endcontent-ref %}

### `iam:PassRole`, `codepipeline:CreatePipeline`, `codebuild:CreateProject, codepipeline:StartPipelineExecution`

ì½”ë“œ íŒŒì´í”„ë¼ì¸ì„ ìƒì„±í•  ë•Œ **ì‹¤í–‰í•  codepipeline IAM ì—­í• **ì„ ì§€ì •í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ í•´ë‹¹ ì—­í• ì„ ì¹¨í•´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì´ì „ ê¶Œí•œ ì™¸ì—ë„ **ì½”ë“œê°€ ì €ì¥ëœ ìœ„ì¹˜ì— ì•¡ì„¸ìŠ¤**í•´ì•¼ í•©ë‹ˆë‹¤(S3, ECR, github, bitbucket...)

ì›¹ í˜ì´ì§€ì—ì„œ í”„ë¡œì„¸ìŠ¤ë¥¼ ìˆ˜í–‰í•˜ì—¬ í…ŒìŠ¤íŠ¸í–ˆìœ¼ë©°, ì´ì „ì— ì–¸ê¸‰ëœ ê¶Œí•œì€ ì½”ë“œ íŒŒì´í”„ë¼ì¸ì„ ìƒì„±í•˜ëŠ” ë° í•„ìš”í•œ List/Get ê¶Œí•œì´ ì•„ë‹ˆì§€ë§Œ ì›¹ì—ì„œ ìƒì„±í•˜ë ¤ë©´ `codebuild:ListCuratedEnvironmentImages, codebuild:ListProjects, codebuild:ListRepositories, codecommit:ListRepositories, events:PutTargets, codepipeline:ListPipelines, events:PutRule, codepipeline:ListActionTypes, cloudtrail:<several>`ë„ í•„ìš”í•©ë‹ˆë‹¤.

**ë¹Œë“œ í”„ë¡œì íŠ¸ë¥¼ ìƒì„±**í•˜ëŠ” ë™ì•ˆ **ì‹¤í–‰í•  ëª…ë ¹**(rev shell?)ì„ ì§€ì •í•˜ê³  ë¹Œë“œ ë‹¨ê³„ë¥¼ **íŠ¹ê¶Œ ì‚¬ìš©ìë¡œ ì‹¤í–‰**í•˜ë„ë¡ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ê²ƒì´ ê³µê²©ìê°€ ì¹¨í•´í•´ì•¼ í•˜ëŠ” êµ¬ì„±ì…ë‹ˆë‹¤:

![](<../../../.gitbook/assets/image (276).png>)

![](<../../../.gitbook/assets/image (181).png>)

### ?`codebuild:UpdateProject, codepipeline:UpdatePipeline, codepipeline:StartPipelineExecution`

ì´ì „ ê¶Œí•œìœ¼ë¡œ ì½”ë“œ íŒŒì´í”„ë¼ì¸ì—ì„œ ì‚¬ìš©ëœ ì—­í•  ë° ì‹¤í–‰ëœ ëª…ë ¹ì„ ìˆ˜ì •í•  ìˆ˜ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### `codepipeline:pollforjobs`

[AWSëŠ”](https://docs.aws.amazon.com/codepipeline/latest/APIReference/API\_PollForJobs.html) ë‹¤ìŒì„ ì–¸ê¸‰í•©ë‹ˆë‹¤:

> ì´ APIë¥¼ í˜¸ì¶œí•˜ë©´ CodePipelineì´ íŒŒì´í”„ë¼ì¸ì˜ ì•„í‹°íŒ©íŠ¸ë¥¼ ì €ì¥í•˜ëŠ” S3 ë²„í‚·ì— ëŒ€í•œ **ì„ì‹œ ìê²© ì¦ëª…ì„ ë°˜í™˜**í•©ë‹ˆë‹¤. ì´ëŠ” ì‘ì—…ì´ í•´ë‹¹ S3 ë²„í‚·ì— ëŒ€í•œ ì…ë ¥ ë˜ëŠ” ì¶œë ¥ ì•„í‹°íŒ©íŠ¸ì— ì•¡ì„¸ìŠ¤ë¥¼ í•„ìš”ë¡œ í•˜ëŠ” ê²½ìš°ì…ë‹ˆë‹¤. ì´ APIëŠ” ë˜í•œ ì‘ì—…ì— ì •ì˜ëœ **ë¹„ë°€ ê°’**ë„ ë°˜í™˜í•©ë‹ˆë‹¤. 

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong>ë¥¼ í†µí•´ **ì œë¡œë¶€í„° ì˜ì›…ì´ ë˜ëŠ” AWS í•´í‚¹ì„ ë°°ìš°ì„¸ìš”**!</summary>

HackTricksë¥¼ ì§€ì›í•˜ëŠ” ë‹¤ë¥¸ ë°©ë²•:

* **íšŒì‚¬ë¥¼ HackTricksì—ì„œ ê´‘ê³ **í•˜ê±°ë‚˜ **HackTricksë¥¼ PDFë¡œ ë‹¤ìš´ë¡œë“œ**í•˜ë ¤ë©´ [**êµ¬ë… ìš”ê¸ˆì œ**](https://github.com/sponsors/carlospolop)ë¥¼ í™•ì¸í•˜ì„¸ìš”!
* [**ê³µì‹ PEASS & HackTricks ìŠ¤ì™œê·¸**](https://peass.creator-spring.com)ë¥¼ êµ¬ë§¤í•˜ì„¸ìš”
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ë¥¼ ë°œê²¬í•˜ì„¸ìš”, ë‹¹ì‚¬ì˜ ë…ì  [**NFTs**](https://opensea.io/collection/the-peass-family) ì»¬ë ‰ì…˜
* **ğŸ’¬ [ë””ìŠ¤ì½”ë“œ ê·¸ë£¹](https://discord.gg/hRep4RUj7f)** ë˜ëŠ” [í…”ë ˆê·¸ë¨ ê·¸ë£¹](https://t.me/peass)ì— **ê°€ì…**í•˜ê±°ë‚˜ **íŠ¸ìœ„í„°** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)ë¥¼ **íŒ”ë¡œìš°**í•˜ì„¸ìš”.
* **í•´í‚¹ ìš”ë ¹ì„ ê³µìœ í•˜ë ¤ë©´** [**HackTricks**](https://github.com/carlospolop/hacktricks) ë° [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github ì €ì¥ì†Œë¡œ PRì„ ì œì¶œí•˜ì„¸ìš”.

</details>
