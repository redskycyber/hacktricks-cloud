# AWS - Codepipeline ê¶Œí•œ ìƒìŠ¹

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>ë¥¼ í†µí•´ AWS í•´í‚¹ì„ ì²˜ìŒë¶€í„° ì „ë¬¸ê°€ê¹Œì§€ ë°°ì›Œë³´ì„¸ìš”!</strong></summary>

HackTricksë¥¼ ì§€ì›í•˜ëŠ” ë‹¤ë¥¸ ë°©ë²•:

* **íšŒì‚¬ë¥¼ HackTricksì—ì„œ ê´‘ê³ í•˜ê±°ë‚˜ HackTricksë¥¼ PDFë¡œ ë‹¤ìš´ë¡œë“œ**í•˜ë ¤ë©´ [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)ë¥¼ í™•ì¸í•˜ì„¸ìš”!
* [**ê³µì‹ PEASS & HackTricks ìƒí’ˆ**](https://peass.creator-spring.com)ì„ êµ¬ë§¤í•˜ì„¸ìš”.
* ë…ì ì ì¸ [**NFT**](https://opensea.io/collection/the-peass-family) ì»¬ë ‰ì…˜ì¸ [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ë¥¼ ë°œê²¬í•˜ì„¸ìš”.
* ğŸ’¬ [**Discord ê·¸ë£¹**](https://discord.gg/hRep4RUj7f) ë˜ëŠ” [**í…”ë ˆê·¸ë¨ ê·¸ë£¹**](https://t.me/peass)ì— **ì°¸ì—¬**í•˜ê±°ë‚˜ **Twitter** ğŸ¦ [**@hacktricks_live**](https://twitter.com/hacktricks_live)ë¥¼ **íŒ”ë¡œìš°**í•˜ì„¸ìš”.
* **HackTricks**ì™€ **HackTricks Cloud**ì˜ github ì €ì¥ì†Œì— **PRì„ ì œì¶œ**í•˜ì—¬ ì—¬ëŸ¬ë¶„ì˜ í•´í‚¹ ê¸°ë²•ì„ ê³µìœ í•˜ì„¸ìš”.

</details>

## codepipeline

codepipelineì— ëŒ€í•œ ìì„¸í•œ ì •ë³´ëŠ” ë‹¤ìŒì„ ì°¸ì¡°í•˜ì„¸ìš”:

{% content-ref url="../aws-services/aws-datapipeline-codepipeline-codebuild-and-codecommit.md" %}
[aws-datapipeline-codepipeline-codebuild-and-codecommit.md](../aws-services/aws-datapipeline-codepipeline-codebuild-and-codecommit.md)
{% endcontent-ref %}

### `iam:PassRole`, `codepipeline:CreatePipeline`, `codebuild:CreateProject, codepipeline:StartPipelineExecution`

ì½”ë“œ íŒŒì´í”„ë¼ì¸ì„ ìƒì„±í•  ë•Œ **ì‹¤í–‰í•  ì½”ë“œ íŒŒì´í”„ë¼ì¸ IAM ì—­í• **ì„ ì§€ì •í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ, í•´ë‹¹ ì—­í• ì„ íƒˆì·¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì´ì „ ê¶Œí•œ ì™¸ì—ë„ **ì½”ë“œê°€ ì €ì¥ëœ ìœ„ì¹˜ì— ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆëŠ” ê¶Œí•œ**ì´ í•„ìš”í•©ë‹ˆë‹¤(S3, ECR, github, bitbucket...).

ì €ëŠ” ì›¹ í˜ì´ì§€ì—ì„œ ì´ ê³¼ì •ì„ í…ŒìŠ¤íŠ¸í–ˆìœ¼ë©°, ì´ì „ì— ì–¸ê¸‰í•œ ê¶Œí•œì€ ì½”ë“œ íŒŒì´í”„ë¼ì¸ì„ ìƒì„±í•˜ê¸° ìœ„í•´ í•„ìš”í•œ List/Get ê¶Œí•œì´ ì•„ë‹ˆì§€ë§Œ, ì›¹ì—ì„œ ìƒì„±í•˜ê¸° ìœ„í•´ì„œëŠ” `codebuild:ListCuratedEnvironmentImages, codebuild:ListProjects, codebuild:ListRepositories, codecommit:ListRepositories, events:PutTargets, codepipeline:ListPipelines, events:PutRule, codepipeline:ListActionTypes, cloudtrail:<several>`ë„ í•„ìš”í•©ë‹ˆë‹¤.

**ë¹Œë“œ í”„ë¡œì íŠ¸ë¥¼ ìƒì„±**í•˜ëŠ” ë™ì•ˆ **ì‹¤í–‰í•  ëª…ë ¹** (rev shell?)ê³¼ ë¹Œë“œ ë‹¨ê³„ë¥¼ **íŠ¹ê¶Œ ì‚¬ìš©ìë¡œ ì‹¤í–‰**í•  ìˆ˜ ìˆë„ë¡ ì§€ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ê²ƒì´ ê³µê²©ìê°€ íƒˆì·¨í•´ì•¼ í•˜ëŠ” êµ¬ì„±ì…ë‹ˆë‹¤:

![](<../../../.gitbook/assets/image (53).png>)

![](<../../../.gitbook/assets/image (64).png>)

### ?`codebuild:UpdateProject, codepipeline:UpdatePipeline, codepipeline:StartPipelineExecution`

ì´ì „ ê¶Œí•œìœ¼ë¡œ ì½”ë“œ íŒŒì´í”„ë¼ì¸ì—ì„œ ì‚¬ìš©ë˜ëŠ” ì—­í• ê³¼ ì‹¤í–‰ë˜ëŠ” ëª…ë ¹ì„ ìˆ˜ì •í•  ìˆ˜ ìˆì„ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

### `codepipeline:pollforjobs`

[AWSëŠ”](https://docs.aws.amazon.com/codepipeline/latest/APIReference/API\_PollForJobs.html) ë‹¤ìŒê³¼ ê°™ì´ ì–¸ê¸‰í•©ë‹ˆë‹¤:

> ì´ APIë¥¼ í˜¸ì¶œí•  ë•Œ, CodePipelineì€ ì•¡ì…˜ì—ì„œ ì…ë ¥ ë˜ëŠ” ì¶œë ¥ ì•„í‹°íŒ©íŠ¸ë¥¼ ìœ„í•´ í•´ë‹¹ S3 ë²„í‚·ì— ëŒ€í•œ ì„ì‹œ ìê²© ì¦ëª…ì„ ë°˜í™˜í•©ë‹ˆë‹¤. ì´ APIëŠ” ë˜í•œ ì•¡ì…˜ì— ì •ì˜ëœ ë¹„ë°€ ê°’ë„ ë°˜í™˜í•©ë‹ˆë‹¤.

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>ë¥¼ í†µí•´ AWS í•´í‚¹ì„ ì²˜ìŒë¶€í„° ì „ë¬¸ê°€ê¹Œì§€ ë°°ì›Œë³´ì„¸ìš”!</strong></summary>

HackTricksë¥¼ ì§€ì›í•˜ëŠ” ë‹¤ë¥¸ ë°©ë²•:

* **íšŒì‚¬ë¥¼ HackTricksì—ì„œ ê´‘ê³ í•˜ê±°ë‚˜ HackTricksë¥¼ PDFë¡œ ë‹¤ìš´ë¡œë“œ**í•˜ë ¤ë©´ [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)ë¥¼ í™•ì¸í•˜ì„¸ìš”!
* [**ê³µì‹ PEASS & HackTricks ìƒí’ˆ**](https://peass.creator-spring.com)ì„ êµ¬ë§¤í•˜ì„¸ìš”.
* ë…ì ì ì¸ [**NFT**](https://opensea.io/collection/the-peass-family) ì»¬ë ‰ì…˜ì¸ [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ë¥¼ ë°œê²¬í•˜ì„¸ìš”.
* ğŸ’¬ [**Discord ê·¸ë£¹**](https://discord.gg/hRep4RUj7f) ë˜ëŠ” [**í…”ë ˆê·¸ë¨ ê·¸ë£¹**](https://t.me/peass)ì— **ì°¸ì—¬**í•˜ê±°ë‚˜ **Twitter** ğŸ¦ [**@hacktricks_live**](https://twitter.com/hacktricks_live)ë¥¼ **íŒ”ë¡œìš°**í•˜ì„¸ìš”.
* **HackTricks**ì™€ **HackTricks Cloud**ì˜ github ì €ì¥ì†Œì— **PRì„ ì œì¶œ**í•˜ì—¬ ì—¬ëŸ¬ë¶„ì˜ í•´í‚¹ ê¸°ë²•ì„ ê³µìœ í•˜ì„¸ìš”.

</details>
