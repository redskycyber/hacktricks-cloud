# AWS - S3 Unauthenticated Enum

<details>

<summary><strong>htARTEï¼ˆHackTricks AWS Red Team Expertï¼‰</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>ã‚’é€šã˜ã¦ã‚¼ãƒ­ã‹ã‚‰ãƒ’ãƒ¼ãƒ­ãƒ¼ã¾ã§AWSãƒãƒƒã‚­ãƒ³ã‚°ã‚’å­¦ã¶</strong></a><strong>ï¼</strong></summary>

HackTricksã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ä»–ã®æ–¹æ³•ï¼š

- **HackTricksã§ä¼æ¥­ã‚’å®£ä¼**ã—ãŸã„å ´åˆã‚„**HackTricksã‚’PDFã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰**ã—ãŸã„å ´åˆã¯ã€[**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„ï¼
- [**å…¬å¼PEASSï¼†HackTricksã‚¹ã‚¦ã‚©ãƒƒã‚°**](https://peass.creator-spring.com)ã‚’å…¥æ‰‹ã™ã‚‹
- [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ã‚’ç™ºè¦‹ã—ã€ç‹¬å çš„ãª[**NFTs**](https://opensea.io/collection/the-peass-family)ã®ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’è¦‹ã¤ã‘ã‚‹
- ğŸ’¬ [**Discordã‚°ãƒ«ãƒ¼ãƒ—**](https://discord.gg/hRep4RUj7f)ã«å‚åŠ ã™ã‚‹ã‹ã€[**telegramã‚°ãƒ«ãƒ¼ãƒ—**](https://t.me/peass)ã«å‚åŠ ã™ã‚‹ã‹ã€**Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)ã‚’ãƒ•ã‚©ãƒ­ãƒ¼ã™ã‚‹
- **ãƒãƒƒã‚­ãƒ³ã‚°ãƒˆãƒªãƒƒã‚¯ã‚’å…±æœ‰ã™ã‚‹ã«ã¯ã€**[**HackTricks**](https://github.com/carlospolop/hacktricks)ã¨[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud)ã®GitHubãƒªãƒã‚¸ãƒˆãƒªã«PRã‚’æå‡ºã—ã¦ãã ã•ã„ã€‚

</details>

## S3ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒã‚±ãƒƒãƒˆ

ãƒã‚±ãƒƒãƒˆã¯ã€ãƒã‚±ãƒƒãƒˆã®å†…å®¹ã‚’**èª°ã§ã‚‚ãƒªã‚¹ãƒˆã§ãã‚‹**å ´åˆã¯**ã€Œãƒ‘ãƒ–ãƒªãƒƒã‚¯ã€**ã€ãƒã‚±ãƒƒãƒˆã®å†…å®¹ã‚’**ç‰¹å®šã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã ã‘ãŒãƒªã‚¹ãƒˆã¾ãŸã¯æ›¸ãè¾¼ã¿ã§ãã‚‹**å ´åˆã¯**ã€Œãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã€**ã¨è¦‹ãªã•ã‚Œã¾ã™ã€‚

ä¼æ¥­ã¯ã€**ãƒã‚±ãƒƒãƒˆã®æ¨©é™ãŒèª¤ã£ã¦æ§‹æˆã•ã‚Œã¦**ãŠã‚Šã€ã™ã¹ã¦ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‹ã€AWSã®ä»»æ„ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§èªè¨¼ã•ã‚ŒãŸã™ã¹ã¦ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ï¼ˆã¤ã¾ã‚Šã€èª°ã§ã‚‚ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ï¼‰ã€‚ãŸã ã—ã€ãã®ã‚ˆã†ãªèª¤æ§‹æˆãŒã‚ã£ã¦ã‚‚ã€ãƒã‚±ãƒƒãƒˆã«ã¯ç‹¬è‡ªã®ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ãƒªã‚¹ãƒˆï¼ˆACLï¼‰ãŒã‚ã‚‹ãŸã‚ã€ä¸€éƒ¨ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’å®Ÿè¡Œã§ããªã„å ´åˆãŒã‚ã‚Šã¾ã™ã€‚

**AWS-S3ã®èª¤æ§‹æˆã«ã¤ã„ã¦ã¯ã“ã¡ã‚‰ã‚’å‚ç…§:** [**http://flaws.cloud**](http://flaws.cloud/) **ãŠã‚ˆã³** [**http://flaws2.cloud/**](http://flaws2.cloud)

### AWSãƒã‚±ãƒƒãƒˆã®æ¤œå‡º

ã‚¦ã‚§ãƒ–ãƒšãƒ¼ã‚¸ãŒAWSã‚’ä½¿ç”¨ã—ã¦ãƒªã‚½ãƒ¼ã‚¹ã‚’ä¿å­˜ã—ã¦ã„ã‚‹å ´åˆã®æ¤œå‡ºæ–¹æ³•ï¼š

#### åˆ—æŒ™ã¨OSINTï¼š

- **wappalyzer**ãƒ–ãƒ©ã‚¦ã‚¶ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ä½¿ç”¨ã™ã‚‹
- burpã‚’ä½¿ç”¨ã—ã¦ï¼ˆWebã‚’ã‚¹ãƒ‘ã‚¤ãƒ€ãƒªãƒ³ã‚°ã™ã‚‹ï¼‰ã¾ãŸã¯ãƒšãƒ¼ã‚¸ã‚’æ‰‹å‹•ã§ãƒŠãƒ“ã‚²ãƒ¼ãƒˆã—ã¦ã™ã¹ã¦ã®**ãƒ­ãƒ¼ãƒ‰ã•ã‚ŒãŸãƒªã‚½ãƒ¼ã‚¹**ã‚’**å±¥æ­´ã«ä¿å­˜**ã™ã‚‹
- æ¬¡ã®ã‚ˆã†ãªãƒ‰ãƒ¡ã‚¤ãƒ³ã§**ãƒªã‚½ãƒ¼ã‚¹ã‚’ãƒã‚§ãƒƒã‚¯**ã™ã‚‹ï¼š

```
http://s3.amazonaws.com/[bucket_name]/
http://[bucket_name].s3.amazonaws.com/
```
- `resources.domain.com`ã®ã‚ˆã†ãª**CNAME**ã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹ã¨ã€`bucket.s3.amazonaws.com`ã¨ã„ã†CNAMEãŒã‚ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“
- ã™ã§ã«**ã‚ªãƒ¼ãƒ—ãƒ³ãƒã‚±ãƒƒãƒˆãŒç™ºè¦‹**ã•ã‚Œã¦ã„ã‚‹ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆ[https://buckets.grayhatwarfare.com](https://buckets.grayhatwarfare.com/)ã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹
- **ãƒã‚±ãƒƒãƒˆå**ã¨**ãƒã‚±ãƒƒãƒˆãƒ‰ãƒ¡ã‚¤ãƒ³å**ã¯**åŒã˜**ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™
- **flaws.cloud**ã¯**IP** 52.92.181.107ã«ã‚ã‚Šã€ãã“ã«ç§»å‹•ã™ã‚‹ã¨[https://aws.amazon.com/s3/](https://aws.amazon.com/s3/)ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã•ã‚Œã¾ã™ã€‚ã¾ãŸã€`dig -x 52.92.181.107`ã‚’å®Ÿè¡Œã™ã‚‹ã¨`s3-website-us-west-2.amazonaws.com`ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚
- ãƒã‚±ãƒƒãƒˆã§ã‚ã‚‹ã‹ã©ã†ã‹ã‚’ç¢ºèªã™ã‚‹ã«ã¯ã€[https://flaws.cloud.s3.amazonaws.com/](https://flaws.cloud.s3.amazonaws.com/)ã«ã‚‚ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ã€‚

#### ãƒ–ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ¼ã‚¹

ãƒšãƒ³ãƒ†ã‚¹ãƒˆã—ã¦ã„ã‚‹ä¼æ¥­ã«é–¢é€£ã™ã‚‹**åå‰ã‚’ãƒ–ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ¼ã‚¹**ã—ã¦ãƒã‚±ãƒƒãƒˆã‚’è¦‹ã¤ã‘ã‚‹ã“ã¨ãŒã§ãã¾ã™ï¼š

- [https://github.com/sa7mon/S3Scanner](https://github.com/sa7mon/S3Scanner)
- [https://github.com/clario-tech/s3-inspector](https://github.com/clario-tech/s3-inspector)
- [https://github.com/jordanpotti/AWSBucketDump](https://github.com/jordanpotti/AWSBucketDump)ï¼ˆæ½œåœ¨çš„ãªãƒã‚±ãƒƒãƒˆåã®ãƒªã‚¹ãƒˆã‚’å«ã‚€ï¼‰
- [https://github.com/fellchase/flumberboozle/tree/master/flumberbuckets](https://github.com/fellchase/flumberboozle/tree/master/flumberbuckets)
- [https://github.com/smaranchand/bucky](https://github.com/smaranchand/bucky)
- [https://github.com/tomdev/teh\_s3\_bucketeers](https://github.com/tomdev/teh\_s3\_bucketeers)
- [https://github.com/RhinoSecurityLabs/Security-Research/tree/master/tools/aws-pentest-tools/s3](https://github.com/RhinoSecurityLabs/Security-Research/tree/master/tools/aws-pentest-tools/s3)
- [https://github.com/Eilonh/s3crets\_scanner](https://github.com/Eilonh/s3crets\_scanner)
- [https://github.com/belane/CloudHunter](https://github.com/belane/CloudHunter)

```bash
# ãƒ‘ãƒ¼ãƒŸãƒ¥ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œæˆã™ã‚‹ãŸã‚ã®ãƒ¯ãƒ¼ãƒ‰ãƒªã‚¹ãƒˆã‚’ç”Ÿæˆ
curl -s https://raw.githubusercontent.com/cujanovic/goaltdns/master/words.txt > /tmp/words-s3.txt.temp
curl -s https://raw.githubusercontent.com/jordanpotti/AWSBucketDump/master/BucketNames.txt >>/tmp/words-s3.txt.temp
cat /tmp/words-s3.txt.temp | sort -u > /tmp/words-s3.txt

# ãƒ†ã‚¹ãƒˆã™ã‚‹ãƒ‰ãƒ¡ã‚¤ãƒ³ã¨ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã«åŸºã¥ã„ã¦ãƒ¯ãƒ¼ãƒ‰ãƒªã‚¹ãƒˆã‚’ç”Ÿæˆ
## ã“ã‚Œã‚‰ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã¨ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’subdomains.txtã«æ›¸ãè¾¼ã‚€
cat subdomains.txt > /tmp/words-hosts-s3.txt
cat subdomains.txt | tr "." "-" >> /tmp/words-hosts-s3.txt
cat subdomains.txt | tr "." "\n" | sort -u >> /tmp/words-hosts-s3.txt

# æ”»æ’ƒå¯¾è±¡ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã¨ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã®ãƒªã‚¹ãƒˆã«åŸºã¥ã„ã¦ãƒ‘ãƒ¼ãƒŸãƒ¥ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œæˆ
goaltdns -l /tmp/words-hosts-s3.txt -w /tmp/words-s3.txt -o /tmp/final-words-s3.txt.temp
## å‰è¿°ã®ãƒ„ãƒ¼ãƒ«ã¯ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã®ãƒ‘ãƒ¼ãƒŸãƒ¥ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å°‚é–€ã¨ã—ã¦ã„ã¾ã™ãŒã€ãã®ãƒªã‚¹ãƒˆã‚’ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã—ã¾ã™
<strong>### ".ã§çµ‚ã‚ã‚‹è¡Œã‚’å‰Šé™¤"
</strong>cat /tmp/final-words-s3.txt.temp | grep -Ev "\.$" > /tmp/final-words-s3.txt.temp2
### TLDãªã—ã®ãƒªã‚¹ãƒˆã‚’ä½œæˆ
cat /tmp/final-words-s3.txt.temp2 | sed -E 's/\.[a-zA-Z0-9]+$//' > /tmp/final-words-s3.txt.temp3
### ãƒ‰ãƒƒãƒˆãªã—ã®ãƒªã‚¹ãƒˆã‚’ä½œæˆ
cat /tmp/final-words-s3.txt.temp3 | tr -d "." > /tmp/final-words-s3.txt.temp4http://phantom.s3.amazonaws.com/
### ãƒã‚¤ãƒ•ãƒ³ãªã—ã®ãƒªã‚¹ãƒˆã‚’ä½œæˆ
cat /tmp/final-words-s3.txt.temp3 | tr "." "-" > /tmp/final-words-s3.txt.temp5

## æœ€çµ‚çš„ãªãƒ¯ãƒ¼ãƒ‰ãƒªã‚¹ãƒˆã‚’ç”Ÿæˆ
cat /tmp/final-words-s3.txt.temp2 /tmp/final-words-s3.txt.temp3 /tmp/final-words-s3.txt.temp4 /tmp/final-words-s3.txt.temp5 | grep -v -- "-\." | awk '{print tolower($0)}' | sort -u > /tmp/final-words-s3.txt
```
## s3scannerã®å‘¼ã³å‡ºã—
s3scanner --threads 100 scan --buckets-file /tmp/final-words-s3.txt  | grep bucket_exists
</code></pre>

#### S3ãƒã‚±ãƒƒãƒˆã®ç•¥å¥ª

S3ã‚ªãƒ¼ãƒ—ãƒ³ãƒã‚±ãƒƒãƒˆãŒã‚ã‚‹å ´åˆã€[**BucketLoot**](https://github.com/redhuntlabs/BucketLoot)ã¯è‡ªå‹•çš„ã«**èˆˆå‘³æ·±ã„æƒ…å ±ã‚’æ¤œç´¢**ã§ãã¾ã™ã€‚

### ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã®æ¤œç´¢

AWSãŒã‚µãƒãƒ¼ãƒˆã™ã‚‹ã™ã¹ã¦ã®ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã‚’[**https://docs.aws.amazon.com/general/latest/gr/s3.html**](https://docs.aws.amazon.com/general/latest/gr/s3.html)ã§è¦‹ã¤ã‘ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

#### DNSã«ã‚ˆã‚‹

**`dig`**ã¨**`nslookup`**ã‚’ä½¿ç”¨ã—ã¦ã€ç™ºè¦‹ã•ã‚ŒãŸIPã®**DNSãƒªã‚¯ã‚¨ã‚¹ãƒˆ**ã‚’è¡Œã†ã“ã¨ã§ã€ãƒã‚±ãƒƒãƒˆã®ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã‚’å–å¾—ã§ãã¾ã™ã€‚
```bash
dig flaws.cloud
;; ANSWER SECTION:
flaws.cloud.    5    IN    A    52.218.192.11

nslookup 52.218.192.11
Non-authoritative answer:
11.192.218.52.in-addr.arpa name = s3-website-us-west-2.amazonaws.com.
```
#### ãƒ‰ãƒ¡ã‚¤ãƒ³ãŒã€Œwebsiteã€ã¨ã„ã†å˜èªã‚’æŒã£ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚

é™çš„ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã«ã¯ã€æ¬¡ã®URLã«ç§»å‹•ã—ã¦ãã ã•ã„ï¼š`flaws.cloud.s3-website-us-west-2.amazonaws.com`\
ã¾ãŸã¯ã€ãƒã‚±ãƒƒãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã«ã¯ã€æ¬¡ã®URLã‚’è¨ªã‚Œã¦ãã ã•ã„ï¼š`flaws.cloud.s3-us-west-2.amazonaws.com`

#### è©¦ã—ã¦ã¿ã‚‹

ãƒã‚±ãƒƒãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã‚ˆã†ã¨ã™ã‚‹ãŒã€**æŒ‡å®šã—ãŸãƒ‰ãƒ¡ã‚¤ãƒ³åã«åˆ¥ã®ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ãŒå«ã¾ã‚Œã¦ã„ã‚‹**å ´åˆï¼ˆãŸã¨ãˆã°ã€ãƒã‚±ãƒƒãƒˆãŒ `bucket.s3.amazonaws.com` ã«ã‚ã‚‹ãŒã€`bucket.s3-website-us-west-2.amazonaws.com` ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã‚ˆã†ã¨ã™ã‚‹å ´åˆï¼‰ã€**æ­£ã—ã„å ´æ‰€ã«æ¡ˆå†…ã•ã‚Œã¾ã™**ï¼š

![](<../../../.gitbook/assets/image (57).png>)

### ãƒã‚±ãƒƒãƒˆã®åˆ—æŒ™

ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯å˜ã«URLã‚’ã‚¦ã‚§ãƒ–ãƒ–ãƒ©ã‚¦ã‚¶ã«å…¥åŠ›ã™ã‚‹ã“ã¨ã§ã€ãƒã‚±ãƒƒãƒˆã®å…¬é–‹çŠ¶æ…‹ã‚’ãƒ†ã‚¹ãƒˆã§ãã¾ã™ã€‚éå…¬é–‹ã®ãƒã‚±ãƒƒãƒˆã¯ã€Œã‚¢ã‚¯ã‚»ã‚¹ãŒæ‹’å¦ã•ã‚Œã¾ã—ãŸã€ã¨å¿œç­”ã—ã¾ã™ã€‚å…¬é–‹ã•ã‚Œã¦ã„ã‚‹ãƒã‚±ãƒƒãƒˆã¯ã€ä¿å­˜ã•ã‚Œã¦ã„ã‚‹æœ€åˆã®1,000å€‹ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒªã‚¹ãƒˆè¡¨ç¤ºã—ã¾ã™ã€‚

èª°ã§ã‚‚ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½ï¼š

![](<../../../.gitbook/assets/image (67).png>)

éå…¬é–‹ï¼š

![](<../../../.gitbook/assets/image (78).png>)

ã¾ãŸã€CLIã‚’ä½¿ç”¨ã—ã¦ã“ã‚Œã‚’ç¢ºèªã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ï¼š
```bash
#Use --no-sign-request for check Everyones permissions
#Use --profile <PROFILE_NAME> to indicate the AWS profile(keys) that youwant to use: Check for "Any Authenticated AWS User" permissions
#--recursive if you want list recursivelyls
#Opcionally you can select the region if you now it
aws s3 ls s3://flaws.cloud/ [--no-sign-request] [--profile <PROFILE_NAME>] [ --recursive] [--region us-west-2]
```
### ãƒ‘ãƒ–ãƒªãƒƒã‚¯URLãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
```
https://{user_provided}.s3.amazonaws.com
```
### ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒã‚±ãƒƒãƒˆã‹ã‚‰ã‚¢ã‚«ã‚¦ãƒ³ãƒˆIDã‚’å–å¾—ã™ã‚‹

æ–°ã—ã„**`S3:ResourceAccount`** **ãƒãƒªã‚·ãƒ¼æ¡ä»¶ã‚­ãƒ¼**ã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã§ã€AWSã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ç‰¹å®šã™ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚ã“ã®æ¡ä»¶ã¯ã€ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãŒå«ã¾ã‚Œã¦ã„ã‚‹S3ãƒã‚±ãƒƒãƒˆã«åŸºã¥ã„ã¦ã‚¢ã‚¯ã‚»ã‚¹ã‚’åˆ¶é™ã—ã¾ã™ï¼ˆä»–ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãƒ™ãƒ¼ã‚¹ã®ãƒãƒªã‚·ãƒ¼ã¯ã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆå…ƒã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«åŸºã¥ã„ã¦åˆ¶é™ã—ã¾ã™ï¼‰ã€‚\
ãã—ã¦ã€ãƒãƒªã‚·ãƒ¼ã«ã¯**ãƒ¯ã‚¤ãƒ«ãƒ‰ã‚«ãƒ¼ãƒ‰**ã‚’å«ã‚ã‚‹ã“ã¨ãŒã§ãã‚‹ãŸã‚ã€ã‚¢ã‚«ã‚¦ãƒ³ãƒˆç•ªå·ã‚’**1ã¤ãšã¤è¦‹ã¤ã‘ã‚‹ã“ã¨ãŒå¯èƒ½**ã§ã™ã€‚

ã“ã®ãƒ„ãƒ¼ãƒ«ã¯ã€ã“ã®ãƒ—ãƒ­ã‚»ã‚¹ã‚’è‡ªå‹•åŒ–ã—ã¾ã™ï¼š
```bash
# Installation
pipx install s3-account-search
pip install s3-account-search
# With a bucket
s3-account-search arn:aws:iam::123456789012:role/s3_read s3://my-bucket
# With an object
s3-account-search arn:aws:iam::123456789012:role/s3_read s3://my-bucket/path/to/object.ext
```
ã“ã®ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã¯ã€API Gatewayã®URLã€Lambdaã®URLã€Data Exchangeã®ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã€ã•ã‚‰ã«ã¯ã‚¿ã‚°ã®å€¤ã‚’å–å¾—ã™ã‚‹ãŸã‚ã«ã‚‚ä½¿ç”¨ã§ãã¾ã™ï¼ˆã‚¿ã‚°ã‚­ãƒ¼ã‚’çŸ¥ã£ã¦ã„ã‚‹å ´åˆï¼‰ã€‚ã“ã®æ‚ªç”¨ã‚’è‡ªå‹•åŒ–ã™ã‚‹ãŸã‚ã®æƒ…å ±ã¯ã€[**ã‚ªãƒªã‚¸ãƒŠãƒ«ãƒªã‚µãƒ¼ãƒ**](https://blog.plerion.com/conditional-love-for-aws-metadata-enumeration/)ãŠã‚ˆã³ãƒ„ãƒ¼ãƒ«[**conditional-love**](https://github.com/plerionhq/conditional-love/)ã§è¦‹ã¤ã‘ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

## å‚è€ƒæ–‡çŒ®

* [https://www.youtube.com/watch?v=8ZXRw4Ry3mQ](https://www.youtube.com/watch?v=8ZXRw4Ry3mQ)
* [https://cloudar.be/awsblog/finding-the-account-id-of-any-public-s3-bucket/](https://cloudar.be/awsblog/finding-the-account-id-of-any-public-s3-bucket/)

<details>

<summary><strong>**htARTEï¼ˆHackTricks AWS Red Team Expertï¼‰**ã§AWSãƒãƒƒã‚­ãƒ³ã‚°ã‚’ã‚¼ãƒ­ã‹ã‚‰ãƒ’ãƒ¼ãƒ­ãƒ¼ã¾ã§å­¦ã¶</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>ã“ã¡ã‚‰</strong></a><strong>ï¼</strong></summary>

HackTricksã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ä»–ã®æ–¹æ³•ï¼š

* **HackTricksã§ä¼æ¥­ã‚’å®£ä¼ã—ãŸã„**ã€ã¾ãŸã¯**HackTricksã‚’PDFã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸã„**å ´åˆã¯ã€[**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„ï¼
* [**å…¬å¼PEASSï¼†HackTricksã®ã‚°ãƒƒã‚º**](https://peass.creator-spring.com)ã‚’æ‰‹ã«å…¥ã‚Œã‚‹
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ã‚’ç™ºè¦‹ã—ã€ç‹¬å çš„ãª[**NFTs**](https://opensea.io/collection/the-peass-family)ã®ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’è¦‹ã¤ã‘ã‚‹
* ğŸ’¬ [**Discordã‚°ãƒ«ãƒ¼ãƒ—**](https://discord.gg/hRep4RUj7f)ã‚„[**telegramã‚°ãƒ«ãƒ¼ãƒ—**](https://t.me/peass)ã«**å‚åŠ **ã—ãŸã‚Šã€**Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)ã‚’**ãƒ•ã‚©ãƒ­ãƒ¼**ã™ã‚‹
* **HackTricks**ã¨[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks)ã®GitHubãƒªãƒã‚¸ãƒˆãƒªã«PRã‚’æå‡ºã—ã¦ã€ã‚ãªãŸã®ãƒãƒƒã‚­ãƒ³ã‚°ãƒˆãƒªãƒƒã‚¯ã‚’å…±æœ‰ã™ã‚‹

</details>
