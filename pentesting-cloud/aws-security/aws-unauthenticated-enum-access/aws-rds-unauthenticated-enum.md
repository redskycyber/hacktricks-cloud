# AWS - RDS ì¸ì¦ë˜ì§€ ì•Šì€ ì—´ê±°

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong>ë¥¼ í†µí•´ AWS í•´í‚¹ì„ ì²˜ìŒë¶€í„° ì „ë¬¸ê°€ê¹Œì§€ ë°°ì›Œë³´ì„¸ìš”<strong>!</strong></summary>

HackTricksë¥¼ ì§€ì›í•˜ëŠ” ë‹¤ë¥¸ ë°©ë²•:

* **íšŒì‚¬ë¥¼ HackTricksì—ì„œ ê´‘ê³ í•˜ê±°ë‚˜ HackTricksë¥¼ PDFë¡œ ë‹¤ìš´ë¡œë“œ**í•˜ë ¤ë©´ [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)ë¥¼ í™•ì¸í•˜ì„¸ìš”!
* [**ê³µì‹ PEASS & HackTricks ìŠ¤ì›¨ê·¸**](https://peass.creator-spring.com)ë¥¼ ì–»ìœ¼ì„¸ìš”.
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ë¥¼ ë°œê²¬í•˜ì„¸ìš”. ë…ì ì ì¸ [**NFTs**](https://opensea.io/collection/the-peass-family) ì»¬ë ‰ì…˜ì…ë‹ˆë‹¤.
* ğŸ’¬ [**Discord ê·¸ë£¹**](https://discord.gg/hRep4RUj7f) ë˜ëŠ” [**í…”ë ˆê·¸ë¨ ê·¸ë£¹**](https://t.me/peass)ì— **ì°¸ì—¬**í•˜ê±°ë‚˜ **Twitter** ğŸ¦ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**ë¥¼** **íŒ”ë¡œìš°**í•˜ì„¸ìš”.
* **HackTricks**ì™€ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github ì €ì¥ì†Œì— PRì„ ì œì¶œí•˜ì—¬ **í•´í‚¹ íŠ¸ë¦­ì„ ê³µìœ **í•˜ì„¸ìš”.

</details>

## RDS

ìì„¸í•œ ì •ë³´ëŠ” ë‹¤ìŒì„ í™•ì¸í•˜ì„¸ìš”:

{% content-ref url="../aws-services/aws-databases/aws-relational-database-rds-enum.md" %}
[aws-relational-database-rds-enum.md](../aws-services/aws-databases/aws-relational-database-rds-enum.md)
{% endcontent-ref %}

## ê³µê°œ í¬íŠ¸

**ì¸í„°ë„·ì—ì„œ ë°ì´í„°ë² ì´ìŠ¤ì— ëŒ€í•œ ê³µê°œ ì•¡ì„¸ìŠ¤**ë¥¼ ì œê³µí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê³µê²©ìëŠ” ì—¬ì „íˆ ë°ì´í„°ë² ì´ìŠ¤ì— ë“¤ì–´ê°€ê¸° ìœ„í•´ **ì‚¬ìš©ì ì´ë¦„ê³¼ ì•”í˜¸**, IAM ì•¡ì„¸ìŠ¤ ë˜ëŠ” **exploit**ì„ ì•Œì•„ì•¼ í•©ë‹ˆë‹¤.

## ê³µê°œ RDS ìŠ¤ëƒ…ìƒ·

AWSëŠ” **ëˆ„êµ¬ì—ê²Œë‚˜ RDS ìŠ¤ëƒ…ìƒ·ì„ ë‹¤ìš´ë¡œë“œí•  ìˆ˜ ìˆëŠ” ì•¡ì„¸ìŠ¤**ë¥¼ í—ˆìš©í•©ë‹ˆë‹¤. ìì‹ ì˜ ê³„ì •ì—ì„œ ì´ëŸ¬í•œ ê³µê°œ RDS ìŠ¤ëƒ…ìƒ·ì„ ë§¤ìš° ì‰½ê²Œ ë‚˜ì—´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:
```bash
# Public RDS snapshots
aws rds describe-db-snapshots --include-public

## Search by account ID
aws rds describe-db-snapshots --include-public --query 'DBSnapshots[?contains(DBSnapshotIdentifier, `284546856933:`) == `true`]'
## To share a RDS snapshot with everybody the RDS DB cannot be encrypted (so the snapshot won't be encryted)
## To share a RDS encrypted snapshot you need to share the KMS key also with the account


# From the own account you can check if there is any public snapshot with:
aws rds describe-db-snapshots --snapshot-type public [--region us-west-2]
## Even if in the console appear as there are public snapshot it might be public
## snapshots from other accounts used by the current account
```
### ê³µê°œ URL í…œí”Œë¦¿

The following URL template can be used to access the AWS RDS service without authentication:

ë‹¤ìŒ URL í…œí”Œë¦¿ì€ ì¸ì¦ ì—†ì´ AWS RDS ì„œë¹„ìŠ¤ì— ì•¡ì„¸ìŠ¤í•˜ëŠ” ë° ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```
https://rds.amazonaws.com/
```

### Enumerating Databases

To enumerate the databases in an AWS RDS instance, you can send a POST request to the following URL:

AWS RDS ì¸ìŠ¤í„´ìŠ¤ì˜ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì—´ê±°í•˜ë ¤ë©´ ë‹¤ìŒ URLë¡œ POST ìš”ì²­ì„ ë³´ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```
https://rds.amazonaws.com/
```

The request body should contain the following XML data:

ìš”ì²­ ë³¸ë¬¸ì—ëŠ” ë‹¤ìŒ XML ë°ì´í„°ê°€ í¬í•¨ë˜ì–´ì•¼ í•©ë‹ˆë‹¤:

```xml
<Action>DescribeDBInstances</Action>
```

### Enumerating Tables

To enumerate the tables in a specific database, you can send a POST request to the following URL:

íŠ¹ì • ë°ì´í„°ë² ì´ìŠ¤ì˜ í…Œì´ë¸”ì„ ì—´ê±°í•˜ë ¤ë©´ ë‹¤ìŒ URLë¡œ POST ìš”ì²­ì„ ë³´ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```
https://rds.amazonaws.com/
```

The request body should contain the following XML data:

ìš”ì²­ ë³¸ë¬¸ì—ëŠ” ë‹¤ìŒ XML ë°ì´í„°ê°€ í¬í•¨ë˜ì–´ì•¼ í•©ë‹ˆë‹¤:

```xml
<Action>DescribeDBTables</Action>
<DBInstanceIdentifier>INSTANCE_IDENTIFIER</DBInstanceIdentifier>
```

Replace `INSTANCE_IDENTIFIER` with the identifier of the AWS RDS instance you want to enumerate tables from.

`INSTANCE_IDENTIFIER`ë¥¼ ì—´ê±°í•  í…Œì´ë¸”ì´ ìˆëŠ” AWS RDS ì¸ìŠ¤í„´ìŠ¤ì˜ ì‹ë³„ìë¡œ ëŒ€ì²´í•˜ì„¸ìš”.

### Enumerating Data

To enumerate the data in a specific table, you can send a POST request to the following URL:

íŠ¹ì • í…Œì´ë¸”ì˜ ë°ì´í„°ë¥¼ ì—´ê±°í•˜ë ¤ë©´ ë‹¤ìŒ URLë¡œ POST ìš”ì²­ì„ ë³´ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```
https://rds.amazonaws.com/
```

The request body should contain the following XML data:

ìš”ì²­ ë³¸ë¬¸ì—ëŠ” ë‹¤ìŒ XML ë°ì´í„°ê°€ í¬í•¨ë˜ì–´ì•¼ í•©ë‹ˆë‹¤:

```xml
<Action>ExecuteSql</Action>
<DBInstanceIdentifier>INSTANCE_IDENTIFIER</DBInstanceIdentifier>
<SqlStatement>SELECT * FROM TABLE_NAME</SqlStatement>
```

Replace `INSTANCE_IDENTIFIER` with the identifier of the AWS RDS instance and `TABLE_NAME` with the name of the table you want to enumerate data from.

`INSTANCE_IDENTIFIER`ë¥¼ AWS RDS ì¸ìŠ¤í„´ìŠ¤ì˜ ì‹ë³„ìë¡œ, `TABLE_NAME`ì„ ë°ì´í„°ë¥¼ ì—´ê±°í•˜ë ¤ëŠ” í…Œì´ë¸”ì˜ ì´ë¦„ìœ¼ë¡œ ëŒ€ì²´í•˜ì„¸ìš”.
```
mysql://{user_provided}.{random_id}.{region}.rds.amazonaws.com:3306
postgres://{user_provided}.{random_id}.{region}.rds.amazonaws.com:5432
```
<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong>ë¥¼ í†µí•´ AWS í•´í‚¹ì„ ì²˜ìŒë¶€í„° ì „ë¬¸ê°€ê¹Œì§€ ë°°ì›Œë³´ì„¸ìš”<strong>!</strong></summary>

HackTricksë¥¼ ì§€ì›í•˜ëŠ” ë‹¤ë¥¸ ë°©ë²•:

* **íšŒì‚¬ë¥¼ HackTricksì—ì„œ ê´‘ê³ í•˜ê±°ë‚˜ HackTricksë¥¼ PDFë¡œ ë‹¤ìš´ë¡œë“œ**í•˜ë ¤ë©´ [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)ë¥¼ í™•ì¸í•˜ì„¸ìš”!
* [**ê³µì‹ PEASS & HackTricks ìŠ¤ì›¨ê·¸**](https://peass.creator-spring.com)ë¥¼ ì–»ìœ¼ì„¸ìš”.
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ë¥¼ ë°œê²¬í•˜ì„¸ìš”. ë…ì ì ì¸ [**NFTs**](https://opensea.io/collection/the-peass-family) ì»¬ë ‰ì…˜ì…ë‹ˆë‹¤.
* ğŸ’¬ [**Discord ê·¸ë£¹**](https://discord.gg/hRep4RUj7f) ë˜ëŠ” [**í…”ë ˆê·¸ë¨ ê·¸ë£¹**](https://t.me/peass)ì— **ì°¸ì—¬**í•˜ê±°ë‚˜ **Twitter** ğŸ¦ [**@hacktricks_live**](https://twitter.com/hacktricks_live)ë¥¼ **íŒ”ë¡œìš°**í•˜ì„¸ìš”.
* **Hacking íŠ¸ë¦­ì„ ê³µìœ í•˜ë ¤ë©´** [**HackTricks**](https://github.com/carlospolop/hacktricks) ë° [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github ì €ì¥ì†Œì— PRì„ ì œì¶œí•˜ì„¸ìš”.

</details>
