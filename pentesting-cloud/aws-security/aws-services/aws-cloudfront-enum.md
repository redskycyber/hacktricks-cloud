# AWS - CloudFront Enum

<details>

<summary><strong>Naucz siÄ™ hakowaÄ‡ AWS od zera do bohatera z</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Inne sposoby wsparcia HackTricks:

* JeÅ›li chcesz zobaczyÄ‡ swojÄ… **firmÄ™ reklamowanÄ… w HackTricks** lub **pobraÄ‡ HackTricks w formacie PDF**, sprawdÅº [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* ZdobÄ…dÅº [**oficjalne gadÅ¼ety PEASS & HackTricks**](https://peass.creator-spring.com)
* Odkryj [**RodzinÄ™ PEASS**](https://opensea.io/collection/the-peass-family), naszÄ… kolekcjÄ™ ekskluzywnych [**NFT**](https://opensea.io/collection/the-peass-family)
* **DoÅ‚Ä…cz do** ğŸ’¬ [**grupy Discord**](https://discord.gg/hRep4RUj7f) lub [**grupy telegramowej**](https://t.me/peass) lub **Å›ledÅº** nas na **Twitterze** ğŸ¦ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Podziel siÄ™ swoimi sztuczkami hakerskimi, przesyÅ‚ajÄ…c PR-y do** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>

## CloudFront

CloudFront to **sieÄ‡ dostarczania treÅ›ci AWS, ktÃ³ra przyspiesza dystrybucjÄ™** twojej statycznej i dynamicznej treÅ›ci za poÅ›rednictwem swojej globalnej sieci lokalizacji krawÄ™dziowych. Gdy uÅ¼ywasz treÅ›ci Å¼Ä…danej, ktÃ³rÄ… hostujesz za poÅ›rednictwem Amazon CloudFront, Å¼Ä…danie jest kierowane do najbliÅ¼szej lokalizacji krawÄ™dziowej, ktÃ³ra zapewnia najniÅ¼sze opÃ³Åºnienie dostawy dla uzyskania najlepszej wydajnoÅ›ci. Gdy sÄ… wÅ‚Ä…czone **dzienniki dostÄ™pu CloudFront**, moÅ¼na rejestrowaÄ‡ Å¼Ä…danie od kaÅ¼dego uÅ¼ytkownika Å¼Ä…dajÄ…cego dostÄ™pu do twojej witryny i dystrybucji. Podobnie jak w przypadku dziennikÃ³w dostÄ™pu S3, te dzienniki sÄ… rÃ³wnieÅ¼ **przechowywane w Amazon S3 dla trwaÅ‚ego i trwaÅ‚ego przechowywania**. Nie ma opÅ‚at za wÅ‚Ä…czenie samego rejestrowania, jednak poniewaÅ¼ dzienniki sÄ… przechowywane w S3, zostanÄ… przechowywane dla wykorzystanego przez S3 miejsca.

Pliki dziennika rejestrujÄ… dane przez okreÅ›lony czas, a w zaleÅ¼noÅ›ci od iloÅ›ci Å¼Ä…daÅ„ otrzymywanych przez Amazon CloudFront dla tej dystrybucji, zaleÅ¼y to od iloÅ›ci plikÃ³w dziennika, ktÃ³re sÄ… generowane. WaÅ¼ne jest, aby wiedzieÄ‡, Å¼e te pliki dziennika nie sÄ… tworzone ani zapisywane w S3. S3 to po prostu miejsce, do ktÃ³rego sÄ… dostarczane, gdy plik dziennika jest peÅ‚ny. **Amazon CloudFront przechowuje te dzienniki do momentu, gdy sÄ… gotowe do dostarczenia do S3**. Ponownie, w zaleÅ¼noÅ›ci od rozmiaru tych plikÃ³w dziennika, dostarczenie moÅ¼e zajÄ…Ä‡ **od jednej do 24 godzin**.

**DomyÅ›lnie rejestrowanie plikÃ³w cookie jest wyÅ‚Ä…czone**, ale moÅ¼na je wÅ‚Ä…czyÄ‡.

### Funkcje

MoÅ¼esz tworzyÄ‡ funkcje w CloudFront. Te funkcje bÄ™dÄ… miaÅ‚y swoje **zakoÅ„czenie w cloudfront** zdefiniowane i bÄ™dÄ… uruchamiaÄ‡ zadeklarowany **kod NodeJS**. Ten kod bÄ™dzie uruchamiany wewnÄ…trz **piaskownicy** na maszynie dziaÅ‚ajÄ…cej pod zarzÄ…dzaniem AWS (bÄ™dzie wymagane obejÅ›cie piaskownicy, aby udaÅ‚o siÄ™ uciec do podstawowego systemu operacyjnego).

PoniewaÅ¼ funkcje nie sÄ… uruchamiane w koncie AWS uÅ¼ytkownikÃ³w, nie jest doÅ‚Ä…czana Å¼adna rola IAM, wiÄ™c nie ma moÅ¼liwoÅ›ci bezpoÅ›redniego podniesienia uprawnieÅ„ przy wykorzystaniu tej funkcji.

### Wyliczanie
```bash
aws cloudfront list-distributions
aws cloudfront get-distribution --id <id> # Just get 1
aws cloudfront get-distribution-config --id <id>

aws cloudfront list-functions
aws cloudfront get-function --name TestFunction function_code.js

aws cloudfront list-distributions | jq ".DistributionList.Items[] | .Id, .Origins.Items[].Id, .Origins.Items[].DomainName, .AliasICPRecordals[].CNAME"
```
## Nieuwierzytelniony dostÄ™p

{% content-ref url="../aws-unauthenticated-enum-access/aws-cloudfront-unauthenticated-enum.md" %}
[aws-cloudfront-unauthenticated-enum.md](../aws-unauthenticated-enum-access/aws-cloudfront-unauthenticated-enum.md)
{% endcontent-ref %}

## Po eksploatacji

{% content-ref url="../aws-post-exploitation/aws-cloudfront-post-exploitation.md" %}
[aws-cloudfront-post-exploitation.md](../aws-post-exploitation/aws-cloudfront-post-exploitation.md)
{% endcontent-ref %}

<details>

<summary><strong>Naucz siÄ™ hakowaÄ‡ AWS od zera do bohatera z</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Inne sposoby wsparcia HackTricks:

* JeÅ›li chcesz zobaczyÄ‡ swojÄ… **firmÄ™ reklamowanÄ… w HackTricks** lub **pobraÄ‡ HackTricks w formacie PDF**, sprawdÅº [**PLAN SUBSKRYPCJI**](https://github.com/sponsors/carlospolop)!
* ZdobÄ…dÅº [**oficjalne gadÅ¼ety PEASS & HackTricks**](https://peass.creator-spring.com)
* Odkryj [**RodzinÄ™ PEASS**](https://opensea.io/collection/the-peass-family), naszÄ… kolekcjÄ™ ekskluzywnych [**NFT**](https://opensea.io/collection/the-peass-family)
* **DoÅ‚Ä…cz do** ğŸ’¬ [**grupy Discord**](https://discord.gg/hRep4RUj7f) lub [**grupy telegramowej**](https://t.me/peass) lub **Å›ledÅº** nas na **Twitterze** ğŸ¦ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Podziel siÄ™ swoimi sztuczkami hakerskimi, przesyÅ‚ajÄ…c PR-y do** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
