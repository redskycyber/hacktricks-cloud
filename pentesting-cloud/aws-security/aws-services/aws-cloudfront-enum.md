# AWS - CloudFront Enum

<details>

<summary><strong>Nau캜ite hakovanje AWS-a od nule do heroja sa</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Drugi na캜ini podr코ke HackTricks-u:

* Ako 쬰lite da vidite **va코u kompaniju reklamiranu na HackTricks-u** ili **preuzmete HackTricks u PDF formatu** Proverite [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Nabavite [**zvani캜ni PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Otkrijte [**The PEASS Family**](https://opensea.io/collection/the-peass-family), na코u kolekciju ekskluzivnih [**NFT-ova**](https://opensea.io/collection/the-peass-family)
* **Pridru쬴te se** 游눫 [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili nas **pratite** na **Twitter-u** 游냕 [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Podelite svoje hakovanje trikove slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>

## CloudFront

CloudFront je AWS-ov **sistem za distribuciju sadr쬬ja koji ubrzava distribuciju** va코eg stati캜kog i dinami캜kog sadr쬬ja putem svog svetskog mre쬹og sistema lokacija. Kada koristite zahtev za sadr쬬j koji hostujete putem Amazon CloudFront-a, zahtev se usmerava ka najbli쬺j lokaciji koja pru쬬 najmanju latenciju kako bi obezbedila najbolje performanse. Kada su **CloudFront pristupni logovi** omogu캖eni, mo쬰te zabele쬴ti zahtev od svakog korisnika koji tra쬴 pristup va코em veb sajtu i distribuciji. Kao i kod S3 pristupnih logova, ovi logovi se tako캠e **캜uvaju na Amazon S3 radi trajnog i postojanog skladi코tenja**. Nema tro코kova za omogu캖avanje samog logovanja, me캠utim, po코to se logovi 캜uvaju u S3, bi캖e vam napla캖eno za kori코캖eno skladi코te S3.

Log fajlovi bele쬰 podatke tokom odre캠enog vremenskog perioda i zavisno od koli캜ine zahteva koji su primljeni od strane Amazon CloudFront-a za tu distribuciju, zavisi캖e i koli캜ina log fajlova koji se generi코u. Va쬹o je znati da ovi log fajlovi nisu kreirani ili pisani na S3. S3 je samo mesto na koje se dostavljaju kada je log fajl pun. **Amazon CloudFront 캜uva ove logove dok ne budu spremni za dostavu na S3**. Ponovo, zavisno od veli캜ine ovih log fajlova, dostava mo쬰 trajati **od jednog do 24 sata**.

**Podrazumevano je onemogu캖eno logovanje kola캜i캖a**, ali ga mo쬰te omogu캖iti.

### Funkcije

Mo쬰te kreirati funkcije u CloudFront-u. Ove funkcije 캖e imati svoju **krajnju ta캜ku u cloudfront-u** definisanu i pokrenu캖e deklarisani **NodeJS kod**. Ovaj kod 캖e se izvr코avati unutar **sandbox-a** na ma코ini koja radi pod upravljanjem AWS upravljane ma코ine (treba vam zaobila쬰nje sandbox-a da biste uspeli da pobegnete do osnovnog operativnog sistema).

Po코to se funkcije ne izvr코avaju u korisni캜kom AWS nalogu, nema pridru쬰ne IAM uloge, pa nije mogu캖e direktno pove캖anje privilegija zloupotrebom ove funkcionalnosti.

### Enumeracija
```bash
aws cloudfront list-distributions
aws cloudfront get-distribution --id <id> # Just get 1
aws cloudfront get-distribution-config --id <id>

aws cloudfront list-functions
aws cloudfront get-function --name TestFunction function_code.js

aws cloudfront list-distributions | jq ".DistributionList.Items[] | .Id, .Origins.Items[].Id, .Origins.Items[].DomainName, .AliasICPRecordals[].CNAME"
```
## Neautentifikovani pristup

{% content-ref url="../aws-unauthenticated-enum-access/aws-cloudfront-unauthenticated-enum.md" %}
[aws-cloudfront-unauthenticated-enum.md](../aws-unauthenticated-enum-access/aws-cloudfront-unauthenticated-enum.md)
{% endcontent-ref %}

## Post eksploatacija

{% content-ref url="../aws-post-exploitation/aws-cloudfront-post-exploitation.md" %}
[aws-cloudfront-post-exploitation.md](../aws-post-exploitation/aws-cloudfront-post-exploitation.md)
{% endcontent-ref %}

<details>

<summary><strong>Nau캜ite hakovanje AWS-a od nule do heroja sa</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Drugi na캜ini podr코ke HackTricks-u:

* Ako 쬰lite da vidite **va코u kompaniju reklamiranu u HackTricks-u** ili **preuzmete HackTricks u PDF formatu** proverite [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Nabavite [**zvani캜ni PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Otkrijte [**The PEASS Family**](https://opensea.io/collection/the-peass-family), na코u kolekciju ekskluzivnih [**NFT-ova**](https://opensea.io/collection/the-peass-family)
* **Pridru쬴te se** 游눫 [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili nas **pratite** na **Twitter-u** 游냕 [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Podelite svoje hakovanje trikove slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>
