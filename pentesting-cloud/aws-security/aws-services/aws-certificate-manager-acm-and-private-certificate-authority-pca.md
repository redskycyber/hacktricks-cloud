# AWS - Certificate Manager (ACM) & Private Certificate Authority (PCA)

<details>

<summary><strong>ã‚¼ãƒ­ã‹ã‚‰ãƒ’ãƒ¼ãƒ­ãƒ¼ã¾ã§ã®AWSãƒãƒƒã‚­ãƒ³ã‚°ã‚’å­¦ã¶ã«ã¯</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>ï¼</strong></summary>

HackTricksã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ä»–ã®æ–¹æ³•:

* **HackTricksã«ã‚ãªãŸã®ä¼šç¤¾ã‚’åºƒå‘Šã—ãŸã„**ã€ã¾ãŸã¯**HackTricksã‚’PDFã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸã„**å ´åˆã¯ã€[**ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ãƒ—ãƒ©ãƒ³**](https://github.com/sponsors/carlospolop)ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„ï¼
* [**å…¬å¼PEASS & HackTricksã‚°ãƒƒã‚º**](https://peass.creator-spring.com)ã‚’å…¥æ‰‹ã™ã‚‹
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ã‚’ç™ºè¦‹ã—ã€ç‹¬å çš„ãª[**NFTs**](https://opensea.io/collection/the-peass-family)ã®ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹
* ğŸ’¬ [**Discordã‚°ãƒ«ãƒ¼ãƒ—**](https://discord.gg/hRep4RUj7f)ã«**å‚åŠ ã™ã‚‹**ã‹ã€[**ãƒ†ãƒ¬ã‚°ãƒ©ãƒ ã‚°ãƒ«ãƒ¼ãƒ—**](https://t.me/peass)ã«å‚åŠ ã™ã‚‹ã‹ã€**Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/carlospolopm)ã‚’**ãƒ•ã‚©ãƒ­ãƒ¼ã™ã‚‹**ã€‚
* [**HackTricks**](https://github.com/carlospolop/hacktricks)ã¨[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud)ã®githubãƒªãƒã‚¸ãƒˆãƒªã«PRã‚’æå‡ºã—ã¦ã€ã‚ãªãŸã®ãƒãƒƒã‚­ãƒ³ã‚°ã®ã‚³ãƒ„ã‚’**å…±æœ‰ã™ã‚‹**ã€‚

</details>

## åŸºæœ¬æƒ…å ±

**AWS Certificate Manager (ACM)** ã¯ã€AWSã‚µãƒ¼ãƒ“ã‚¹ã¨å†…éƒ¨ãƒªã‚½ãƒ¼ã‚¹ã®**SSL/TLSè¨¼æ˜æ›¸ã®ãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã€ç®¡ç†ã€ãŠã‚ˆã³ãƒ‡ãƒ—ãƒ­ã‚¤**ã‚’ç°¡ç´ åŒ–ã™ã‚‹ã“ã¨ã‚’ç›®çš„ã¨ã—ãŸã‚µãƒ¼ãƒ“ã‚¹ã¨ã—ã¦æä¾›ã•ã‚Œã¦ã„ã¾ã™ã€‚ACMã«ã‚ˆã‚Šã€è³¼å…¥ã€ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã€è¨¼æ˜æ›¸ã®æ›´æ–°ãªã©ã®æ‰‹å‹•ãƒ—ãƒ­ã‚»ã‚¹ãŒ**ä¸è¦**ã«ãªã‚Šã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯**Elastic Load Balancersã€Amazon CloudFrontãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã€API Gatewayä¸Šã®API**ãªã©ã€æ§˜ã€…ãªAWSãƒªã‚½ãƒ¼ã‚¹ã«åŠ¹ç‡çš„ã«è¨¼æ˜æ›¸ã‚’è¦æ±‚ã—å®Ÿè£…ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

ACMã®ä¸»ãªç‰¹å¾´ã¯ã€ç®¡ç†ã®æ‰‹é–“ã‚’å¤§å¹…ã«å‰Šæ¸›ã™ã‚‹**è¨¼æ˜æ›¸ã®è‡ªå‹•æ›´æ–°**ã§ã™ã€‚ã•ã‚‰ã«ã€ACMã¯**å†…éƒ¨ä½¿ç”¨ã®ãŸã‚ã®ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆè¨¼æ˜æ›¸ã®ä½œæˆã¨é›†ä¸­ç®¡ç†**ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ã€‚Elastic Load Balancingã€Amazon CloudFrontã€Amazon API Gatewayãªã©ã®çµ±åˆã•ã‚ŒãŸAWSã‚µãƒ¼ãƒ“ã‚¹ã®SSL/TLSè¨¼æ˜æ›¸ã¯ACMã‚’é€šã˜ã¦è¿½åŠ è²»ç”¨ãªã—ã§æä¾›ã•ã‚Œã¾ã™ãŒã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«ã‚ˆã£ã¦åˆ©ç”¨ã•ã‚Œã‚‹AWSãƒªã‚½ãƒ¼ã‚¹ã«é–¢é€£ã™ã‚‹ã‚³ã‚¹ãƒˆã¨ã€çµ±åˆã•ã‚ŒãŸACMã‚µãƒ¼ãƒ“ã‚¹ã®å¤–ã§ä½¿ç”¨ã•ã‚Œã‚‹**ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆè¨¼æ˜æ›¸æ©Ÿé–¢ï¼ˆCAï¼‰**ãŠã‚ˆã³ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆè¨¼æ˜æ›¸ã”ã¨ã«æ¯æœˆã®æ–™é‡‘ãŒãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è² æ‹…ã¨ãªã‚Šã¾ã™ã€‚

**AWS Private Certificate Authority** ã¯ã€**ç®¡ç†ã•ã‚ŒãŸãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆCAã‚µãƒ¼ãƒ“ã‚¹**ã¨ã—ã¦æä¾›ã•ã‚Œã€ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆè¨¼æ˜æ›¸ã‚’å«ã‚€è¨¼æ˜æ›¸ç®¡ç†ã‚’æ‹¡å¼µã™ã‚‹ã“ã¨ã§ACMã®æ©Ÿèƒ½ã‚’å¼·åŒ–ã—ã¦ã„ã¾ã™ã€‚ã“ã‚Œã‚‰ã®ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆè¨¼æ˜æ›¸ã¯ã€çµ„ç¹”å†…ã®ãƒªã‚½ãƒ¼ã‚¹ã‚’èªè¨¼ã™ã‚‹ãŸã‚ã«ä¸å¯æ¬ ã§ã™ã€‚

## åˆ—æŒ™

### ACM
```bash
# List certificates
aws acm list-certificates

# Get certificate info
aws acm describe-certificate --certificate-arn <arn> # Check "InUseBy" to check which resources are using it

# Get certificate data
aws acm get-certificate --certificate-arn "arn:aws:acm:us-east-1:188868097724:certificate/865abced-82c9-43bf-b7d2-1f4948bf353d"

# Account configuration
aws acm get-account-configuration
```
### PCM

(PCMã®æ—¥æœ¬èªè¨³ã¯ä¸è¦ã§ã™ã€‚)
```bash
# List CAs
aws acm-pca list-certificate-authorities

# Get CA info
aws acm-pca describe-certificate-authority --certificate-authority-arn <arn>

# Get CA Permissions
aws acm-pca list-permissions --certificate-authority-arn <arn>

# Get CA certificate
aws acm-pca get-certificate-authority-certificate --certificate-authority-arn <arn>

# Certificate request
aws acm-pca get-certificate-authority-csr --certificate-authority-arn <arn>

# Get CA Policy (if any)
aws acm-pca get-policy --resource-arn <arn>
```
## Privesc

TODO

## Post Exploitation

TODO

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)ã§<strong>AWSãƒãƒƒã‚­ãƒ³ã‚°ã‚’ã‚¼ãƒ­ã‹ã‚‰ãƒ’ãƒ¼ãƒ­ãƒ¼ã¾ã§å­¦ã¶</strong></a><strong>ï¼</strong></summary>

HackTricksã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ä»–ã®æ–¹æ³•:

* **HackTricksã«ã‚ãªãŸã®ä¼šç¤¾ã‚’åºƒå‘Šã—ãŸã„**ã€ã¾ãŸã¯**HackTricksã‚’PDFã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸã„**å ´åˆã¯ã€[**ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ãƒ—ãƒ©ãƒ³**](https://github.com/sponsors/carlospolop)ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„ï¼
* [**å…¬å¼PEASS & HackTricksã‚°ãƒƒã‚º**](https://peass.creator-spring.com)ã‚’å…¥æ‰‹ã™ã‚‹
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ã‚’ç™ºè¦‹ã—ã€ç‹¬å çš„ãª[**NFTs**](https://opensea.io/collection/the-peass-family)ã®ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹
* ğŸ’¬ [**Discordã‚°ãƒ«ãƒ¼ãƒ—**](https://discord.gg/hRep4RUj7f)ã‚„[**telegramã‚°ãƒ«ãƒ¼ãƒ—**](https://t.me/peass)ã«**å‚åŠ ã™ã‚‹**ã‹ã€**Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/carlospolopm)ã§**ãƒ•ã‚©ãƒ­ãƒ¼ã™ã‚‹**ã€‚
* [**HackTricks**](https://github.com/carlospolop/hacktricks)ã¨[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud)ã®githubãƒªãƒã‚¸ãƒˆãƒªã«PRã‚’æå‡ºã—ã¦ã€ã‚ãªãŸã®ãƒãƒƒã‚­ãƒ³ã‚°ã®ã‚³ãƒ„ã‚’**å…±æœ‰ã™ã‚‹**ã€‚

</details>
