# AWS - Certificate Manager (ACM) & Privatna sertifikaciona vlast (PCA)

<details>

<summary><strong>Nau캜ite hakovanje AWS-a od nule do heroja sa</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Drugi na캜ini podr코ke HackTricks-u:

* Ako 쬰lite da vidite **va코u kompaniju ogla코enu na HackTricks-u** ili **preuzmete HackTricks u PDF formatu** proverite [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Nabavite [**zvani캜ni PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Otkrijte [**The PEASS Family**](https://opensea.io/collection/the-peass-family), na코u kolekciju ekskluzivnih [**NFT-ova**](https://opensea.io/collection/the-peass-family)
* **Pridru쬴te se** 游눫 [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili nas **pratite** na **Twitter-u** 游냕 [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Podelite svoje hakovanje trikove slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>

## Osnovne informacije

**AWS Certificate Manager (ACM)** je pru쬰n kao usluga koja ima za cilj olak코avanje **dobavljanja, upravljanja i implementacije SSL/TLS sertifikata** za AWS usluge i interne resurse. Potreba za ru캜nim procesima, kao 코to su kupovina, otpremanje i obnova sertifikata, je **eliminisana** pomo캖u ACM-a. Ovo omogu캖ava korisnicima da efikasno zahtevaju i implementiraju sertifikate na razli캜itim AWS resursima, uklju캜uju캖i **Elastic Load Balancers, Amazon CloudFront distribucije i API-je na API Gateway-u**.

Klju캜na karakteristika ACM-a je **automatska obnova sertifikata**, 코to zna캜ajno smanjuje administrativni teret. Osim toga, ACM podr쬬va kreiranje i centralizovano upravljanje **privatnim sertifikatima za internu upotrebu**. Iako su SSL/TLS sertifikati za integrisane AWS usluge poput Elastic Load Balancing-a, Amazon CloudFront-a i Amazon API Gateway-a obezbe캠eni bez dodatnih tro코kova putem ACM-a, korisnici su odgovorni za tro코kove povezane sa AWS resursima koje koriste njihove aplikacije i mese캜nu naknadu za svaki **privatni sertifikacioni autoritet (CA)** i privatne sertifikate koji se koriste van integrisanih ACM usluga.

**AWS Private Certificate Authority** se nudi kao **upravljana usluga privatnog CA**, koja pro코iruje mogu캖nosti ACM-a tako 코to uklju캜uje upravljanje privatnim sertifikatima. Ovi privatni sertifikati su od su코tinskog zna캜aja za autentifikaciju resursa unutar organizacije.

## Enumeracija

### ACM
```bash
# List certificates
aws acm list-certificates

# Get certificate info
aws acm describe-certificate --certificate-arn <arn> # Check "InUseBy" to check which resources are using it

# Get certificate data
aws acm get-certificate --certificate-arn "arn:aws:acm:us-east-1:188868097724:certificate/865abced-82c9-43bf-b7d2-1f4948bf353d"

# Account configuration
aws acm get-account-configuration
```
### PCM

PCM (Private Certificate Manager) je usluga koju pru쬬 AWS (Amazon Web Services) koja omogu캖ava korisnicima da upravljaju svojim digitalnim sertifikatima. PCM pru쬬 sigurno skladi코tenje, izdavanje i upravljanje sertifikatima za razli캜ite AWS usluge.

#### Prednosti PCM-a

- **Automatizacija**: PCM omogu캖ava automatizaciju procesa izdavanja i obnavljanja sertifikata, 캜ime se smanjuje potreba za ru캜nim intervencijama.
- **Integracija sa AWS uslugama**: PCM se lako integri코e sa drugim AWS uslugama kao 코to su Elastic Load Balancer (ELB), CloudFront i API Gateway.
- **Sigurnost**: PCM pru쬬 visok nivo sigurnosti za skladi코tenje i upravljanje sertifikatima, uklju캜uju캖i enkripciju podataka i kontrolu pristupa.
- **Centralizovano upravljanje**: PCM omogu캖ava centralizovano upravljanje sertifikatima za razli캜ite AWS naloge i regione.
- **Brza implementacija**: PCM omogu캖ava brzu implementaciju sertifikata za AWS usluge, 캜ime se ubrzava proces razvoja i implementacije aplikacija.

#### Kori코캖enje PCM-a

Da biste koristili PCM, prvo morate kreirati privatnu CA (Certificate Authority) unutar PCM-a. Zatim mo쬰te izdati sertifikate za razli캜ite AWS usluge, kao 코to su ELB, CloudFront i API Gateway.

PCM podr쬬va razli캜ite vrste sertifikata, uklju캜uju캖i RSA, ECDSA i EdDSA. Tako캠e podr쬬va i wildcard sertifikate, koji se mogu koristiti za vi코e poddomena.

Kada izdate sertifikat, PCM 캖e automatski upravljati procesom obnavljanja sertifikata kako bi osigurao da va코a aplikacija nastavi da radi bez prekida.

#### Zaklju캜ak

PCM je mo캖na usluga koja omogu캖ava korisnicima da efikasno upravljaju svojim digitalnim sertifikatima u okviru AWS ekosistema. Pru쬬 automatizaciju, sigurnost i centralizovano upravljanje, 캜ime olak코ava proces izdavanja i upravljanja sertifikatima za AWS usluge.
```bash
# List CAs
aws acm-pca list-certificate-authorities

# Get CA info
aws acm-pca describe-certificate-authority --certificate-authority-arn <arn>

# Get CA Permissions
aws acm-pca list-permissions --certificate-authority-arn <arn>

# Get CA certificate
aws acm-pca get-certificate-authority-certificate --certificate-authority-arn <arn>

# Certificate request
aws acm-pca get-certificate-authority-csr --certificate-authority-arn <arn>

# Get CA Policy (if any)
aws acm-pca get-policy --resource-arn <arn>
```
## Privesc

TODO

## Post Exploitation

TODO

<details>

<summary><strong>Nau캜ite hakovanje AWS-a od nule do heroja sa</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Drugi na캜ini podr코ke HackTricks-u:

* Ako 쬰lite da vidite **va코u kompaniju reklamiranu na HackTricks-u** ili **preuzmete HackTricks u PDF formatu**, proverite [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Nabavite [**zvani캜ni PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Otkrijte [**The PEASS Family**](https://opensea.io/collection/the-peass-family), na코u kolekciju ekskluzivnih [**NFT-ova**](https://opensea.io/collection/the-peass-family)
* **Pridru쬴te se** 游눫 [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili nas **pratite** na **Twitter-u** 游냕 [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Podelite svoje hakovanje trikove slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>
