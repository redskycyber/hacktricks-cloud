# AWS - Enumera√ß√£o do Firewall Manager

<details>

<summary><strong>Aprenda hacking no AWS do zero ao her√≥i com</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Outras formas de apoiar o HackTricks:

* Se voc√™ quer ver sua **empresa anunciada no HackTricks** ou **baixar o HackTricks em PDF**, confira os [**PLANOS DE ASSINATURA**](https://github.com/sponsors/carlospolop)!
* Adquira o [**material oficial PEASS & HackTricks**](https://peass.creator-spring.com)
* Descubra [**A Fam√≠lia PEASS**](https://opensea.io/collection/the-peass-family), nossa cole√ß√£o de [**NFTs**](https://opensea.io/collection/the-peass-family) exclusivos
* **Junte-se ao grupo** üí¨ [**Discord**](https://discord.gg/hRep4RUj7f) ou ao grupo [**telegram**](https://t.me/peass) ou **siga-me** no **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **Compartilhe suas t√©cnicas de hacking enviando PRs para os reposit√≥rios github** [**HackTricks**](https://github.com/carlospolop/hacktricks) e [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>

## Firewall Manager

O AWS Firewall Manager simplifica suas tarefas de administra√ß√£o e manuten√ß√£o em v√°rias contas e recursos para **AWS WAF, AWS Shield Advanced, grupos de seguran√ßa do Amazon VPC e AWS Network Firewall**. Com o Firewall Manager, voc√™ configura suas regras de firewall do AWS WAF, prote√ß√µes do Shield Advanced, grupos de seguran√ßa do Amazon VPC e firewalls do Network Firewall apenas uma vez. O servi√ßo **aplica automaticamente as regras e prote√ß√µes em suas contas e recursos**, mesmo √† medida que voc√™ adiciona novos recursos.

Ele pode **agrupar e proteger recursos espec√≠ficos juntos**, por exemplo, todos os recursos com uma tag espec√≠fica ou todas as suas distribui√ß√µes do CloudFront. Um dos principais benef√≠cios do Firewall Manager √© que ele **protege automaticamente certos recursos que s√£o adicionados** √† sua conta √† medida que se tornam ativos.

**Requisitos**: Criado uma Conta Mestre do Firewall Manager, configurado uma organiza√ß√£o AWS e adicionado nossas contas de membros e ativado o AWS Config.

Um **grupo de regras** (um conjunto de regras WAF juntas) pode ser adicionado a uma Pol√≠tica do AWS Firewall Manager, que √© ent√£o associada a recursos AWS, como suas distribui√ß√µes do cloudfront ou balanceadores de carga de aplica√ß√£o.

**As pol√≠ticas do Firewall Manager s√≥ permitem as op√ß√µes "Bloquear" ou "Contar"** para um grupo de regras (sem op√ß√£o de "Permitir").

## Enumera√ß√£o
```
# Get admin account
aws fms get-admin-account

# Get member accounts
aws fms list-member-accounts

# Get policies
aws fms list-policies

# Get App list
aws fms list-apps-lists --max-results 10

# Get notification channel (if any)
aws fms get-notification-channel

# Get resource sets
aws fms list-resource-sets

# Get admin scope: Get resources Firewall Manager can manage
aws fms get-admin-scope --admin-account <acc-id> # ReadOnly policy is not enough for this

# Get Firewall Manager administrators within the organization that are onboarded to Firewall Manager by AssociateAdminAccount
aws fms list-admin-accounts-for-organization # ReadOnly policy is not enough for this
```
## Bypass de Detec√ß√£o

TODO, PRs aceitos

<details>

<summary><strong>Aprenda hacking na AWS do zero ao her√≥i com</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Outras formas de apoiar o HackTricks:

* Se voc√™ quer ver sua **empresa anunciada no HackTricks** ou **baixar o HackTricks em PDF**, confira os [**PLANOS DE ASSINATURA**](https://github.com/sponsors/carlospolop)!
* Adquira o [**material oficial PEASS & HackTricks**](https://peass.creator-spring.com)
* Descubra [**A Fam√≠lia PEASS**](https://opensea.io/collection/the-peass-family), nossa cole√ß√£o exclusiva de [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Junte-se ao grupo do** üí¨ [**Discord**](https://discord.gg/hRep4RUj7f) ou ao grupo do [**telegram**](https://t.me/peass) ou **siga-me** no **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **Compartilhe suas t√©cnicas de hacking enviando PRs para os reposit√≥rios do** [**HackTricks**](https://github.com/carlospolop/hacktricks) e [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) no github.

</details>
