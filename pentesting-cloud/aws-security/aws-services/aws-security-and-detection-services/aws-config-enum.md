# AWS - Config Enum

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong> ile sÄ±fÄ±rdan kahraman olmak iÃ§in AWS hackleme Ã¶ÄŸrenin<strong>!</strong></summary>

HackTricks'Ä± desteklemenin diÄŸer yollarÄ±:

* Åirketinizi HackTricks'te **reklamÄ±nÄ± gÃ¶rmek** veya HackTricks'i **PDF olarak indirmek** iÃ§in [**ABONELÄ°K PLANLARINI**](https://github.com/sponsors/carlospolop) kontrol edin!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* Ã–zel [**NFT'lerden**](https://opensea.io/collection/the-peass-family) oluÅŸan [**The PEASS Ailesi'ni**](https://opensea.io/collection/the-peass-family) keÅŸfedin
* ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) katÄ±lÄ±n veya **Twitter'da** ğŸ¦ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**'Ä± takip edin**.
* **Hacking hilelerinizi** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna **PR gÃ¶ndererek paylaÅŸÄ±n**.

</details>

## AWS Config

AWS Config, **kaynak deÄŸiÅŸikliklerini kaydeder**, bu nedenle Config tarafÄ±ndan desteklenen bir kaynaÄŸÄ±n herhangi bir deÄŸiÅŸikliÄŸi kaydedilebilir ve bu deÄŸiÅŸiklikler bir yapÄ±landÄ±rma Ã¶ÄŸesi (CI) olarak bilinen bir dosyada kaydedilir. Bu hizmet **bÃ¶lgeye Ã¶zgÃ¼dÃ¼r**.

Bir yapÄ±landÄ±rma Ã¶ÄŸesi veya **CI**, AWS Config'Ä±n temel bir bileÅŸenidir. Desteklenen bir kaynaÄŸÄ±n yapÄ±landÄ±rmasÄ±nda herhangi bir deÄŸiÅŸiklik yapÄ±ldÄ±ÄŸÄ±nda, bir CI oluÅŸturulur. Etkilenen kaynaÄŸÄ±n ayrÄ±ntÄ±larÄ±nÄ± kaydetmenin yanÄ± sÄ±ra, AWS Config, deÄŸiÅŸikliÄŸin bu kaynaklarÄ± da etkileyip etkilemediÄŸini kontrol etmek iÃ§in doÄŸrudan iliÅŸkili kaynaklar iÃ§in de CI'lar kaydeder.

* **Meta veri**: YapÄ±landÄ±rma Ã¶ÄŸesi hakkÄ±nda ayrÄ±ntÄ±lar iÃ§erir. CI'yi benzersiz bir ÅŸekilde tanÄ±mlayan bir sÃ¼rÃ¼m kimliÄŸi ve yapÄ±landÄ±rma kimliÄŸi iÃ§erir. DiÄŸer bilgiler arasÄ±nda, aynÄ± kaynaÄŸa karÅŸÄ± zaten kaydedilmiÅŸ diÄŸer CI'larla karÅŸÄ±laÅŸtÄ±rmanÄ±za olanak tanÄ±yan bir MD5Hash bulunabilir.
* **Ã–znitelikler**: Bu, gerÃ§ek kaynaÄŸa karÅŸÄ± ortak **Ã¶znitelik bilgilerini** iÃ§erir. Bu bÃ¶lÃ¼mde, ayrÄ±ca kaynaÄŸa iliÅŸkilendirilmiÅŸ benzersiz bir kaynak kimliÄŸi ve herhangi bir anahtar deÄŸer etiketi bulunur. Kaynak tÃ¼rÃ¼ de listelenir. Ã–rneÄŸin, bu bir EC2 Ã¶rneÄŸi iÃ§in bir CI ise, listelenen kaynak tÃ¼rleri aÄŸ arabirimini veya EC2 Ã¶rneÄŸinin elastik IP adresini olabilir.
* **Ä°liÅŸkiler**: Bu, kaynaÄŸÄ±n sahip olabileceÄŸi herhangi bir baÄŸlantÄ±lÄ± **iliÅŸki hakkÄ±nda bilgi** iÃ§erir. Bu bÃ¶lÃ¼mde, bir CI'nin bir EC2 Ã¶rneÄŸi iÃ§in olduÄŸunu varsayarsak, bu kaynaÄŸÄ±n baÄŸlantÄ±sÄ±nÄ± ve EC2 Ã¶rneÄŸinin bulunduÄŸu alt aÄŸÄ± gÃ¶sterebilir.
* **GeÃ§erli yapÄ±landÄ±rma**: Bu, AWS CLI tarafÄ±ndan yapÄ±lan bir aÃ§Ä±klama veya liste API Ã§aÄŸrÄ±sÄ± yaparsanÄ±z oluÅŸturulan bilgileri gÃ¶sterecektir. AWS Config, aynÄ± bilgileri elde etmek iÃ§in aynÄ± API Ã§aÄŸrÄ±larÄ±nÄ± kullanÄ±r.
* **Ä°lgili olaylar**: Bu, AWS CloudTrail ile ilgilidir. Bu, bu CI'nin oluÅŸturulmasÄ±nÄ± tetikleyen deÄŸiÅŸiklikle iliÅŸkili olan **AWS CloudTrail olay kimliÄŸini** gÃ¶sterecektir. Bir kaynaÄŸa karÅŸÄ± yapÄ±lan her deÄŸiÅŸiklik iÃ§in yeni bir CI oluÅŸturulur. SonuÃ§ olarak, farklÄ± CloudTrail olay kimlikleri oluÅŸturulur.

**YapÄ±landÄ±rma GeÃ§miÅŸi**: YapÄ±landÄ±rma Ã¶ÄŸeleri sayesinde kaynaklarÄ±n yapÄ±landÄ±rma geÃ§miÅŸini elde etmek mÃ¼mkÃ¼ndÃ¼r. Her 6 saatte bir teslim edilen bir yapÄ±landÄ±rma geÃ§miÅŸi, belirli bir kaynak tÃ¼rÃ¼ iÃ§in tÃ¼m CI'larÄ± iÃ§erir.

**YapÄ±landÄ±rma AkÄ±ÅŸlarÄ±**: YapÄ±landÄ±rma Ã¶ÄŸeleri, verilerin analizine olanak tanÄ±mak iÃ§in bir SNS Konusu'na gÃ¶nderilir.

**YapÄ±landÄ±rma AnlÄ±k GÃ¶rÃ¼ntÃ¼leri**: YapÄ±landÄ±rma Ã¶ÄŸeleri, desteklenen tÃ¼m kaynaklarÄ±n zamana baÄŸlÄ± bir anlÄ±k gÃ¶rÃ¼ntÃ¼sÃ¼nÃ¼ oluÅŸturmak iÃ§in kullanÄ±lÄ±r.

**YapÄ±landÄ±rma GeÃ§miÅŸi dosyalarÄ± ve yapÄ±landÄ±rma anlÄ±k gÃ¶rÃ¼ntÃ¼leri**, yapÄ±landÄ±rma kaydedicisinde tanÄ±mlanan tek bir kovette (S3) depolanÄ±r. Birden fazla AWS hesabÄ±nÄ±z varsa, yapÄ±landÄ±rma geÃ§miÅŸi dosyalarÄ±nÄ± birincil hesabÄ±nÄ±zdaki aynÄ± S3 kovete toplamak isteyebilirsiniz. Bununla birlikte, bu hizmet prensibi, config.amazonaws.com hizmet ilkesine yazma eriÅŸimi ve birincil hesabÄ±nÄ±zdaki S3 kovete yazma eriÅŸimi vermeniz gerekecektir.

### Ã‡alÄ±ÅŸma

* Ã–rneÄŸin, gÃ¼venlik grubu veya kova eriÅŸim kontrol listesi gibi deÄŸiÅŸiklikler yapÄ±lÄ±rken â€”> AWS Config tarafÄ±ndan yakalanan bir Olay olarak ateÅŸlenir
* Her ÅŸey S3 kovasÄ±nda depolanÄ±r
* Kurulumun baÄŸlÄ± olduÄŸuna baÄŸlÄ± olarak, bir ÅŸey deÄŸiÅŸtiÄŸinde hemen bir lambda iÅŸlevi tetiklenebilir veya AWS Config ayarlarÄ±nÄ± periyodik olarak kontrol etmek iÃ§in bir lambda iÅŸlevi zamanlanabilir
* Lambda, Config'a geri bildirim yapar
* EÄŸer bir kural ihlal edilmiÅŸse, Config bir SNS baÅŸlatÄ±r

![](<../../../../.gitbook/assets/image (46).png>)

### Config KurallarÄ±

Config kurallarÄ±, kaynaklarÄ±nÄ±z Ã¼zerinde belirli uyumluluk kontrollerini ve denetimleri **uygulamanÄ±za yardÄ±mcÄ± olmak iÃ§in harika bir yoldur** ve her bir kaynak tÃ¼rÃ¼ iÃ§in ideal bir daÄŸÄ±tÄ±m belirtimi benimsemenizi saÄŸlar. Her kural **esasen bir lambda iÅŸlevidir** ve Ã§aÄŸrÄ±ldÄ±ÄŸÄ±nda kaynaÄŸÄ± deÄŸerlendirir ve kurala uygunluk sonucunu belirlemek iÃ§in bazÄ± basit mantÄ±k iÅŸlemleri gerÃ§ekleÅŸtirir. Desteklenen kaynaklarÄ±nÄ±zdan birinde bir deÄŸiÅŸiklik yapÄ±lÄ±rsa, AWS Config, yerleÅŸtirdiÄŸiniz herhangi bir yapÄ±landÄ±rma kuralÄ±na karÅŸÄ± uyumluluÄŸu kontrol eder.\
AWS'nin kullanÄ±ma hazÄ±r olan gÃ¼venlik kapsamÄ±na giren bir dizi **Ã¶nceden tanÄ±mlanmÄ±ÅŸ kuralÄ±** vardÄ±r. Ã–rneÄŸin, Rds-storage-encrypted. Bu, RDS veritabanÄ± Ã¶rneklerinizde depolama ÅŸifrelemesinin etkin olup olmadÄ±ÄŸÄ±nÄ± kontrol eder. Encrypted-volumes. Bu, baÄŸlÄ± bir durumu olan herhangi bir EBS biriminin ÅŸifrelenip ÅŸifrelenmediÄŸini kontrol eder.

* **AWS YÃ¶netilen kurallar**: Ã‡oÄŸu en iyi uygulamayÄ± kapsayan Ã¶nceden tanÄ±mlanmÄ±ÅŸ kurallar kÃ¼mesi, bu nedenle kendi kurallarÄ±nÄ±zÄ± oluÅŸturmadan Ã¶nce bu kurallarÄ± gÃ¶zden geÃ§irmek her zaman faydalÄ± olabilir.
* **Ã–zel kurallar**: Belirli Ã¶zel yapÄ±landÄ±rmalarÄ± kontrol etmek iÃ§in kendi kurallarÄ±nÄ±zÄ± oluÅŸturabilirsiniz.

Bir bÃ¶lgede 50 yapÄ±landÄ±rma kuralÄ± sÄ±nÄ±rÄ±na ulaÅŸtÄ±ÄŸÄ±nÄ±zda AWS ile iletiÅŸime geÃ§meniz gerekmektedir.\
Uyumsuz sonuÃ§lar SÄ°LÄ°NMEZ.

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong> ile sÄ±fÄ±rdan kahraman olmak iÃ§in AWS hackleme Ã¶ÄŸrenin<strong>!</strong></summary
