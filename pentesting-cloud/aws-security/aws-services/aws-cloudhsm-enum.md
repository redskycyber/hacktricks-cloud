# AWS - CloudHSM Enum

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong> ile sÄ±fÄ±rdan kahraman olmak iÃ§in AWS hackleme Ã¶ÄŸrenin<strong>!</strong></summary>

HackTricks'Ä± desteklemenin diÄŸer yollarÄ±:

* Åirketinizi HackTricks'te **reklamÄ±nÄ±zÄ± gÃ¶rmek** veya **HackTricks'i PDF olarak indirmek** iÃ§in [**ABONELÄ°K PLANLARI**](https://github.com/sponsors/carlospolop)'na gÃ¶z atÄ±n!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) koleksiyonumuzu keÅŸfedin, Ã¶zel [**NFT'ler**](https://opensea.io/collection/the-peass-family)
* ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katÄ±lÄ±n** veya **Twitter** ğŸ¦ [**@hacktricks_live**](https://twitter.com/hacktricks_live)'Ä± takip edin.
* Hacking hilelerinizi gÃ¶ndererek HackTricks ve HackTricks Cloud github depolarÄ±na **PR gÃ¶ndererek** hilelerinizi paylaÅŸÄ±n.

</details>

## HSM - DonanÄ±m GÃ¼venlik ModÃ¼lÃ¼

Cloud HSM, gÃ¼venli kriptografik anahtar depolama iÃ§in FIPS 140 seviye iki onaylÄ± bir **donanÄ±m cihazÄ±dÄ±r** (CloudHSM bir donanÄ±m cihazÄ±dÄ±r, sanallaÅŸtÄ±rÄ±lmÄ±ÅŸ bir hizmet deÄŸildir). 5.3.13 Ã¶nceden yÃ¼klenmiÅŸ bir SafeNetLuna 7000 cihazÄ±dÄ±r. Ä°ki firmware sÃ¼rÃ¼mÃ¼ vardÄ±r ve hangisini seÃ§eceÄŸiniz tamamen ihtiyaÃ§larÄ±nÄ±za baÄŸlÄ±dÄ±r. Bir tanesi FIPS 140-2 uyumluluÄŸu iÃ§indir ve kullanÄ±labilecek daha yeni bir sÃ¼rÃ¼m vardÄ±r.

CloudHSM'nin olaÄŸandÄ±ÅŸÄ± Ã¶zelliÄŸi, fiziksel bir cihaz olmasÄ± ve bu nedenle diÄŸer mÃ¼ÅŸterilerle paylaÅŸÄ±lmamasÄ±dÄ±r, yani genellikle Ã§ok kiracÄ±lÄ± olarak adlandÄ±rÄ±lan bir durum sÃ¶z konusu deÄŸildir. Bu, yalnÄ±zca sizin iÅŸ yÃ¼kleriniz iÃ§in kullanÄ±labilen, Ã¶zel olarak ayrÄ±lmÄ±ÅŸ tek kiracÄ±lÄ± bir cihazdÄ±r.

Tipik olarak, bir cihaz, kapasite mevcut olduÄŸunda 15 dakika iÃ§inde kullanÄ±labilir hale gelir, ancak bazÄ± bÃ¶lgelerde mevcut olmayabilir.

Bu, size Ã¶zel bir cihaz olduÄŸu iÃ§in **anahtarlar cihazda depolanÄ±r**. Anahtarlar, baÅŸka bir cihaza **replike edilmeli**, Ã§evrimdÄ±ÅŸÄ± depolamaya yedeklenmeli veya yedek bir cihaza aktarÄ±lmalÄ±dÄ±r. Bu cihaz, S3 veya KMS gibi AWS'nin baÅŸka bir hizmeti tarafÄ±ndan desteklenmez.

**CloudHSM**'de, **hizmeti kendiniz Ã¶lÃ§eklendirmeniz gerekir**. Ã‡Ã¶zÃ¼mÃ¼nÃ¼z iÃ§in uyguladÄ±ÄŸÄ±nÄ±z ÅŸifreleme algoritmalarÄ±na baÄŸlÄ± olarak, ÅŸifreleme ihtiyaÃ§larÄ±nÄ±zÄ± karÅŸÄ±lamak iÃ§in yeterli sayÄ±da CloudHSM cihazÄ± tahsis etmelisiniz.\
Anahtar YÃ¶netimi Hizmeti Ã¶lÃ§eklendirmesi AWS tarafÄ±ndan gerÃ§ekleÅŸtirilir ve talebe gÃ¶re otomatik olarak Ã¶lÃ§eklenir, bu nedenle kullanÄ±mÄ±nÄ±z arttÄ±kÃ§a gereken CloudHSM cihazlarÄ±nÄ±n sayÄ±sÄ± da artabilir. Ã‡Ã¶zÃ¼mÃ¼nÃ¼zÃ¼ Ã¶lÃ§eklendirirken bunu gÃ¶z Ã¶nÃ¼nde bulundurun ve Ã§Ã¶zÃ¼mÃ¼nÃ¼zÃ¼n otomatik Ã¶lÃ§eklendirmesi varsa, Ã§Ã¶zÃ¼mÃ¼ hizmet vermek iÃ§in yeterli sayÄ±da CloudHSM cihazÄ±yla hesaba katÄ±ldÄ±ÄŸÄ±ndan emin olun.

Ã–lÃ§eklendirme gibi, **performans da CloudHSM'ye sizin sorumluluÄŸunuzdadÄ±r**. Performans, kullanÄ±lan ÅŸifreleme algoritmasÄ±na ve verileri ÅŸifrelemek iÃ§in anahtarlarÄ± ne sÄ±klÄ±kla eriÅŸmeniz veya almanÄ±z gerektiÄŸine baÄŸlÄ± olarak deÄŸiÅŸir. Anahtar yÃ¶netimi hizmeti performansÄ± Amazon tarafÄ±ndan yÃ¶netilir ve talep gerektirdiÄŸinde otomatik olarak Ã¶lÃ§eklenir. CloudHSM'nin performansÄ±, daha fazla cihaz ekleyerek elde edilir ve daha fazla performans gerekiyorsa, cihazlarÄ± eklersiniz veya daha hÄ±zlÄ± olan bir ÅŸifreleme yÃ¶ntemine geÃ§ersiniz.

Ã‡Ã¶zÃ¼mÃ¼nÃ¼z **Ã§oklu bÃ¶lge** ise, ikinci bÃ¶lgede birkaÃ§ **CloudHSM cihazÄ± eklemeli ve Ã¶zel bir VPN baÄŸlantÄ±sÄ±** veya baÄŸlantÄ±nÄ±n her katmanÄ±nda trafiÄŸin her zaman korunduÄŸunu saÄŸlamak iÃ§in bir yÃ¶ntemle Ã§apraz bÃ¶lge baÄŸlantÄ±sÄ±nÄ± Ã§alÄ±ÅŸtÄ±rmalÄ±sÄ±nÄ±z. Ã‡oklu bÃ¶lge Ã§Ã¶zÃ¼mÃ¼nÃ¼z varsa, anahtarlarÄ± nasÄ±l replike edeceÄŸinizi dÃ¼ÅŸÃ¼nmeli ve iÅŸlettiÄŸiniz bÃ¶lgelerde ek CloudHSM cihazlarÄ± kurmalÄ±sÄ±nÄ±z. Åifreleme anahtarlarÄ±nÄ±zÄ±n tamamen yedekliliÄŸini saÄŸlamak iÃ§in birden fazla bÃ¶lgeye yayÄ±lmÄ±ÅŸ altÄ± veya sekiz cihaza sahip olabileceÄŸiniz bir senaryoya hÄ±zlÄ±ca geÃ§ebilirsiniz.

**CloudHSM**, gÃ¼venli anahtar depolama iÃ§in kurumsal sÄ±nÄ±f bir hizmettir ve bir **kuruluÅŸun gÃ¼ven kÃ¶kÃ¼** olarak kullanÄ±labilir. PKI'da Ã¶zel anahtarlarÄ± ve X509 uygulamalarÄ±nda sertifika yetkilisi anahtarlarÄ±nÄ± depolayabilir. AES gibi simetrik algoritmalarda kullanÄ±lan simetrik anahtarlar dÄ±ÅŸÄ±nda, **KMS yalnÄ±zca simetrik anahtarlarÄ± depolar ve fiziksel olarak korur (bir sertifika yetkilisi olarak hareket edemez)**, bu nedenle PKI ve CA anahtarlarÄ±nÄ± depolamanÄ±z gerekiyorsa, bir veya iki CloudHSM cihazÄ± Ã§Ã¶zÃ¼mÃ¼nÃ¼z olabilir.

**CloudHSM, Anahtar YÃ¶netimi Hizmeti'nden Ã¶nemli Ã¶lÃ§Ã¼de daha pahalÄ±dÄ±r**. CloudHSM bir donanÄ±m cihazÄ± olduÄŸundan, CloudHSM cihazÄ±nÄ± tahsis etmek iÃ§in sabit maliyetleriniz vardÄ±r, ardÄ±ndan cihazÄ± Ã§alÄ±ÅŸtÄ±rmak iÃ§in saatlik bir Ã¼cret vardÄ±r. Maliyet, belirli gereksinimlerinizi karÅŸÄ±lamak iÃ§in gereken CloudHSM cihazlarÄ±nÄ±n sayÄ±sÄ±yla Ã§arpÄ±lÄ±r.\
AyrÄ±ca, SafeNet ProtectV yazÄ±lÄ±m paketleri gibi Ã¼Ã§Ã¼ncÃ¼ taraf yazÄ±lÄ±mÄ±n satÄ±n alÄ±nmasÄ± ve entegrasyon sÃ¼resi ve Ã§abasÄ± da gÃ¶z Ã¶nÃ¼nde bulundurulmalÄ±dÄ±r. Anahtar YÃ¶netimi Hizmeti, kullanÄ±ma dayalÄ± bir hizmettir ve sahip olduÄŸunuz anahtarlarÄ±n sayÄ±sÄ±na ve giriÅŸ/Ã§Ä±kÄ±ÅŸ iÅŸlemlerine baÄŸlÄ±dÄ±r. Anahtar yÃ¶netimi, birÃ§ok AWS hizmetiyle sorunsuz entegrasyon saÄŸladÄ±ÄŸÄ±ndan, entegrasyon maliyetleri Ã¶nemli Ã¶lÃ§Ã¼de daha dÃ¼ÅŸÃ¼k olmalÄ±dÄ±r. Maliyetler, genellikle gÃ¼venlik ve uyumluluk iÃ§in kullanÄ±lan ÅŸifreleme Ã§Ã¶zÃ¼mlerinde ikincil bir faktÃ¶r olarak deÄŸerlendirilmelidir.

**CloudHSM ile yalnÄ±zca siz anahtarlara eriÅŸebilirsiniz** ve Ã§ok fazla detaya girmeden, CloudHSM ile kendi anahtarlarÄ±nÄ±zÄ± yÃ¶netirsiniz. **KMS ile siz ve Amazon anahtarlarÄ± birlikte yÃ¶netirsiniz**. AWS, her iki Ã§Ã¶zÃ¼mde de kÃ¶tÃ¼ye kullanÄ±ma karÅŸÄ± birÃ§ok politika korumasÄ±na sahiptir ve **anahtarlarÄ±nÄ±za eriÅŸemez**. Temel fark, anahtar sahipliÄŸi ve yÃ¶netimi ile ilgili uyumluluktur ve CloudHSM'de bu, sizin yÃ¶nettiÄŸiniz ve yalnÄ±zca size Ã¶zel eriÅŸimi olan bir donanÄ±m cihazÄ±dÄ±r.

### CloudHSM Ã–nerileri

1. CloudHSM'yi her
### Hardware Security Module Nedir

Bir donanÄ±m gÃ¼venlik modÃ¼lÃ¼ (HSM), kriptografik anahtarlarÄ± Ã¼retmek, depolamak ve yÃ¶netmek, hassas verileri korumak iÃ§in kullanÄ±lan Ã¶zel bir kriptografik cihazdÄ±r. Kriptografik iÅŸlevleri fiziksel ve elektronik olarak sistemden izole ederek yÃ¼ksek dÃ¼zeyde gÃ¼venlik saÄŸlamak Ã¼zere tasarlanmÄ±ÅŸtÄ±r.

Bir HSM'nin Ã§alÄ±ÅŸma ÅŸekli, belirli bir model ve Ã¼reticiye baÄŸlÄ± olarak deÄŸiÅŸebilir, ancak genel olarak aÅŸaÄŸÄ±daki adÄ±mlar gerÃ§ekleÅŸir:

1. **Anahtar Ã¼retimi**: HSM, gÃ¼venli bir rastgele sayÄ± Ã¼reteci kullanarak rastgele bir kriptografik anahtar Ã¼retir.
2. **Anahtar depolama**: Anahtar, **yalnÄ±zca yetkili kullanÄ±cÄ±lar veya iÅŸlemler tarafÄ±ndan eriÅŸilebilen ÅŸekilde HSM iÃ§inde gÃ¼venli bir ÅŸekilde depolanÄ±r**.
3. **Anahtar yÃ¶netimi**: HSM, anahtar dÃ¶ndÃ¼rme, yedekleme ve iptal gibi Ã§eÅŸitli anahtar yÃ¶netimi iÅŸlevleri saÄŸlar.
4. **Kriptografik iÅŸlemler**: HSM, ÅŸifreleme, ÅŸifre Ã§Ã¶zme, dijital imza ve anahtar deÄŸiÅŸimi gibi Ã§eÅŸitli kriptografik iÅŸlemleri gerÃ§ekleÅŸtirir. Bu iÅŸlemler, **HSM'nin gÃ¼venli ortamÄ±nda gerÃ§ekleÅŸtirilir ve yetkisiz eriÅŸim ve mÃ¼dahalelere karÅŸÄ± koruma saÄŸlar**.
5. **Denetim kaydÄ±**: HSM, tÃ¼m kriptografik iÅŸlemleri ve eriÅŸim giriÅŸimlerini kaydeder, bu kayÄ±tlar uyumluluk ve gÃ¼venlik denetimi amaÃ§larÄ±yla kullanÄ±labilir.

HSM'ler, gÃ¼venli Ã§evrimiÃ§i iÅŸlemler, dijital sertifikalar, gÃ¼venli iletiÅŸim ve veri ÅŸifreleme gibi geniÅŸ bir uygulama yelpazesinde kullanÄ±labilir. Finans, saÄŸlÄ±k ve hÃ¼kÃ¼met gibi yÃ¼ksek dÃ¼zeyde gÃ¼venlik gerektiren endÃ¼strilerde sÄ±klÄ±kla kullanÄ±lÄ±rlar.

Genel olarak, HSM'lerin saÄŸladÄ±ÄŸÄ± yÃ¼ksek dÃ¼zeyde gÃ¼venlik, **onlardan ham anahtarlarÄ±n Ã§Ä±karÄ±lmasÄ±nÄ± Ã§ok zor hale getirir ve bunu denemek genellikle bir gÃ¼venlik ihlali olarak kabul edilir**. Bununla birlikte, belirli senaryolarda, anahtar kurtarma prosedÃ¼rÃ¼ gibi belirli amaÃ§lar iÃ§in yetkili personel tarafÄ±ndan **ham bir anahtar Ã§Ä±karÄ±labilir**. 

### NumaralandÄ±rma
```
```
<details>

<summary><strong>AWS hackleme becerilerini sÄ±fÄ±rdan kahraman seviyesine Ã¶ÄŸrenmek iÃ§in</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ±)</strong></a><strong>'Ä± Ã¶ÄŸrenin!</strong></summary>

HackTricks'Ä± desteklemenin diÄŸer yollarÄ±:

* **Åirketinizi HackTricks'te reklamÄ±nÄ± gÃ¶rmek isterseniz** veya **HackTricks'i PDF olarak indirmek isterseniz** [**ABONELÄ°K PLANLARINA**](https://github.com/sponsors/carlospolop) gÃ¶z atÄ±n!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* [**The PEASS Ailesi'ni**](https://opensea.io/collection/the-peass-family) keÅŸfedin, Ã¶zel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family) koleksiyonumuz
* ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katÄ±lÄ±n** veya **Twitter** ğŸ¦ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**'Ä± takip edin.**
* **Hacking hilelerinizi paylaÅŸarak PR gÃ¶ndererek** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github depolarÄ±na katkÄ±da bulunun.

</details>
