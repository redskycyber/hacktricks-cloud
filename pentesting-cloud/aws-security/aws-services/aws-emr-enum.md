# AWS - EMR Enum

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong>ë¥¼ í†µí•´ AWS í•´í‚¹ì„ ì²˜ìŒë¶€í„° ì „ë¬¸ê°€ê¹Œì§€ ë°°ì›Œë³´ì„¸ìš”<strong>!</strong></summary>

HackTricksë¥¼ ì§€ì›í•˜ëŠ” ë‹¤ë¥¸ ë°©ë²•:

* **íšŒì‚¬ë¥¼ HackTricksì—ì„œ ê´‘ê³ í•˜ê±°ë‚˜ HackTricksë¥¼ PDFë¡œ ë‹¤ìš´ë¡œë“œ**í•˜ë ¤ë©´ [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)ë¥¼ í™•ì¸í•˜ì„¸ìš”!
* [**ê³µì‹ PEASS & HackTricks ìŠ¤ì›¨ê·¸**](https://peass.creator-spring.com)ë¥¼ ì–»ìœ¼ì„¸ìš”.
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ë¥¼ ë°œê²¬í•˜ì„¸ìš”. ë…ì ì ì¸ [**NFTs**](https://opensea.io/collection/the-peass-family) ì»¬ë ‰ì…˜ì…ë‹ˆë‹¤.
* ğŸ’¬ [**Discord ê·¸ë£¹**](https://discord.gg/hRep4RUj7f) ë˜ëŠ” [**í…”ë ˆê·¸ë¨ ê·¸ë£¹**](https://t.me/peass)ì— **ì°¸ì—¬**í•˜ê±°ë‚˜ **Twitter** ğŸ¦ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**ë¥¼** **íŒ”ë¡œìš°**í•˜ì„¸ìš”.
* **Hacking íŠ¸ë¦­ì„ ê³µìœ í•˜ë ¤ë©´** [**HackTricks**](https://github.com/carlospolop/hacktricks) ë° [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github ì €ì¥ì†Œì— PRì„ ì œì¶œí•˜ì„¸ìš”.

</details>

## EMR

AWSì˜ Elastic MapReduce (EMR) ì„œë¹„ìŠ¤ëŠ” 4.8.0 ë²„ì „ë¶€í„° **ë³´ì•ˆ êµ¬ì„±** ê¸°ëŠ¥ì„ ë„ì…í•˜ì—¬ EMR í´ëŸ¬ìŠ¤í„° ë‚´ì—ì„œ ë°ì´í„°ì˜ ì•ˆì „í•œ ë³´í˜¸ë¥¼ ê°•í™”í•©ë‹ˆë‹¤. EMR í´ëŸ¬ìŠ¤í„°ëŠ” Apache Hadoop ë° Sparkì™€ ê°™ì€ ëŒ€ê·œëª¨ ë°ì´í„° í”„ë ˆì„ì›Œí¬ë¥¼ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ ì„¤ê³„ëœ EC2 ì¸ìŠ¤í„´ìŠ¤ì˜ í™•ì¥ ê°€ëŠ¥í•œ ê·¸ë£¹ì…ë‹ˆë‹¤.

ì£¼ìš” íŠ¹ì§•ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:

- **í´ëŸ¬ìŠ¤í„° ì•”í˜¸í™” ê¸°ë³¸ê°’**: ê¸°ë³¸ì ìœ¼ë¡œ í´ëŸ¬ìŠ¤í„° ë‚´ì˜ ì •ì§€ëœ ë°ì´í„°ëŠ” ì•”í˜¸í™”ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì•”í˜¸í™”ë¥¼ í™œì„±í™”í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì€ ì—¬ëŸ¬ ê¸°ëŠ¥ì— ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:
- **Linux í†µí•© í‚¤ ì„¤ì •**: EBS í´ëŸ¬ìŠ¤í„° ë³¼ë¥¨ì„ ì•”í˜¸í™”í•©ë‹ˆë‹¤. ì‚¬ìš©ìëŠ” AWS Key Management Service (KMS) ë˜ëŠ” ì‚¬ìš©ì ì •ì˜ í‚¤ ì œê³µìë¥¼ ì„ íƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- **ì˜¤í”ˆ ì†ŒìŠ¤ HDFS ì•”í˜¸í™”**: Hadoopì— ëŒ€í•´ ë‘ ê°€ì§€ ì•”í˜¸í™” ì˜µì…˜ì´ ì œê³µë©ë‹ˆë‹¤:
- Simple Authentication Security Layerë¥¼ í™œìš©í•˜ì—¬ ê°œì¸ ì •ë³´ë¡œ ì„¤ì •ëœ ì•ˆì „í•œ Hadoop RPC (ì›ê²© í”„ë¡œì‹œì € í˜¸ì¶œ).
- AES-256 ì•Œê³ ë¦¬ì¦˜ì„ í™œìš©í•œ HDFS ë¸”ë¡ ì „ì†¡ ì•”í˜¸í™”.

- **ì „ì†¡ ì¤‘ ì•”í˜¸í™”**: ì „ì†¡ ì¤‘ ë°ì´í„°ë¥¼ ë³´í˜¸í•˜ëŠ” ë° ì¤‘ì ì„ ë‘¡ë‹ˆë‹¤. ì˜µì…˜ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:
- **ì˜¤í”ˆ ì†ŒìŠ¤ ì „ì†¡ ê³„ì¸µ ë³´ì•ˆ (TLS)**: ì¸ì¦ì„œ ì œê³µìë¥¼ ì„ íƒí•¨ìœ¼ë¡œì¨ ì•”í˜¸í™”ë¥¼ í™œì„±í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:
- **PEM**: PEM ì¸ì¦ì„œë¥¼ ìˆ˜ë™ìœ¼ë¡œ ìƒì„±í•˜ê³  S3 ë²„í‚·ì—ì„œ ì°¸ì¡°ë˜ëŠ” zip íŒŒì¼ì— ë²ˆë“¤ë¡œ ë§Œë“¤ì–´ì•¼ í•©ë‹ˆë‹¤.
- **ì‚¬ìš©ì ì •ì˜**: ì•”í˜¸í™” ì•„í‹°íŒ©íŠ¸ë¥¼ ì œê³µí•˜ëŠ” ì‚¬ìš©ì ì •ì˜ Java í´ë˜ìŠ¤ë¥¼ ì¸ì¦ì„œ ì œê³µìë¡œ ì¶”ê°€í•˜ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.

TLS ì¸ì¦ì„œ ì œê³µìê°€ ë³´ì•ˆ êµ¬ì„±ì— í†µí•©ë˜ë©´ EMR ë²„ì „ì— ë”°ë¼ ë‹¤ì–‘í•œ ì‘ìš© í”„ë¡œê·¸ë¨ë³„ ì•”í˜¸í™” ê¸°ëŠ¥ì„ í™œì„±í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

- **Hadoop**:
- TLSë¥¼ ì‚¬ìš©í•˜ì—¬ ì•”í˜¸í™”ëœ ì…”í”Œì„ ì¤„ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- Simple Authentication Security Layer ë° AES-256ì„ ì‚¬ìš©í•˜ì—¬ Hadoop RPCì™€ HDFS ë¸”ë¡ ì „ì†¡ì„ í™œì„±í™”í•©ë‹ˆë‹¤.

- **Presto** (EMR ë²„ì „ 5.6.0 ì´ìƒ):
- Presto ë…¸ë“œ ê°„ì˜ ë‚´ë¶€ í†µì‹ ì€ SSL ë° TLSë¥¼ ì‚¬ìš©í•˜ì—¬ ë³´í˜¸ë©ë‹ˆë‹¤.

- **Tez Shuffle Handler**:
- ì•”í˜¸í™”ë¥¼ ìœ„í•´ TLSë¥¼ í™œìš©í•©ë‹ˆë‹¤.

- **Spark**:
- Akka í”„ë¡œí† ì½œì— ëŒ€í•´ TLSë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
- Simple Authentication Security Layer ë° 3DESë¥¼ ì‚¬ìš©í•˜ì—¬ ë¸”ë¡ ì „ì†¡ ì„œë¹„ìŠ¤ë¥¼ ì²˜ë¦¬í•©ë‹ˆë‹¤.
- ì™¸ë¶€ ì…”í”Œ ì„œë¹„ìŠ¤ëŠ” Simple Authentication Security Layerë¡œ ë³´í˜¸ë©ë‹ˆë‹¤.

ì´ëŸ¬í•œ ê¸°ëŠ¥ë“¤ì€ EMR í´ëŸ¬ìŠ¤í„°ì˜ ë³´ì•ˆì„ í–¥ìƒì‹œí‚¤ë©°, íŠ¹íˆ ì €ì¥ ë° ì „ì†¡ ë‹¨ê³„ì—ì„œ ë°ì´í„° ë³´í˜¸ì— ê´€ë ¨ë©ë‹ˆë‹¤.


### ì—´ê±°
```bash
aws emr list-clusters
aws emr describe-cluster --cluster-id <id>
aws emr list-instances --cluster-id <id>
aws emr list-instance-fleets --cluster-id <id>
aws emr list-steps --cluster-id <id>
aws emr list-notebook-executions
aws emr list-security-configurations
aws emr list-studios #Get studio URLs
```
### ê¶Œí•œ ìƒìŠ¹

{% content-ref url="../aws-privilege-escalation/aws-emr-privesc.md" %}
[aws-emr-privesc.md](../aws-privilege-escalation/aws-emr-privesc.md)
{% endcontent-ref %}

# ì°¸ê³  ìë£Œ
* [https://cloudacademy.com/course/domain-three-designing-secure-applications-and-architectures/elastic-mapreduce-emr-encryption-1/](https://cloudacademy.com/course/domain-three-designing-secure-applications-and-architectures/elastic-mapreduce-emr-encryption-1/)

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong>ë¥¼ í†µí•´ AWS í•´í‚¹ì„ ì²˜ìŒë¶€í„° ì „ë¬¸ê°€ê¹Œì§€ ë°°ì›Œë³´ì„¸ìš”<strong>!</strong></summary>

HackTricksë¥¼ ì§€ì›í•˜ëŠ” ë‹¤ë¥¸ ë°©ë²•:

* **íšŒì‚¬ë¥¼ HackTricksì—ì„œ ê´‘ê³ í•˜ê±°ë‚˜ HackTricksë¥¼ PDFë¡œ ë‹¤ìš´ë¡œë“œ**í•˜ë ¤ë©´ [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)ë¥¼ í™•ì¸í•˜ì„¸ìš”!
* [**ê³µì‹ PEASS & HackTricks ìƒí’ˆ**](https://peass.creator-spring.com)ì„ êµ¬ë§¤í•˜ì„¸ìš”.
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ë¥¼ ë°œê²¬í•˜ì„¸ìš”. ë…ì ì ì¸ [**NFTs**](https://opensea.io/collection/the-peass-family) ì»¬ë ‰ì…˜ì…ë‹ˆë‹¤.
* ğŸ’¬ [**Discord ê·¸ë£¹**](https://discord.gg/hRep4RUj7f) ë˜ëŠ” [**í…”ë ˆê·¸ë¨ ê·¸ë£¹**](https://t.me/peass)ì— **ì°¸ì—¬**í•˜ê±°ë‚˜ **Twitter** ğŸ¦ [**@hacktricks_live**](https://twitter.com/hacktricks_live)ë¥¼ **íŒ”ë¡œìš°**í•˜ì„¸ìš”.
* **HackTricks**ì™€ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github ì €ì¥ì†Œì— **PRì„ ì œì¶œí•˜ì—¬** ì—¬ëŸ¬ë¶„ì˜ í•´í‚¹ ê¸°ë²•ì„ **ê³µìœ **í•˜ì„¸ìš”.

</details>
