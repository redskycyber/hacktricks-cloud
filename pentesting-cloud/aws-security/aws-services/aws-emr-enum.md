# AWS - EMR æšä¸¾

<details>

<summary><strong>ä»é›¶åˆ°è‹±é›„å­¦ä¹ AWSé»‘å®¢æŠ€æœ¯</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS çº¢é˜Ÿä¸“å®¶)</strong></a><strong>ï¼</strong></summary>

æ”¯æŒHackTricksçš„å…¶ä»–æ–¹å¼ï¼š

* å¦‚æœæ‚¨æƒ³åœ¨ **HackTricksä¸­çœ‹åˆ°æ‚¨çš„å…¬å¸å¹¿å‘Š** æˆ– **ä¸‹è½½HackTricksçš„PDFç‰ˆæœ¬**ï¼Œè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)ï¼
* è·å–[**å®˜æ–¹PEASS & HackTrickså•†å“**](https://peass.creator-spring.com)
* å‘ç°[**PEASSå®¶æ—**](https://opensea.io/collection/the-peass-family)ï¼Œæˆ‘ä»¬ç‹¬å®¶çš„[**NFTsç³»åˆ—**](https://opensea.io/collection/the-peass-family)
* **åŠ å…¥** ğŸ’¬ [**Discordç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**telegramç¾¤ç»„**](https://t.me/peass) æˆ–åœ¨ **Twitter** ğŸ¦ ä¸Š**å…³æ³¨**æˆ‘ [**@carlospolopm**](https://twitter.com/carlospolopm)**ã€‚**
* **é€šè¿‡å‘** [**HackTricks**](https://github.com/carlospolop/hacktricks) å’Œ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) githubä»“åº“æäº¤PRæ¥åˆ†äº«æ‚¨çš„é»‘å®¢æŠ€å·§ã€‚

</details>

## EMR

EMRæ˜¯AWSç®¡ç†çš„æœåŠ¡ï¼Œç”±ä¸€ä¸ª**é«˜åº¦å¯æ‰©å±•çš„EC2å®ä¾‹é›†ç¾¤**ç»„æˆï¼Œç”¨äºå¤„ç†å’Œè¿è¡Œå¤§æ•°æ®æ¡†æ¶ï¼Œå¦‚Apache Hadoopå’ŒSparkã€‚

ä»EMRç‰ˆæœ¬4.8.0å¼€å§‹ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ª**å®‰å…¨é…ç½®**ï¼ŒæŒ‡å®š**å¦‚ä½•ç®¡ç†é›†ç¾¤å†…æ•°æ®åŠ å¯†**çš„ä¸åŒè®¾ç½®ã€‚æ‚¨å¯ä»¥é€‰æ‹©å¯¹é™æ€æ•°æ®è¿›è¡ŒåŠ å¯†ï¼Œå¯¹ä¼ è¾“ä¸­çš„æ•°æ®è¿›è¡ŒåŠ å¯†ï¼Œæˆ–è€…å¦‚æœéœ€è¦ï¼Œä¸¤è€…åŒæ—¶è¿›è¡ŒåŠ å¯†ã€‚è¿™äº›å®‰å…¨é…ç½®çš„å¥½å¤„æ˜¯å®ƒä»¬å®é™…ä¸Šä¸æ˜¯EC2é›†ç¾¤çš„ä¸€éƒ¨åˆ†ã€‚

EMRçš„ä¸€ä¸ªå…³é”®ç‚¹æ˜¯**é»˜è®¤æƒ…å†µä¸‹ï¼Œé›†ç¾¤å†…çš„å®ä¾‹ä¸ä¼šå¯¹é™æ€æ•°æ®è¿›è¡ŒåŠ å¯†**ã€‚ä¸€æ—¦å¯ç”¨ï¼Œä»¥ä¸‹åŠŸèƒ½å°†å¯ç”¨ã€‚

* **Linuxç»Ÿä¸€å¯†é’¥è®¾ç½®ï¼š** EBSé›†ç¾¤å·å¯ä»¥ä½¿ç”¨æ­¤æ–¹æ³•è¿›è¡ŒåŠ å¯†ï¼Œæ‚¨å¯ä»¥æŒ‡å®šAWS **KMS**ä½œä¸ºå¯†é’¥ç®¡ç†æä¾›è€…ï¼Œæˆ–ä½¿ç”¨è‡ªå®šä¹‰å¯†é’¥æä¾›è€…ã€‚
* **å¼€æºHDFSåŠ å¯†ï¼š** è¿™æä¾›äº†ä¸¤ä¸ªHadoopåŠ å¯†é€‰é¡¹ã€‚å®‰å…¨Hadoop RPCå°†è®¾ç½®ä¸ºéšç§ï¼Œå®ƒä½¿ç”¨ç®€å•è®¤è¯å®‰å…¨å±‚ï¼Œä»¥åŠHDFSå—ä¼ è¾“çš„æ•°æ®åŠ å¯†å°†è®¾ç½®ä¸ºtrueä»¥ä½¿ç”¨AES-256ç®—æ³•ã€‚

ä»ä¼ è¾“ä¸­åŠ å¯†çš„è§’åº¦æ¥çœ‹ï¼Œæ‚¨å¯ä»¥å¯ç”¨**å¼€æºä¼ è¾“å±‚å®‰å…¨**åŠ å¯†åŠŸèƒ½ï¼Œå¹¶é€‰æ‹©è¯ä¹¦æä¾›è€…ç±»å‹ï¼Œå¯ä»¥æ˜¯PEMï¼Œæ‚¨å°†éœ€è¦æ‰‹åŠ¨åˆ›å»ºPEMè¯ä¹¦ï¼Œå°†å®ƒä»¬æ‰“åŒ…æˆzipæ–‡ä»¶ï¼Œç„¶ååœ¨S3ä¸­å¼•ç”¨zipæ–‡ä»¶ï¼Œæˆ–è€…æ˜¯è‡ªå®šä¹‰ï¼Œæ‚¨å°†æ·»åŠ ä¸€ä¸ªè‡ªå®šä¹‰è¯ä¹¦æä¾›è€…ä½œä¸ºæä¾›åŠ å¯†å·¥ä»¶çš„Javaç±»ã€‚

ä¸€æ—¦åœ¨å®‰å…¨é…ç½®æ–‡ä»¶ä¸­é…ç½®äº†TLSè¯ä¹¦æä¾›è€…ï¼Œä»¥ä¸‹ç‰¹å®šäºåŠ å¯†åº”ç”¨ç¨‹åºçš„åŠ å¯†åŠŸèƒ½å¯ä»¥å¯ç”¨ï¼Œè¿™å°†æ ¹æ®æ‚¨çš„EMRç‰ˆæœ¬è€Œæœ‰æ‰€ä¸åŒã€‚

* Hadoopå¯èƒ½å‡å°‘ä½¿ç”¨TLSçš„åŠ å¯†æ´—ç‰Œã€‚å®‰å…¨Hadoop RPCä½¿ç”¨ç®€å•è®¤è¯å®‰å…¨å±‚ï¼Œä»¥åŠä½¿ç”¨AES-256çš„HDFSå—ä¼ è¾“æ•°æ®åŠ å¯†ï¼Œåœ¨å®‰å…¨é…ç½®ä¸­å¯ç”¨é™æ€æ•°æ®åŠ å¯†æ—¶éƒ½ä¼šæ¿€æ´»ã€‚
* Prestoï¼šä½¿ç”¨EMRç‰ˆæœ¬5.6.0åŠæ›´é«˜ç‰ˆæœ¬æ—¶ï¼ŒPrestoèŠ‚ç‚¹ä¹‹é—´çš„ä»»ä½•å†…éƒ¨é€šä¿¡éƒ½å°†ä½¿ç”¨SSLå’ŒTLSã€‚
* Tez Shuffle Handlerä½¿ç”¨TLSã€‚
* Sparkï¼šAkkaåè®®ä½¿ç”¨TLSã€‚å—ä¼ è¾“æœåŠ¡ä½¿ç”¨ç®€å•è®¤è¯å®‰å…¨å±‚å’Œ3DESã€‚å¤–éƒ¨æ´—ç‰ŒæœåŠ¡ä½¿ç”¨ç®€å•è®¤è¯å®‰å…¨å±‚ã€‚

### æšä¸¾
```bash
aws emr list-clusters
aws emr describe-cluster --cluster-id <id>
aws emr list-instances --cluster-id <id>
aws emr list-instance-fleets --cluster-id <id>
aws emr list-steps --cluster-id <id>
aws emr list-notebook-executions
aws emr list-security-configurations
aws emr list-studios #Get studio URLs
```
### æƒé™æå‡

{% content-ref url="../aws-privilege-escalation/aws-emr-privesc.md" %}
[aws-emr-privesc.md](../aws-privilege-escalation/aws-emr-privesc.md)
{% endcontent-ref %}

<details>

<summary><strong>é€šè¿‡</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS çº¢é˜Ÿä¸“å®¶)</strong></a><strong>ä»é›¶å¼€å§‹å­¦ä¹  AWS é»‘å®¢æ”»å‡»ï¼</strong></summary>

å…¶ä»–æ”¯æŒ HackTricks çš„æ–¹å¼ï¼š

* å¦‚æœæ‚¨å¸Œæœ›åœ¨ HackTricks ä¸­çœ‹åˆ°æ‚¨çš„**å…¬å¸å¹¿å‘Š**æˆ–**ä¸‹è½½ HackTricks çš„ PDF**ï¼Œè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)ï¼
* è·å–[**å®˜æ–¹ PEASS & HackTricks å•†å“**](https://peass.creator-spring.com)
* æ¢ç´¢[**PEASS å®¶æ—**](https://opensea.io/collection/the-peass-family)ï¼Œæˆ‘ä»¬ç‹¬å®¶çš„[**NFT é›†åˆ**](https://opensea.io/collection/the-peass-family)
* **åŠ å…¥** ğŸ’¬ [**Discord ç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**telegram ç¾¤ç»„**](https://t.me/peass) æˆ–åœ¨ **Twitter** ğŸ¦ ä¸Š**å…³æ³¨**æˆ‘ [**@carlospolopm**](https://twitter.com/carlospolopm)**ã€‚**
* **é€šè¿‡å‘** [**HackTricks**](https://github.com/carlospolop/hacktricks) å’Œ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github ä»“åº“æäº¤ PR æ¥**åˆ†äº«æ‚¨çš„é»‘å®¢æŠ€å·§ã€‚

</details>
