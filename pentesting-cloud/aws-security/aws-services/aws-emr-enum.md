# AWS - EMR æšä¸¾

<details>

<summary><strong>ä»é›¶å¼€å§‹å­¦ä¹  AWS é»‘å®¢æŠ€æœ¯ï¼Œæˆä¸ºä¸“å®¶</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTEï¼ˆHackTricks AWS çº¢é˜Ÿä¸“å®¶ï¼‰</strong></a><strong>ï¼</strong></summary>

æ”¯æŒ HackTricks çš„å…¶ä»–æ–¹å¼ï¼š

* å¦‚æœæ‚¨æƒ³çœ‹åˆ°æ‚¨çš„**å…¬å¸åœ¨ HackTricks ä¸­åšå¹¿å‘Š**æˆ–**ä¸‹è½½ PDF ç‰ˆçš„ HackTricks**ï¼Œè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)!
* è·å–[**å®˜æ–¹ PEASS & HackTricks å•†å“**](https://peass.creator-spring.com)
* æ¢ç´¢[**PEASS å®¶æ—**](https://opensea.io/collection/the-peass-family)ï¼Œæˆ‘ä»¬çš„ç‹¬å®¶[**NFTs**](https://opensea.io/collection/the-peass-family)
* **åŠ å…¥** ğŸ’¬ [**Discord ç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**ç”µæŠ¥ç¾¤ç»„**](https://t.me/peass) æˆ–åœ¨ **Twitter** ğŸ¦ [**@hacktricks_live**](https://twitter.com/hacktricks_live)** ä¸Š**å…³æ³¨æˆ‘ä»¬ã€‚
* é€šè¿‡å‘ [**HackTricks**](https://github.com/carlospolop/hacktricks) å’Œ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github ä»“åº“æäº¤ PR æ¥åˆ†äº«æ‚¨çš„é»‘å®¢æŠ€å·§ã€‚

</details>

## EMR

AWS çš„å¼¹æ€§ MapReduceï¼ˆEMRï¼‰æœåŠ¡ä»ç‰ˆæœ¬ 4.8.0 å¼€å§‹å¼•å…¥äº†ä¸€ä¸ª**å®‰å…¨é…ç½®**åŠŸèƒ½ï¼Œé€šè¿‡å…è®¸ç”¨æˆ·ä¸º EMR é›†ç¾¤å†…çš„æ•°æ®çš„é™æ€å’Œä¼ è¾“æŒ‡å®šåŠ å¯†è®¾ç½®ï¼Œå¢å¼ºäº†æ•°æ®ä¿æŠ¤ã€‚EMR é›†ç¾¤æ˜¯è®¾è®¡ç”¨äºå¤„ç†å¤§æ•°æ®æ¡†æ¶ï¼ˆå¦‚ Apache Hadoop å’Œ Sparkï¼‰çš„å¯æ‰©å±•çš„ EC2 å®ä¾‹ç»„ã€‚

å…³é”®ç‰¹ç‚¹åŒ…æ‹¬ï¼š

- **é›†ç¾¤åŠ å¯†é»˜è®¤å€¼**ï¼šé»˜è®¤æƒ…å†µä¸‹ï¼Œé›†ç¾¤å†…çš„é™æ€æ•°æ®æœªåŠ å¯†ã€‚ä½†æ˜¯ï¼Œå¯ç”¨åŠ å¯†ä¼šæä¾›è®¿é—®å¤šä¸ªåŠŸèƒ½çš„æƒé™ï¼š
- **Linux ç»Ÿä¸€å¯†é’¥è®¾ç½®**ï¼šåŠ å¯† EBS é›†ç¾¤å·ã€‚ç”¨æˆ·å¯ä»¥é€‰æ‹© AWS å¯†é’¥ç®¡ç†æœåŠ¡ï¼ˆKMSï¼‰æˆ–è‡ªå®šä¹‰å¯†é’¥æä¾›ç¨‹åºã€‚
- **å¼€æº HDFS åŠ å¯†**ï¼šä¸º Hadoop æä¾›ä¸¤ç§åŠ å¯†é€‰é¡¹ï¼š
- å®‰å…¨çš„ Hadoop RPCï¼ˆè¿œç¨‹è¿‡ç¨‹è°ƒç”¨ï¼‰ï¼Œè®¾ç½®ä¸ºéšç§ï¼Œåˆ©ç”¨ç®€å•è®¤è¯å®‰å…¨å±‚ã€‚
- HDFS å—ä¼ è¾“åŠ å¯†ï¼Œè®¾ç½®ä¸º trueï¼Œåˆ©ç”¨ AES-256 ç®—æ³•ã€‚

- **ä¼ è¾“ä¸­çš„åŠ å¯†**ï¼šä¾§é‡äºä¿æŠ¤ä¼ è¾“ä¸­çš„æ•°æ®ã€‚é€‰é¡¹åŒ…æ‹¬ï¼š
- **å¼€æºä¼ è¾“å±‚å®‰å…¨æ€§ï¼ˆTLSï¼‰**ï¼šé€šè¿‡é€‰æ‹©è¯ä¹¦æä¾›ç¨‹åºå¯ä»¥å¯ç”¨åŠ å¯†ï¼š
- **PEM**ï¼šéœ€è¦æ‰‹åŠ¨åˆ›å»ºå’Œæ†ç»‘ PEM è¯ä¹¦åˆ°ä¸€ä¸ª zip æ–‡ä»¶ä¸­ï¼Œä»ä¸€ä¸ª S3 å­˜å‚¨æ¡¶å¼•ç”¨ã€‚
- **è‡ªå®šä¹‰**ï¼šæ¶‰åŠæ·»åŠ ä¸€ä¸ªè‡ªå®šä¹‰ Java ç±»ä½œä¸ºè¯ä¹¦æä¾›ç¨‹åºï¼Œæä¾›åŠ å¯†å·¥ä»¶ã€‚

ä¸€æ—¦ TLS è¯ä¹¦æä¾›ç¨‹åºé›†æˆåˆ°å®‰å…¨é…ç½®ä¸­ï¼Œå¯ä»¥æ¿€æ´»ä»¥ä¸‹ç‰¹å®šäºåº”ç”¨ç¨‹åºçš„åŠ å¯†åŠŸèƒ½ï¼Œæ ¹æ® EMR ç‰ˆæœ¬çš„ä¸åŒè€Œå˜åŒ–ï¼š

- **Hadoop**ï¼š
- å¯èƒ½é€šè¿‡ TLS å‡å°‘åŠ å¯†çš„æ´—ç‰Œã€‚
- ä½¿ç”¨ç®€å•è®¤è¯å®‰å…¨å±‚å’Œ HDFS å—ä¼ è¾“çš„ AES-256 æ¿€æ´»é™æ€åŠ å¯†ã€‚

- **Presto**ï¼ˆEMR ç‰ˆæœ¬ 5.6.0+ï¼‰ï¼š
- Presto èŠ‚ç‚¹ä¹‹é—´çš„å†…éƒ¨é€šä¿¡ä½¿ç”¨ SSL å’Œ TLS è¿›è¡Œä¿æŠ¤ã€‚

- **Tez Shuffle Handler**ï¼š
- ä½¿ç”¨ TLS è¿›è¡ŒåŠ å¯†ã€‚

- **Spark**ï¼š
- é‡‡ç”¨ TLS ç”¨äº Akka åè®®ã€‚
- ä½¿ç”¨ç®€å•è®¤è¯å®‰å…¨å±‚å’Œ 3DES ç”¨äºå—ä¼ è¾“æœåŠ¡ã€‚
- å¤–éƒ¨æ´—ç‰ŒæœåŠ¡ä½¿ç”¨ç®€å•è®¤è¯å®‰å…¨å±‚è¿›è¡Œä¿æŠ¤ã€‚

è¿™äº›åŠŸèƒ½å…±åŒå¢å¼ºäº† EMR é›†ç¾¤çš„å®‰å…¨å§¿æ€ï¼Œç‰¹åˆ«æ˜¯åœ¨å­˜å‚¨å’Œä¼ è¾“é˜¶æ®µçš„æ•°æ®ä¿æŠ¤æ–¹é¢ã€‚

### æšä¸¾
```bash
aws emr list-clusters
aws emr describe-cluster --cluster-id <id>
aws emr list-instances --cluster-id <id>
aws emr list-instance-fleets --cluster-id <id>
aws emr list-steps --cluster-id <id>
aws emr list-notebook-executions
aws emr list-security-configurations
aws emr list-studios #Get studio URLs
```
### ææƒ

{% content-ref url="../aws-privilege-escalation/aws-emr-privesc.md" %}
[aws-emr-privesc.md](../aws-privilege-escalation/aws-emr-privesc.md)
{% endcontent-ref %}

# å‚è€ƒ
* [https://cloudacademy.com/course/domain-three-designing-secure-applications-and-architectures/elastic-mapreduce-emr-encryption-1/](https://cloudacademy.com/course/domain-three-designing-secure-applications-and-architectures/elastic-mapreduce-emr-encryption-1/)

<details>

<summary><strong>ä»é›¶å¼€å§‹å­¦ä¹ AWSé»‘å®¢æŠ€æœ¯ï¼Œæˆä¸ºä¸“å®¶</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

æ”¯æŒHackTricksçš„å…¶ä»–æ–¹å¼ï¼š

* å¦‚æœæ‚¨æƒ³çœ‹åˆ°æ‚¨çš„**å…¬å¸åœ¨HackTricksä¸­åšå¹¿å‘Š**æˆ–**ä¸‹è½½PDFæ ¼å¼çš„HackTricks**ï¼Œè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)!
* è·å–[**å®˜æ–¹PEASS & HackTrickså‘¨è¾¹äº§å“**](https://peass.creator-spring.com)
* å‘ç°[**PEASSå®¶æ—**](https://opensea.io/collection/the-peass-family)ï¼Œæˆ‘ä»¬çš„ç‹¬å®¶[**NFTs**](https://opensea.io/collection/the-peass-family)æ”¶è—å“
* **åŠ å…¥** ğŸ’¬ [**Discordç¾¤**](https://discord.gg/hRep4RUj7f) æˆ– [**ç”µæŠ¥ç¾¤**](https://t.me/peass) æˆ– **å…³æ³¨**æˆ‘ä»¬çš„**Twitter** ğŸ¦ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* é€šè¿‡å‘[**HackTricks**](https://github.com/carlospolop/hacktricks)å’Œ[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) githubä»“åº“æäº¤PRæ¥åˆ†äº«æ‚¨çš„é»‘å®¢æŠ€å·§ã€‚

</details>
