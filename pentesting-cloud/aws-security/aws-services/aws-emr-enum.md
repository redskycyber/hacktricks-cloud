# AWS - EMRæšä¸¾

<details>

<summary><strong>æ”¯æŒHackTrickså¹¶è·å¾—ç¦åˆ©ï¼</strong></summary>

* å¦‚æœæ‚¨æƒ³åœ¨HackTricksä¸­çœ‹åˆ°æ‚¨çš„å…¬å¸å¹¿å‘Šï¼Œæˆ–è€…å¦‚æœæ‚¨æƒ³è®¿é—®PEASSçš„æœ€æ–°ç‰ˆæœ¬æˆ–ä¸‹è½½PDFæ ¼å¼çš„HackTricksï¼Œè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)ï¼
* è·å–[**å®˜æ–¹PEASSå’ŒHackTrickså‘¨è¾¹äº§å“**](https://peass.creator-spring.com)
* å‘ç°[**PEASSå®¶æ—**](https://opensea.io/collection/the-peass-family)ï¼Œæˆ‘ä»¬çš„ç‹¬å®¶[**NFT**](https://opensea.io/collection/the-peass-family)æ”¶è—å“
* **åŠ å…¥** ğŸ’¬ [**Discordç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**Telegramç¾¤ç»„**](https://t.me/peass) æˆ– **å…³æ³¨**æˆ‘åœ¨**Twitter**ä¸Šçš„ğŸ¦ [**@carlospolopm**](https://twitter.com/carlospolopm)**ã€‚**
* **é€šè¿‡å‘** [**HackTricks**](https://github.com/carlospolop/hacktricks) **å’Œ** [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) **githubä»“åº“æäº¤PRæ¥åˆ†äº«æ‚¨çš„é»‘å®¢æŠ€å·§ã€‚**

</details>

## EMR

EMRæ˜¯AWSçš„æ‰˜ç®¡æœåŠ¡ï¼Œç”±ä¸€ç»„é«˜åº¦å¯æ‰©å±•çš„EC2å®ä¾‹ç»„æˆï¼Œç”¨äºå¤„ç†å’Œè¿è¡Œè¯¸å¦‚Apache Hadoopå’ŒSparkç­‰å¤§æ•°æ®æ¡†æ¶ã€‚

ä»EMRç‰ˆæœ¬4.8.0å¼€å§‹ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ª**å®‰å…¨é…ç½®**ï¼ŒæŒ‡å®šä¸åŒçš„è®¾ç½®æ¥**ç®¡ç†é›†ç¾¤å†…æ•°æ®çš„åŠ å¯†æ–¹å¼**ã€‚æ‚¨å¯ä»¥é€‰æ‹©å¯¹æ•°æ®åœ¨é™æ€çŠ¶æ€ä¸‹è¿›è¡ŒåŠ å¯†ã€åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­è¿›è¡ŒåŠ å¯†ï¼Œæˆ–è€…ä¸¤è€…åŒæ—¶åŠ å¯†ã€‚è¿™äº›å®‰å…¨é…ç½®çš„å¥½å¤„æ˜¯å®ƒä»¬å®é™…ä¸Šä¸æ˜¯æ‚¨çš„EC2é›†ç¾¤çš„ä¸€éƒ¨åˆ†ã€‚

EMRçš„ä¸€ä¸ªå…³é”®ç‚¹æ˜¯ï¼Œ**é»˜è®¤æƒ…å†µä¸‹ï¼Œé›†ç¾¤å†…çš„å®ä¾‹ä¸ä¼šå¯¹æ•°æ®è¿›è¡Œé™æ€çŠ¶æ€ä¸‹çš„åŠ å¯†**ã€‚ä¸€æ—¦å¯ç”¨ï¼Œå°†å¯ç”¨ä»¥ä¸‹åŠŸèƒ½ã€‚

* **Linuxç»Ÿä¸€å¯†é’¥è®¾ç½®ï¼š**å¯ä»¥ä½¿ç”¨æ­¤æ–¹æ³•å¯¹EBSé›†ç¾¤å·è¿›è¡ŒåŠ å¯†ï¼Œæ‚¨å¯ä»¥æŒ‡å®šAWS **KMS**ä½œä¸ºå¯†é’¥ç®¡ç†æä¾›å•†ï¼Œæˆ–ä½¿ç”¨è‡ªå®šä¹‰å¯†é’¥æä¾›å•†ã€‚
* **å¼€æºHDFSåŠ å¯†ï¼š**æä¾›äº†ä¸¤ç§HadoopåŠ å¯†é€‰é¡¹ã€‚å®‰å…¨çš„Hadoop RPCå°†è®¾ç½®ä¸ºä½¿ç”¨ç®€å•èº«ä»½éªŒè¯å®‰å…¨å±‚ï¼ŒHDFSå—ä¼ è¾“çš„æ•°æ®åŠ å¯†å°†è®¾ç½®ä¸ºä½¿ç”¨AES-256ç®—æ³•ã€‚

ä»ä¼ è¾“ä¸­çš„åŠ å¯†è§’åº¦æ¥çœ‹ï¼Œæ‚¨å¯ä»¥å¯ç”¨**å¼€æºä¼ è¾“å±‚å®‰å…¨**åŠ å¯†åŠŸèƒ½ï¼Œå¹¶é€‰æ‹©è¯ä¹¦æä¾›å•†ç±»å‹ï¼Œå¯ä»¥æ˜¯PEMï¼Œæ‚¨éœ€è¦æ‰‹åŠ¨åˆ›å»ºPEMè¯ä¹¦ï¼Œå°†å®ƒä»¬ä¸zipæ–‡ä»¶æ†ç»‘åœ¨ä¸€èµ·ï¼Œç„¶ååœ¨S3ä¸­å¼•ç”¨è¯¥zipæ–‡ä»¶ï¼Œæˆ–è€…æ˜¯è‡ªå®šä¹‰ç±»å‹ï¼Œæ‚¨å¯ä»¥å°†è‡ªå®šä¹‰è¯ä¹¦æä¾›å•†æ·»åŠ ä¸ºæä¾›åŠ å¯†å·¥ä»¶çš„Javaç±»ã€‚

ä¸€æ—¦åœ¨å®‰å…¨é…ç½®æ–‡ä»¶ä¸­é…ç½®äº†TLSè¯ä¹¦æä¾›å•†ï¼Œå°†å¯ä»¥å¯ç”¨ä»¥ä¸‹ç‰¹å®šäºåŠ å¯†åº”ç”¨ç¨‹åºçš„åŠ å¯†åŠŸèƒ½ï¼Œå…·ä½“å–å†³äºæ‚¨çš„EMRç‰ˆæœ¬ã€‚

* Hadoopå¯èƒ½ä¼šå‡å°‘ä½¿ç”¨TLSçš„åŠ å¯†æ´—ç‰Œã€‚å½“åœ¨å®‰å…¨é…ç½®ä¸­å¯ç”¨é™æ€çŠ¶æ€ä¸‹çš„åŠ å¯†æ—¶ï¼Œå®‰å…¨çš„Hadoop RPCä½¿ç”¨ç®€å•èº«ä»½éªŒè¯å®‰å…¨å±‚ï¼ŒHDFSå—ä¼ è¾“ä½¿ç”¨AES-256ç®—æ³•ï¼Œä¸¤è€…éƒ½ä¼šè¢«æ¿€æ´»ã€‚
* Prestoï¼šåœ¨ä½¿ç”¨EMRç‰ˆæœ¬5.6.0åŠæ›´é«˜ç‰ˆæœ¬æ—¶ï¼ŒPrestoèŠ‚ç‚¹ä¹‹é—´çš„ä»»ä½•å†…éƒ¨é€šä¿¡éƒ½å°†ä½¿ç”¨SSLå’ŒTLSã€‚
* Tez Shuffle Handlerä½¿ç”¨TLSã€‚
* Sparkï¼šAkkaåè®®ä½¿ç”¨TLSã€‚å—ä¼ è¾“æœåŠ¡ä½¿ç”¨ç®€å•èº«ä»½éªŒè¯å®‰å…¨å±‚å’Œ3DESã€‚å¤–éƒ¨æ´—ç‰ŒæœåŠ¡ä½¿ç”¨ç®€å•èº«ä»½éªŒè¯å®‰å…¨å±‚ã€‚

### æšä¸¾
```bash
aws emr list-clusters
aws emr describe-cluster --cluster-id <id>
aws emr list-instances --cluster-id <id>
aws emr list-instance-fleets --cluster-id <id>
aws emr list-steps --cluster-id <id>
aws emr list-notebook-executions
aws emr list-security-configurations
aws emr list-studios #Get studio URLs
```
### ææƒ

{% content-ref url="../aws-privilege-escalation/aws-emr-privesc.md" %}
[aws-emr-privesc.md](../aws-privilege-escalation/aws-emr-privesc.md)
{% endcontent-ref %}

<details>

<summary><strong>æ”¯æŒ HackTricks å¹¶è·å¾—ç¦åˆ©ï¼</strong></summary>

* å¦‚æœæ‚¨æƒ³åœ¨ HackTricks ä¸­çœ‹åˆ°æ‚¨çš„å…¬å¸å¹¿å‘Šï¼Œæˆ–è€…å¦‚æœæ‚¨æƒ³è®¿é—® PEASS çš„æœ€æ–°ç‰ˆæœ¬æˆ–ä¸‹è½½ HackTricks çš„ PDFï¼Œè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)ï¼
* è·å–[**å®˜æ–¹ PEASS å’Œ HackTricks å•†å“**](https://peass.creator-spring.com)
* å‘ç°[**PEASS å®¶æ—**](https://opensea.io/collection/the-peass-family)ï¼Œæˆ‘ä»¬çš„ç‹¬å®¶[**NFT**](https://opensea.io/collection/the-peass-family)æ”¶è—å“
* **åŠ å…¥** ğŸ’¬ [**Discord ç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**Telegram ç¾¤ç»„**](https://t.me/peass) æˆ– **å…³æ³¨**æˆ‘çš„ **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/carlospolopm)**ã€‚**
* **é€šè¿‡å‘** [**HackTricks**](https://github.com/carlospolop/hacktricks) **å’Œ** [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) **github ä»“åº“æäº¤ PR æ¥åˆ†äº«æ‚¨çš„é»‘å®¢æŠ€å·§ã€‚**

</details>
