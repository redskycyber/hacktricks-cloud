# AWS - EMR æšä¸¾

<details>

<summary><strong>ä»é›¶å¼€å§‹å­¦ä¹ AWSé»‘å®¢æ”»å‡»ç›´åˆ°æˆä¸ºä¸“å®¶</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS çº¢é˜Ÿä¸“å®¶)</strong></a><strong>ï¼</strong></summary>

æ”¯æŒHackTricksçš„å…¶ä»–æ–¹å¼ï¼š

* å¦‚æœæ‚¨æƒ³åœ¨ **HackTricksä¸­çœ‹åˆ°æ‚¨çš„å…¬å¸å¹¿å‘Š** æˆ– **ä¸‹è½½HackTricksçš„PDFç‰ˆæœ¬**ï¼Œè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)ï¼
* è·å–[**å®˜æ–¹PEASS & HackTrickså•†å“**](https://peass.creator-spring.com)
* å‘ç°[**PEASSå®¶æ—**](https://opensea.io/collection/the-peass-family)ï¼Œæˆ‘ä»¬ç‹¬å®¶çš„[**NFTsç³»åˆ—**](https://opensea.io/collection/the-peass-family)
* **åŠ å…¥** ğŸ’¬ [**Discordç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**telegramç¾¤ç»„**](https://t.me/peass) æˆ–åœ¨ **Twitter** ğŸ¦ ä¸Š**å…³æ³¨**æˆ‘ [**@carlospolopm**](https://twitter.com/carlospolopm)**ã€‚**
* **é€šè¿‡å‘** [**HackTricks**](https://github.com/carlospolop/hacktricks) å’Œ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) githubä»“åº“æäº¤PRæ¥åˆ†äº«æ‚¨çš„é»‘å®¢æŠ€å·§ã€‚

</details>

## EMR

AWSçš„Elastic MapReduce (EMR)æœåŠ¡ï¼Œä»4.8.0ç‰ˆæœ¬å¼€å§‹ï¼Œå¼•å…¥äº†**å®‰å…¨é…ç½®**åŠŸèƒ½ï¼Œé€šè¿‡å…è®¸ç”¨æˆ·ä¸ºEMRé›†ç¾¤å†…çš„é™æ€å’Œä¼ è¾“ä¸­æ•°æ®æŒ‡å®šåŠ å¯†è®¾ç½®ï¼Œå¢å¼ºäº†æ•°æ®ä¿æŠ¤ã€‚EMRé›†ç¾¤æ˜¯è®¾è®¡ç”¨äºå¤„ç†å¤§æ•°æ®æ¡†æ¶ï¼ˆå¦‚Apache Hadoopå’ŒSparkï¼‰çš„å¯æ‰©å±•EC2å®ä¾‹ç»„ã€‚

ä¸»è¦ç‰¹ç‚¹åŒ…æ‹¬ï¼š

- **é›†ç¾¤åŠ å¯†é»˜è®¤è®¾ç½®**ï¼šé»˜è®¤æƒ…å†µä¸‹ï¼Œé›†ç¾¤å†…çš„é™æ€æ•°æ®ä¸åŠ å¯†ã€‚ç„¶è€Œï¼Œå¯ç”¨åŠ å¯†å¯ä»¥è®¿é—®å¤šä¸ªåŠŸèƒ½ï¼š
- **Linuxç»Ÿä¸€å¯†é’¥è®¾ç½®**ï¼šåŠ å¯†EBSé›†ç¾¤å·ã€‚ç”¨æˆ·å¯ä»¥é€‰æ‹©AWSå¯†é’¥ç®¡ç†æœåŠ¡ï¼ˆKMSï¼‰æˆ–è‡ªå®šä¹‰å¯†é’¥æä¾›è€…ã€‚
- **å¼€æºHDFSåŠ å¯†**ï¼šä¸ºHadoopæä¾›ä¸¤ç§åŠ å¯†é€‰é¡¹ï¼š
- è®¾ç½®ä¸ºéšç§çš„å®‰å…¨Hadoop RPCï¼ˆè¿œç¨‹è¿‡ç¨‹è°ƒç”¨ï¼‰ï¼Œåˆ©ç”¨ç®€å•è®¤è¯å®‰å…¨å±‚ã€‚
- è®¾ç½®ä¸ºtrueçš„HDFSå—ä¼ è¾“åŠ å¯†ï¼Œä½¿ç”¨AES-256ç®—æ³•ã€‚

- **ä¼ è¾“ä¸­åŠ å¯†**ï¼šä¸“æ³¨äºåœ¨ä¼ è¾“è¿‡ç¨‹ä¸­ä¿æŠ¤æ•°æ®ã€‚é€‰é¡¹åŒ…æ‹¬ï¼š
- **å¼€æºä¼ è¾“å±‚å®‰å…¨æ€§ï¼ˆTLSï¼‰**ï¼šé€šè¿‡é€‰æ‹©è¯ä¹¦æä¾›è€…å¯ç”¨åŠ å¯†ï¼š
- **PEM**ï¼šéœ€è¦æ‰‹åŠ¨åˆ›å»ºPEMè¯ä¹¦å¹¶å°†å…¶æ‰“åŒ…æˆzipæ–‡ä»¶ï¼Œä»S3å­˜å‚¨æ¡¶ä¸­å¼•ç”¨ã€‚
- **è‡ªå®šä¹‰**ï¼šæ¶‰åŠæ·»åŠ è‡ªå®šä¹‰Javaç±»ä½œä¸ºè¯ä¹¦æä¾›è€…ï¼Œæä¾›åŠ å¯†å·¥ä»¶ã€‚

ä¸€æ—¦å°†TLSè¯ä¹¦æä¾›è€…é›†æˆåˆ°å®‰å…¨é…ç½®ä¸­ï¼Œä»¥ä¸‹ç‰¹å®šäºåº”ç”¨ç¨‹åºçš„åŠ å¯†åŠŸèƒ½å¯ä»¥è¢«æ¿€æ´»ï¼Œå…·ä½“å–å†³äºEMRç‰ˆæœ¬ï¼š

- **Hadoop**ï¼š
- å¯èƒ½ä¼šä½¿ç”¨TLSå‡å°‘åŠ å¯†çš„shuffleã€‚
- ä½¿ç”¨ç®€å•è®¤è¯å®‰å…¨å±‚çš„å®‰å…¨Hadoop RPCå’Œä½¿ç”¨AES-256çš„HDFSå—ä¼ è¾“åœ¨é™æ€åŠ å¯†æ—¶è¢«æ¿€æ´»ã€‚

- **Presto**ï¼ˆEMRç‰ˆæœ¬5.6.0+ï¼‰ï¼š
- PrestoèŠ‚ç‚¹ä¹‹é—´çš„å†…éƒ¨é€šä¿¡ä½¿ç”¨SSLå’ŒTLSè¿›è¡Œä¿æŠ¤ã€‚

- **Tez Shuffleå¤„ç†å™¨**ï¼š
- ä½¿ç”¨TLSè¿›è¡ŒåŠ å¯†ã€‚

- **Spark**ï¼š
- ä½¿ç”¨TLSä¸ºAkkaåè®®åŠ å¯†ã€‚
- ä½¿ç”¨ç®€å•è®¤è¯å®‰å…¨å±‚å’Œ3DESä¸ºå—ä¼ è¾“æœåŠ¡åŠ å¯†ã€‚
- å¤–éƒ¨shuffleæœåŠ¡ä½¿ç”¨ç®€å•è®¤è¯å®‰å…¨å±‚è¿›è¡Œä¿æŠ¤ã€‚

è¿™äº›åŠŸèƒ½å…±åŒå¢å¼ºäº†EMRé›†ç¾¤çš„å®‰å…¨å§¿æ€ï¼Œç‰¹åˆ«æ˜¯åœ¨å­˜å‚¨å’Œä¼ è¾“é˜¶æ®µçš„æ•°æ®ä¿æŠ¤æ–¹é¢ã€‚


### æšä¸¾
```bash
aws emr list-clusters
aws emr describe-cluster --cluster-id <id>
aws emr list-instances --cluster-id <id>
aws emr list-instance-fleets --cluster-id <id>
aws emr list-steps --cluster-id <id>
aws emr list-notebook-executions
aws emr list-security-configurations
aws emr list-studios #Get studio URLs
```
### æƒé™æå‡

{% content-ref url="../aws-privilege-escalation/aws-emr-privesc.md" %}
[aws-emr-privesc.md](../aws-privilege-escalation/aws-emr-privesc.md)
{% endcontent-ref %}

# å‚è€ƒèµ„æ–™
* [https://cloudacademy.com/course/domain-three-designing-secure-applications-and-architectures/elastic-mapreduce-emr-encryption-1/](https://cloudacademy.com/course/domain-three-designing-secure-applications-and-architectures/elastic-mapreduce-emr-encryption-1/)

<details>

<summary><strong>é€šè¿‡</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS çº¢é˜Ÿä¸“å®¶)</strong></a><strong>ä»é›¶å¼€å§‹å­¦ä¹  AWS é»‘å®¢æŠ€æœ¯ï¼</strong></summary>

æ”¯æŒ HackTricks çš„å…¶ä»–æ–¹å¼ï¼š

* å¦‚æœæ‚¨å¸Œæœ›åœ¨ HackTricks ä¸­çœ‹åˆ°æ‚¨çš„**å…¬å¸å¹¿å‘Š**æˆ–**ä¸‹è½½ HackTricks çš„ PDF ç‰ˆæœ¬**ï¼Œè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)ï¼
* è·å–[**å®˜æ–¹ PEASS & HackTricks å•†å“**](https://peass.creator-spring.com)
* æ¢ç´¢[**PEASS å®¶æ—**](https://opensea.io/collection/the-peass-family)ï¼Œæˆ‘ä»¬ç‹¬å®¶çš„[**NFT é›†åˆ**](https://opensea.io/collection/the-peass-family)
* **åŠ å…¥** ğŸ’¬ [**Discord ç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**telegram ç¾¤ç»„**](https://t.me/peass) æˆ–åœ¨ **Twitter** ğŸ¦ ä¸Š**å…³æ³¨**æˆ‘ [**@carlospolopm**](https://twitter.com/carlospolopm)**ã€‚**
* **é€šè¿‡å‘** [**HackTricks**](https://github.com/carlospolop/hacktricks) å’Œ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github ä»“åº“æäº¤ PR æ¥**åˆ†äº«æ‚¨çš„é»‘å®¢æŠ€å·§ã€‚

</details>
