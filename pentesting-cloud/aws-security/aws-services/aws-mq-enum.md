# AWS - MQ Enum

<details>

<summary><strong>NauÄite hakovanje AWS-a od nule do heroja sa</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Drugi naÄini podrÅ¡ke HackTricks-u:

* Ako Å¾elite da vidite **vaÅ¡u kompaniju reklamiranu na HackTricks-u** ili **preuzmete HackTricks u PDF formatu** proverite [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Nabavite [**zvaniÄni PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Otkrijte [**The PEASS Family**](https://opensea.io/collection/the-peass-family), naÅ¡u kolekciju ekskluzivnih [**NFT-ova**](https://opensea.io/collection/the-peass-family)
* **PridruÅ¾ite se** ğŸ’¬ [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili nas **pratite** na **Twitter-u** ğŸ¦ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Podelite svoje hakovanje trikove slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>

## Amazon MQ

### Uvod u Message Brokere
**Message brokeri** sluÅ¾e kao posrednici, olakÅ¡avajuÄ‡i komunikaciju izmeÄ‘u razliÄitih softverskih sistema, koji mogu biti izgraÄ‘eni na razliÄitim platformama i programirani u razliÄitim jezicima. **Amazon MQ** pojednostavljuje implementaciju, rad i odrÅ¾avanje message brokera na AWS-u. PruÅ¾a upravljane usluge za **Apache ActiveMQ** i **RabbitMQ**, obezbeÄ‘ujuÄ‡i besprekorno pruÅ¾anje i automatsko aÅ¾uriranje verzija softvera.

### AWS - RabbitMQ
RabbitMQ je istaknuti **softver za redove poruka**, takoÄ‘e poznat kao _message broker_ ili _queue manager_. U osnovi je sistem u kojem se konfiguriÅ¡u redovi. Aplikacije komuniciraju sa ovim redovima kako bi **slale i primale poruke**. Poruke u ovom kontekstu mogu nositi razliÄite informacije, od komandi za pokretanje procesa na drugim aplikacijama (potencijalno na razliÄitim serverima) do jednostavnih tekstualnih poruka. Poruke se Äuvaju od strane softvera queue managera dok ih ne preuzme i obradi aplikacija koja ih prima. AWS pruÅ¾a jednostavno reÅ¡enje za smeÅ¡tanje i upravljanje RabbitMQ serverima.

### AWS - ActiveMQ
Apache ActiveMQÂ® je vodeÄ‡i open-source, Java bazirani **message broker** poznat po svojoj svestranosti. PodrÅ¾ava viÅ¡e industrijski standardnih protokola, nudeÄ‡i Å¡iroku kompatibilnost klijenata na razliÄitim jezicima i platformama. Korisnici mogu:

- Povezati se sa klijentima napisanim u JavaScript-u, C-u, C++, Python-u, .Net-u i drugim jezicima.
- Iskoristiti **AMQP** protokol za integraciju aplikacija sa razliÄitih platformi.
- Koristiti **STOMP** preko websockets-a za razmenu poruka u web aplikacijama.
- Upravljati IoT ureÄ‘ajima sa **MQTT**-om.
- OdrÅ¾avati postojeÄ‡u **JMS** infrastrukturu i proÅ¡iriti njene moguÄ‡nosti.

Robustnost i fleksibilnost ActiveMQ-a Äine ga pogodnim za razliÄite zahteve vezane za razmenu poruka.

## Enumeracija
```bash
# List brokers
aws mq list-brokers

# Get broker info
aws mq describe-broker --broker-id <broker-id>
## Find endpoints in .BrokerInstances
## Find if public accessible in .PubliclyAccessible

# List usernames (only for ActiveMQ)
aws mq list-users --broker-id <broker-id>

# Get user info (PASSWORD NOT INCLUDED)
aws mq describe-user --broker-id <broker-id> --username <username>

# Lits configurations (only for ActiveMQ)
aws mq list-configurations
## Here you can find if simple or LDAP authentication is used

# Creacte Active MQ user
aws mq create-user --broker-id <value> --password <value> --username <value> --console-access
```
{% hint style="warning" %}
TODO: NaznaÄite kako da nabrojite RabbitMQ i ActiveMQ interno i kako da sluÅ¡ate sve redove i Å¡aljete podatke (poÅ¡aljite PR ako znate kako to da uradite)
{% endhint %}

## Privesc

{% content-ref url="../aws-privilege-escalation/aws-mq-privesc.md" %}
[aws-mq-privesc.md](../aws-privilege-escalation/aws-mq-privesc.md)
{% endcontent-ref %}

## Neautentifikovan pristup

{% content-ref url="../aws-unauthenticated-enum-access/aws-mq-unauthenticated-enum.md" %}
[aws-mq-unauthenticated-enum.md](../aws-unauthenticated-enum-access/aws-mq-unauthenticated-enum.md)
{% endcontent-ref %}

## Upornost

Ako znate pristupne podatke za pristup RabbitMQ veb konzoli, moÅ¾ete kreirati novog korisnika sa administratorskim privilegijama.

## Reference

* [https://www.cloudamqp.com/blog/part1-rabbitmq-for-beginners-what-is-rabbitmq.html](https://www.cloudamqp.com/blog/part1-rabbitmq-for-beginners-what-is-rabbitmq.html)
* [https://activemq.apache.org/](https://activemq.apache.org/)

<details>

<summary><strong>NauÄite hakovanje AWS-a od nule do heroja sa</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Drugi naÄini da podrÅ¾ite HackTricks:

* Ako Å¾elite da vidite **vaÅ¡u kompaniju reklamiranu u HackTricks-u** ili **preuzmete HackTricks u PDF formatu** Pogledajte [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Nabavite [**zvaniÄni PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Otkrijte [**The PEASS Family**](https://opensea.io/collection/the-peass-family), naÅ¡u kolekciju ekskluzivnih [**NFT-ova**](https://opensea.io/collection/the-peass-family)
* **PridruÅ¾ite se** ğŸ’¬ [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili nas **pratite** na **Twitter-u** ğŸ¦ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Podelite svoje hakovanje trikove slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>
