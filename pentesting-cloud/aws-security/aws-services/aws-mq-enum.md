# AWS - MQ æšä¸¾

<details>

<summary><strong>ä»é›¶å¼€å§‹å­¦ä¹  AWS é»‘å®¢æŠ€æœ¯ï¼Œæˆä¸ºä¸“å®¶</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTEï¼ˆHackTricks AWS çº¢é˜Ÿä¸“å®¶ï¼‰</strong></a><strong>ï¼</strong></summary>

æ”¯æŒ HackTricks çš„å…¶ä»–æ–¹å¼ï¼š

* å¦‚æœæ‚¨æƒ³çœ‹åˆ°æ‚¨çš„**å…¬å¸åœ¨ HackTricks ä¸­åšå¹¿å‘Š**æˆ–**ä¸‹è½½ PDF ç‰ˆçš„ HackTricks**ï¼Œè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)!
* è·å–[**å®˜æ–¹ PEASS & HackTricks å•†å“**](https://peass.creator-spring.com)
* æ¢ç´¢[**PEASS å®¶æ—**](https://opensea.io/collection/the-peass-family)ï¼Œæˆ‘ä»¬çš„ç‹¬å®¶[**NFT**](https://opensea.io/collection/the-peass-family)æ”¶è—å“
* **åŠ å…¥** ğŸ’¬ [**Discord ç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**ç”µæŠ¥ç¾¤ç»„**](https://t.me/peass) æˆ–åœ¨ **Twitter** ğŸ¦ [**@hacktricks_live**](https://twitter.com/hacktricks_live)** ä¸Šå…³æ³¨æˆ‘ä»¬**ã€‚
* é€šè¿‡å‘ [**HackTricks**](https://github.com/carlospolop/hacktricks) å’Œ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github ä»“åº“æäº¤ PR æ¥åˆ†äº«æ‚¨çš„é»‘å®¢æŠ€å·§ã€‚

</details>

## Amazon MQ

### ä»‹ç»æ¶ˆæ¯ä»£ç†
**æ¶ˆæ¯ä»£ç†**å……å½“ä¸­é—´äººï¼Œåœ¨ä¸åŒè½¯ä»¶ç³»ç»Ÿä¹‹é—´è¿›è¡Œé€šä¿¡ï¼Œè¿™äº›ç³»ç»Ÿå¯èƒ½æ„å»ºåœ¨ä¸åŒå¹³å°ä¸Šï¼Œå¹¶ç”¨ä¸åŒè¯­è¨€ç¼–ç¨‹ã€‚**Amazon MQ**ç®€åŒ–äº†åœ¨ AWS ä¸Šéƒ¨ç½²ã€è¿è¡Œå’Œç»´æŠ¤æ¶ˆæ¯ä»£ç†çš„è¿‡ç¨‹ã€‚å®ƒä¸º **Apache ActiveMQ** å’Œ **RabbitMQ** æä¾›æ‰˜ç®¡æœåŠ¡ï¼Œç¡®ä¿æ— ç¼çš„é…ç½®å’Œè‡ªåŠ¨è½¯ä»¶ç‰ˆæœ¬æ›´æ–°ã€‚

### AWS - RabbitMQ
RabbitMQ æ˜¯ä¸€ç§çŸ¥åçš„**æ¶ˆæ¯é˜Ÿåˆ—è½¯ä»¶**ï¼Œä¹Ÿè¢«ç§°ä¸º _æ¶ˆæ¯ä»£ç†_ æˆ– _é˜Ÿåˆ—ç®¡ç†å™¨_ã€‚å®ƒåŸºæœ¬ä¸Šæ˜¯ä¸€ä¸ªé…ç½®äº†é˜Ÿåˆ—çš„ç³»ç»Ÿã€‚åº”ç”¨ç¨‹åºä¸è¿™äº›é˜Ÿåˆ—æ¥å£ï¼Œä»¥**å‘é€å’Œæ¥æ”¶æ¶ˆæ¯**ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ¶ˆæ¯å¯ä»¥æºå¸¦å„ç§ä¿¡æ¯ï¼Œä»å‘½ä»¤ä»¥å¯åŠ¨å…¶ä»–åº”ç”¨ç¨‹åºä¸Šçš„è¿›ç¨‹ï¼ˆå¯èƒ½åœ¨ä¸åŒæœåŠ¡å™¨ä¸Šï¼‰åˆ°ç®€å•çš„æ–‡æœ¬æ¶ˆæ¯ã€‚è¿™äº›æ¶ˆæ¯ç”±é˜Ÿåˆ—ç®¡ç†è½¯ä»¶ä¿å­˜ï¼Œç›´åˆ°è¢«æ¥æ”¶åº”ç”¨ç¨‹åºæ£€ç´¢å¹¶å¤„ç†ã€‚AWS æä¾›äº†ä¸€ä¸ªæ˜“äºä½¿ç”¨çš„è§£å†³æ–¹æ¡ˆï¼Œç”¨äºæ‰˜ç®¡å’Œç®¡ç† RabbitMQ æœåŠ¡å™¨ã€‚

### AWS - ActiveMQ
Apache ActiveMQÂ® æ˜¯ä¸€ç§é¢†å…ˆçš„å¼€æºã€åŸºäº Java çš„**æ¶ˆæ¯ä»£ç†**ï¼Œä»¥å…¶å¤šåŠŸèƒ½æ€§è€Œé—»åã€‚å®ƒæ”¯æŒå¤šä¸ªè¡Œä¸šæ ‡å‡†åè®®ï¼Œæä¾›å¹¿æ³›çš„å®¢æˆ·ç«¯å…¼å®¹æ€§ï¼Œé€‚ç”¨äºå¤šç§è¯­è¨€å’Œå¹³å°ã€‚ç”¨æˆ·å¯ä»¥ï¼š

- è¿æ¥ JavaScriptã€Cã€C++ã€Pythonã€.Net ç­‰ç¼–å†™çš„å®¢æˆ·ç«¯ã€‚
- åˆ©ç”¨ **AMQP** åè®®é›†æˆæ¥è‡ªä¸åŒå¹³å°çš„åº”ç”¨ç¨‹åºã€‚
- ä½¿ç”¨ **STOMP** é€šè¿‡ Websockets è¿›è¡Œ Web åº”ç”¨ç¨‹åºæ¶ˆæ¯äº¤æ¢ã€‚
- ä½¿ç”¨ **MQTT** ç®¡ç†ç‰©è”ç½‘è®¾å¤‡ã€‚
- ç»´æŠ¤ç°æœ‰çš„ **JMS** åŸºç¡€è®¾æ–½å¹¶æ‰©å±•å…¶åŠŸèƒ½ã€‚

ActiveMQ çš„ç¨³å¥æ€§å’Œçµæ´»æ€§ä½¿å…¶é€‚ç”¨äºå¤šç§æ¶ˆæ¯ä¼ é€’éœ€æ±‚ã€‚

## æšä¸¾
```bash
# List brokers
aws mq list-brokers

# Get broker info
aws mq describe-broker --broker-id <broker-id>
## Find endpoints in .BrokerInstances
## Find if public accessible in .PubliclyAccessible

# List usernames (only for ActiveMQ)
aws mq list-users --broker-id <broker-id>

# Get user info (PASSWORD NOT INCLUDED)
aws mq describe-user --broker-id <broker-id> --username <username>

# Lits configurations (only for ActiveMQ)
aws mq list-configurations
## Here you can find if simple or LDAP authentication is used

# Creacte Active MQ user
aws mq create-user --broker-id <value> --password <value> --username <value> --console-access
```
## Privesc

{% content-ref url="../aws-privilege-escalation/aws-mq-privesc.md" %}
[aws-mq-privesc.md](../aws-privilege-escalation/aws-mq-privesc.md)
{% endcontent-ref %}

## æœªç»èº«ä»½éªŒè¯çš„è®¿é—®

{% content-ref url="../aws-unauthenticated-enum-access/aws-mq-unauthenticated-enum.md" %}
[aws-mq-unauthenticated-enum.md](../aws-unauthenticated-enum-access/aws-mq-unauthenticated-enum.md)
{% endcontent-ref %}

## æŒä¹…æ€§

å¦‚æœæ‚¨çŸ¥é“è®¿é—®RabbitMQ Webæ§åˆ¶å°çš„å‡­æ®ï¼Œæ‚¨å¯ä»¥åˆ›å»ºä¸€ä¸ªå…·æœ‰ç®¡ç†å‘˜æƒé™çš„æ–°ç”¨æˆ·ã€‚

## å‚è€ƒ

* [https://www.cloudamqp.com/blog/part1-rabbitmq-for-beginners-what-is-rabbitmq.html](https://www.cloudamqp.com/blog/part1-rabbitmq-for-beginners-what-is-rabbitmq.html)
* [https://activemq.apache.org/](https://activemq.apache.org/)

<details>

<summary><strong>ä»é›¶å¼€å§‹å­¦ä¹ AWSé»‘å®¢æŠ€æœ¯ï¼Œæˆä¸ºä¸“å®¶</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

æ”¯æŒHackTricksçš„å…¶ä»–æ–¹å¼ï¼š

* å¦‚æœæ‚¨æƒ³çœ‹åˆ°æ‚¨çš„**å…¬å¸åœ¨HackTricksä¸­åšå¹¿å‘Š**æˆ–**ä¸‹è½½PDFæ ¼å¼çš„HackTricks**ï¼Œè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)!
* è·å–[**å®˜æ–¹PEASS & HackTrickså‘¨è¾¹äº§å“**](https://peass.creator-spring.com)
* å‘ç°æˆ‘ä»¬çš„ç‹¬å®¶[NFTs](https://opensea.io/collection/the-peass-family)æ”¶è—å“[**The PEASS Family**](https://opensea.io/collection/the-peass-family)
* **åŠ å…¥** ğŸ’¬ [**Discordç¾¤**](https://discord.gg/hRep4RUj7f) æˆ– [**ç”µæŠ¥ç¾¤**](https://t.me/peass) æˆ–åœ¨**Twitter** ğŸ¦ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**ä¸Šå…³æ³¨**æˆ‘ä»¬ã€‚
* é€šè¿‡å‘[**HackTricks**](https://github.com/carlospolop/hacktricks)å’Œ[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) githubä»“åº“æäº¤PRæ¥åˆ†äº«æ‚¨çš„é»‘å®¢æŠ€å·§ã€‚

</details>
