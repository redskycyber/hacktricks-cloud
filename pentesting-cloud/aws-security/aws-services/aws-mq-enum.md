# AWS - MQ Enum

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong>ë¥¼ í†µí•´ AWS í•´í‚¹ì„ ì²˜ìŒë¶€í„° ì „ë¬¸ê°€ê¹Œì§€ ë°°ì›Œë³´ì„¸ìš”<strong>!</strong></summary>

HackTricksë¥¼ ì§€ì›í•˜ëŠ” ë‹¤ë¥¸ ë°©ë²•:

* **íšŒì‚¬ë¥¼ HackTricksì—ì„œ ê´‘ê³ í•˜ê±°ë‚˜ HackTricksë¥¼ PDFë¡œ ë‹¤ìš´ë¡œë“œ**í•˜ë ¤ë©´ [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)ë¥¼ í™•ì¸í•˜ì„¸ìš”!
* [**ê³µì‹ PEASS & HackTricks ìŠ¤ì›¨ê·¸**](https://peass.creator-spring.com)ë¥¼ ì–»ìœ¼ì„¸ìš”.
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ë¥¼ ë°œê²¬í•˜ì„¸ìš”. ë…ì ì ì¸ [**NFTs**](https://opensea.io/collection/the-peass-family) ì»¬ë ‰ì…˜ì…ë‹ˆë‹¤.
* ğŸ’¬ [**Discord ê·¸ë£¹**](https://discord.gg/hRep4RUj7f) ë˜ëŠ” [**í…”ë ˆê·¸ë¨ ê·¸ë£¹**](https://t.me/peass)ì— **ì°¸ì—¬**í•˜ê±°ë‚˜ **Twitter** ğŸ¦ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**ë¥¼** **íŒ”ë¡œìš°**í•˜ì„¸ìš”.
* **Hacking íŠ¸ë¦­ì„ ê³µìœ í•˜ë ¤ë©´** [**HackTricks**](https://github.com/carlospolop/hacktricks) ë° [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github ì €ì¥ì†Œì— PRì„ ì œì¶œí•˜ì„¸ìš”.

</details>

## Amazon MQ

### ë©”ì‹œì§€ ë¸Œë¡œì»¤ ì†Œê°œ
**ë©”ì‹œì§€ ë¸Œë¡œì»¤**ëŠ” ì„œë¡œ ë‹¤ë¥¸ ì†Œí”„íŠ¸ì›¨ì–´ ì‹œìŠ¤í…œ ê°„ì˜ í†µì‹ ì„ ì¤‘ê°œí•˜ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤. ì´ëŸ¬í•œ ì‹œìŠ¤í…œì€ ë‹¤ì–‘í•œ í”Œë«í¼ì—ì„œ êµ¬ì¶•ë˜ê³  ë‹¤ë¥¸ ì–¸ì–´ë¡œ í”„ë¡œê·¸ë˜ë°ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. **Amazon MQ**ëŠ” AWSì—ì„œ ë©”ì‹œì§€ ë¸Œë¡œì»¤ì˜ ë°°í¬, ìš´ì˜ ë° ìœ ì§€ ê´€ë¦¬ë¥¼ ê°„ì†Œí™”í•©ë‹ˆë‹¤. **Apache ActiveMQ** ë° **RabbitMQ**ì— ëŒ€í•œ ê´€ë¦¬í˜• ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•˜ì—¬ ì›í™œí•œ í”„ë¡œë¹„ì €ë‹ ë° ìë™ ì†Œí”„íŠ¸ì›¨ì–´ ë²„ì „ ì—…ë°ì´íŠ¸ë¥¼ ë³´ì¥í•©ë‹ˆë‹¤.

### AWS - RabbitMQ
RabbitMQëŠ” ìœ ëª…í•œ **ë©”ì‹œì§€ í ì†Œí”„íŠ¸ì›¨ì–´**ë¡œì„œ _ë©”ì‹œì§€ ë¸Œë¡œì»¤_ ë˜ëŠ” _í ë§¤ë‹ˆì €_ë¡œë„ ì•Œë ¤ì ¸ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ íê°€ êµ¬ì„±ëœ ì‹œìŠ¤í…œì…ë‹ˆë‹¤. ì‘ìš© í”„ë¡œê·¸ë¨ì€ ì´ëŸ¬í•œ íì™€ ìƒí˜¸ ì‘ìš©í•˜ì—¬ **ë©”ì‹œì§€ë¥¼ ë³´ë‚´ê³  ë°›ìŠµë‹ˆë‹¤**. ì´ ë¬¸ë§¥ì—ì„œ ë©”ì‹œì§€ëŠ” ë‹¤ë¥¸ ì‘ìš© í”„ë¡œê·¸ë¨ì—ì„œ í”„ë¡œì„¸ìŠ¤ë¥¼ ì‹œì‘í•˜ëŠ” ëª…ë ¹ë¶€í„° ê°„ë‹¨í•œ í…ìŠ¤íŠ¸ ë©”ì‹œì§€ê¹Œì§€ ë‹¤ì–‘í•œ ì •ë³´ë¥¼ ì „ë‹¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë©”ì‹œì§€ëŠ” ìˆ˜ì‹  ì‘ìš© í”„ë¡œê·¸ë¨ì— ì˜í•´ ê²€ìƒ‰ë˜ê³  ì²˜ë¦¬ë  ë•Œê¹Œì§€ í ë§¤ë‹ˆì € ì†Œí”„íŠ¸ì›¨ì–´ì— ì˜í•´ ë³´ê´€ë©ë‹ˆë‹¤. AWSëŠ” RabbitMQ ì„œë²„ë¥¼ í˜¸ìŠ¤íŒ…í•˜ê³  ê´€ë¦¬í•˜ê¸° ì‰¬ìš´ ì†”ë£¨ì…˜ì„ ì œê³µí•©ë‹ˆë‹¤.

### AWS - ActiveMQ
Apache ActiveMQÂ®ëŠ” ë‹¤ì–‘ì„±ìœ¼ë¡œ ìœ ëª…í•œ ì£¼ìš” ì˜¤í”ˆ ì†ŒìŠ¤, Java ê¸°ë°˜ **ë©”ì‹œì§€ ë¸Œë¡œì»¤**ì…ë‹ˆë‹¤. ì´ëŠ” ë‹¤ì¤‘ ì‚°ì—… í‘œì¤€ í”„ë¡œí† ì½œì„ ì§€ì›í•˜ì—¬ ë‹¤ì–‘í•œ ì–¸ì–´ì™€ í”Œë«í¼ì—ì„œ ê´‘ë²”ìœ„í•œ í´ë¼ì´ì–¸íŠ¸ í˜¸í™˜ì„±ì„ ì œê³µí•©ë‹ˆë‹¤. ì‚¬ìš©ìëŠ” ë‹¤ìŒì„ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

- JavaScript, C, C++, Python, .Net ë“±ìœ¼ë¡œ ì‘ì„±ëœ í´ë¼ì´ì–¸íŠ¸ì™€ ì—°ê²°í•©ë‹ˆë‹¤.
- ë‹¤ë¥¸ í”Œë«í¼ì˜ ì‘ìš© í”„ë¡œê·¸ë¨ì„ í†µí•©í•˜ê¸° ìœ„í•´ **AMQP** í”„ë¡œí† ì½œì„ í™œìš©í•©ë‹ˆë‹¤.
- ì›¹ ì‘ìš© í”„ë¡œê·¸ë¨ ë©”ì‹œì§€ êµí™˜ì„ ìœ„í•´ ì›¹ì†Œì¼“ì„ í†µí•œ **STOMP**ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.
- **MQTT**ë¥¼ ì‚¬ìš©í•˜ì—¬ IoT ì¥ì¹˜ë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤.
- ê¸°ì¡´ **JMS** ì¸í”„ë¼ë¥¼ ìœ ì§€ ê´€ë¦¬í•˜ê³  ê¸°ëŠ¥ì„ í™•ì¥í•©ë‹ˆë‹¤.

ActiveMQì˜ ê²¬ê³ ì„±ê³¼ ìœ ì—°ì„±ì€ ë‹¤ì–‘í•œ ë©”ì‹œì§• ìš”êµ¬ ì‚¬í•­ì— ì í•©í•©ë‹ˆë‹¤.


## ì—´ê±°
```bash
# List brokers
aws mq list-brokers

# Get broker info
aws mq describe-broker --broker-id <broker-id>
## Find endpoints in .BrokerInstances
## Find if public accessible in .PubliclyAccessible

# List usernames (only for ActiveMQ)
aws mq list-users --broker-id <broker-id>

# Get user info (PASSWORD NOT INCLUDED)
aws mq describe-user --broker-id <broker-id> --username <username>

# Lits configurations (only for ActiveMQ)
aws mq list-configurations
## Here you can find if simple or LDAP authentication is used

# Creacte Active MQ user
aws mq create-user --broker-id <value> --password <value> --username <value> --console-access
```
{% hint style="warning" %}
TODO: ë‚´ë¶€ì ìœ¼ë¡œ RabbitMQì™€ ActiveMQë¥¼ ì—´ê±°í•˜ê³  ëª¨ë“  íì—ì„œ ë°ì´í„°ë¥¼ ìˆ˜ì‹ í•˜ê³  ì „ì†¡í•˜ëŠ” ë°©ë²•ì„ ë‚˜íƒ€ë‚´ì‹­ì‹œì˜¤ (ì´ë¥¼ ìˆ˜í–‰í•˜ëŠ” ë°©ë²•ì„ ì•Œê³  ìˆë‹¤ë©´ PRì„ ë³´ë‚´ì£¼ì‹­ì‹œì˜¤).
{% endhint %}

## ê¶Œí•œ ìƒìŠ¹

{% content-ref url="../aws-privilege-escalation/aws-mq-privesc.md" %}
[aws-mq-privesc.md](../aws-privilege-escalation/aws-mq-privesc.md)
{% endcontent-ref %}

## ì¸ì¦ë˜ì§€ ì•Šì€ ì•¡ì„¸ìŠ¤

{% content-ref url="../aws-unauthenticated-enum-access/aws-mq-unauthenticated-enum.md" %}
[aws-mq-unauthenticated-enum.md](../aws-unauthenticated-enum-access/aws-mq-unauthenticated-enum.md)
{% endcontent-ref %}

## ì§€ì†ì„±

RabbitMQ ì›¹ ì½˜ì†”ì— ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆëŠ” ìê²© ì¦ëª…ì„ ì•Œê³  ìˆë‹¤ë©´ ê´€ë¦¬ì ê¶Œí•œì„ ê°€ì§„ ìƒˆ ì‚¬ìš©ìë¥¼ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ì°¸ê³  ìë£Œ

* [https://www.cloudamqp.com/blog/part1-rabbitmq-for-beginners-what-is-rabbitmq.html](https://www.cloudamqp.com/blog/part1-rabbitmq-for-beginners-what-is-rabbitmq.html)
* [https://activemq.apache.org/](https://activemq.apache.org/)

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>ë¥¼ í†µí•´ AWS í•´í‚¹ì„ ì²˜ìŒë¶€í„° ì „ë¬¸ê°€ê¹Œì§€ ë°°ì›Œë³´ì„¸ìš”</strong></a><strong>!</strong></summary>

HackTricksë¥¼ ì§€ì›í•˜ëŠ” ë‹¤ë¥¸ ë°©ë²•:

* **íšŒì‚¬ë¥¼ HackTricksì—ì„œ ê´‘ê³ í•˜ê±°ë‚˜ HackTricksë¥¼ PDFë¡œ ë‹¤ìš´ë¡œë“œ**í•˜ë ¤ë©´ [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)ë¥¼ í™•ì¸í•˜ì„¸ìš”!
* [**ê³µì‹ PEASS & HackTricks ìŠ¤ì›¨ê·¸**](https://peass.creator-spring.com)ë¥¼ ì–»ìœ¼ì„¸ìš”.
* ë…ì ì ì¸ [**NFTs**](https://opensea.io/collection/the-peass-family)ì¸ [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ë¥¼ ë°œê²¬í•˜ì„¸ìš”.
* ğŸ’¬ [**Discord ê·¸ë£¹**](https://discord.gg/hRep4RUj7f) ë˜ëŠ” [**í…”ë ˆê·¸ë¨ ê·¸ë£¹**](https://t.me/peass)ì— **ì°¸ì—¬**í•˜ê±°ë‚˜ **Twitter** ğŸ¦ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**ë¥¼** íŒ”ë¡œìš°í•˜ì„¸ìš”.
* **HackTricks**ì™€ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github ì €ì¥ì†Œì— PRì„ ì œì¶œí•˜ì—¬ ì—¬ëŸ¬ë¶„ì˜ í•´í‚¹ ê¸°ìˆ ì„ ê³µìœ í•˜ì„¸ìš”.

</details>
