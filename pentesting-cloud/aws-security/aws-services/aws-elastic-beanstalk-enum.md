# AWS - Elastic Beanstalk Enum

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong> ile sÄ±fÄ±rdan kahraman olmak iÃ§in AWS hackleme Ã¶ÄŸrenin<strong>!</strong></summary>

HackTricks'Ä± desteklemenin diÄŸer yollarÄ±:

* Åirketinizi HackTricks'te **reklamÄ±nÄ±zÄ± gÃ¶rmek** veya HackTricks'i **PDF olarak indirmek** iÃ§in [**ABONELÄ°K PLANLARI**](https://github.com/sponsors/carlospolop)'na gÃ¶z atÄ±n!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* Ã–zel [**NFT'lerden**](https://opensea.io/collection/the-peass-family) oluÅŸan koleksiyonumuz [**The PEASS Family**](https://opensea.io/collection/the-peass-family)'i keÅŸfedin
* ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katÄ±lÄ±n** veya **Twitter** ğŸ¦ [**@hacktricks_live**](https://twitter.com/hacktricks_live)'Ä± **takip edin**.
* Hacking hilelerinizi gÃ¶ndererek HackTricks ve HackTricks Cloud github depolarÄ±na **PR gÃ¶ndererek** hilelerinizi paylaÅŸÄ±n.

</details>

## Elastic Beanstalk

Amazon Elastic Beanstalk, web uygulamalarÄ±nÄ± ve hizmetlerini **daÄŸÄ±tmak, yÃ¶netmek ve Ã¶lÃ§eklendirmek** iÃ§in basitleÅŸtirilmiÅŸ bir platform saÄŸlar. Java, .NET, PHP, Node.js, Python, Ruby ve Go gibi Ã§eÅŸitli programlama dilleri ve Ã§erÃ§eveleri, Docker konteynerleri de dahil olmak Ã¼zere desteklenir. Servis, Apache, Nginx, Passenger ve IIS gibi yaygÄ±n olarak kullanÄ±lan sunucularla uyumludur.

Elastic Beanstalk, uygulamalarÄ±nÄ±zÄ± AWS bulutuna **daÄŸÄ±tmanÄ±n, altta yatan altyapÄ±yla ilgilenme ihtiyacÄ± olmadan** basit ve esnek bir yol saÄŸlar. Kapasite **hazÄ±rlama**, yÃ¼k **dengeleme**, **Ã¶lÃ§eklendirme** ve uygulama saÄŸlÄ±k **izleme** gibi ayrÄ±ntÄ±larÄ± otomatik olarak yÃ¶netir ve kod yazmaya ve daÄŸÄ±tmaya odaklanmanÄ±zÄ± saÄŸlar.

Elastic Beanstalk tarafÄ±ndan oluÅŸturulan altyapÄ±, EC2'deki **Otomatik Ã–lÃ§eklendirme** GruplarÄ± tarafÄ±ndan yÃ¶netilir (bir yÃ¼k dengeleyici ile). Bu da demektir ki, gÃ¼n sonunda, **ana bilgisayarÄ± ele geÃ§irirseniz**, EC2 hakkÄ±nda bilgi sahibi olmanÄ±z gerekmektedir:

{% content-ref url="../../aws-security/aws-services/aws-ec2-ebs-elb-ssm-vpc-and-vpn-enum/" %}
[aws-ec2-ebs-elb-ssm-vpc-and-vpn-enum](../../aws-security/aws-services/aws-ec2-ebs-elb-ssm-vpc-and-vpn-enum/)
{% endcontent-ref %}

AyrÄ±ca, Docker kullanÄ±lÄ±yorsa, **ECS** kullanÄ±labilir.

{% content-ref url="../../aws-security/aws-services/aws-eks-enum.md" %}
[aws-eks-enum.md](../../aws-security/aws-services/aws-eks-enum.md)
{% endcontent-ref %}

### Uygulama ve Ortamlar

AWS Elastic Beanstalk'te, "uygulama" ve "ortam" kavramlarÄ±, daÄŸÄ±tÄ±m sÃ¼recinde farklÄ± amaÃ§lar iÃ§in farklÄ± rolleri olan farklÄ± amaÃ§lar iÃ§in hizmet verir.

#### Uygulama

* Elastic Beanstalk'teki bir uygulama, uygulama kodunuzun kaynak kodu, ortamlarÄ± ve yapÄ±landÄ±rmalarÄ± iÃ§in **mantÄ±ksal bir konteynerdir**. FarklÄ± uygulama sÃ¼rÃ¼mlerini bir araya getirir ve bunlarÄ± tek bir varlÄ±k olarak yÃ¶netmenizi saÄŸlar.
* Bir uygulama oluÅŸturduÄŸunuzda, bir ad ve aÃ§Ä±klama saÄŸlarsÄ±nÄ±z, ancak bu aÅŸamada **hiÃ§bir kaynak saÄŸlanmaz**. Sadece kodunuzu ve ilgili kaynaklarÄ± dÃ¼zenlemek ve yÃ¶netmek iÃ§in bir yol saÄŸlar.
* Bir uygulama iÃ§inde **birden Ã§ok uygulama sÃ¼rÃ¼mÃ¼** olabilir. Her sÃ¼rÃ¼m, kodunuzun belirli bir sÃ¼rÃ¼mÃ¼nÃ¼ temsil eder ve bir veya daha fazla ortama daÄŸÄ±tÄ±labilir.

#### Ortam

* Bir ortam, AWS altyapÄ±sÄ±nda Ã§alÄ±ÅŸan uygulamanÄ±zÄ±n **hazÄ±r bir Ã¶rneÄŸidir**. Uygulama kodunuzun daÄŸÄ±tÄ±ldÄ±ÄŸÄ± ve yÃ¼rÃ¼tÃ¼ldÃ¼ÄŸÃ¼ yerdir. Elastic Beanstalk, ortam yapÄ±landÄ±rmasÄ±na dayanarak gerekli kaynaklarÄ± (Ã¶rneÄŸin, EC2 Ã¶rnekleri, yÃ¼k dengeleyiciler, otomatik Ã¶lÃ§eklendirme gruplarÄ±, veritabanlarÄ±) saÄŸlar.
* **Her ortam, uygulamanÄ±zÄ±n tek bir sÃ¼rÃ¼mÃ¼nÃ¼ Ã§alÄ±ÅŸtÄ±rÄ±r** ve geliÅŸtirme, test, aÅŸama ve Ã¼retim gibi farklÄ± amaÃ§lar iÃ§in birden Ã§ok ortama sahip olabilirsiniz.
* Bir ortam oluÅŸturduÄŸunuzda, bir platform (Ã¶rneÄŸin, Java, .NET, Node.js vb.) ve bir ortam tÃ¼rÃ¼ (Ã¶rneÄŸin, web sunucusu veya iÅŸÃ§i) seÃ§ersiniz. AyrÄ±ca, altyapÄ± ve uygulama ayarlarÄ±nÄ±n Ã§eÅŸitli yÃ¶nlerini kontrol etmek iÃ§in ortam yapÄ±landÄ±rmasÄ±nÄ± Ã¶zelleÅŸtirebilirsiniz.

### 2 tÃ¼r Ortam

1. **Web Sunucusu OrtamÄ±**: Web uygulamalarÄ±nÄ± ve API'leri **barÄ±ndÄ±rmak ve sunmak** iÃ§in tasarlanmÄ±ÅŸtÄ±r. Bu uygulamalar genellikle gelen HTTP/HTTPS isteklerini iÅŸler. Web sunucusu ortamÄ±, gelen trafiÄŸi yÃ¶netmek, kapasiteyi yÃ¶netmek ve uygulamanÄ±n yÃ¼ksek kullanÄ±labilirliÄŸini saÄŸlamak iÃ§in **EC2 Ã¶rnekleri, yÃ¼k dengeleyicileri ve otomatik Ã¶lÃ§eklendirme** gruplarÄ± gibi kaynaklarÄ± saÄŸlar.
2. **Ä°ÅŸÃ§i OrtamÄ±**: Ä°ÅŸÃ§i ortamÄ±, genellikle mÃ¼ÅŸterilere hemen yanÄ±t gerektirmeyen, zaman alÄ±cÄ± veya kaynak yoÄŸun iÅŸlemleri iÅŸlemek iÃ§in tasarlanmÄ±ÅŸtÄ±r. Ä°ÅŸÃ§i ortamÄ±, **EC2 Ã¶rnekleri ve otomatik Ã¶lÃ§eklendirme gruplarÄ±** gibi kaynaklarÄ± saÄŸlar, ancak doÄŸrudan HTTP/HTTPS isteklerini iÅŸlemediÄŸi iÃ§in bir yÃ¼k dengeleyiciye sahip deÄŸildir. Bunun yerine, iÅŸÃ§i ortamÄ± ile iÅŸlenen gÃ¶revler arasÄ±nda bir tampon gÃ¶revi gÃ¶ren bir **Amazon Simple Queue Service (SQS) kuyruÄŸundan** gÃ¶revleri tÃ¼ketir.

### GÃ¼venlik

Beanstalk'te bir Uygulama oluÅŸtururken seÃ§ilebilecek 3 Ã§ok Ã¶nemli gÃ¼venlik seÃ§eneÄŸi vardÄ±r:

* **EC2 anahtar Ã§ifti**: UygulamayÄ± Ã§alÄ±ÅŸtÄ±ran EC2 Ã¶rneklerine eriÅŸebilecek olan **SSH anahtar** olacaktÄ±r.
* **IAM Ã¶rneÄŸi profili**: Ã–rneklerin sahip olacaÄŸÄ± **Ã¶rnek profili** (**IAM yetkileri**)
* Otomatik olarak oluÅŸturulan rol **`aws-elasticbeanstalk-ec2-role`** adÄ±nÄ± taÅŸÄ±r ve AWS yÃ¶netilen politikalarÄ±nÄ± kullanarak tÃ¼m ECS, tÃ¼m SQS, DynamoDB elasticbeanstalk ve elasticbeanstalk S3 Ã¼zerinde ilginÃ§ eriÅŸim saÄŸlar: [AWSElasticBeanstalkWebTier](https://us-east-1.console.aws.amazon.com/iam/home#/policies/arn:aws:iam::aws:policy/AWSElasticBeanstalkWebTier), [AWSElasticBeanstalkMulticontainerDocker](https://us-east-1.console.aws.amazon.com/iam/home#/policies/arn:aws:iam::aws:policy/AWSElasticBeanstalkMulticontainerDocker), [AWSElasticBeanstalkWorkerTier](https://us-east-1.console.aws.amazon.com/iam/home#/policies/arn:aws:iam::aws:policy/AWSElasticBeanstalkWorkerTier).
* **Hizmet rolÃ¼**: AWS hizmetinin **gereken tÃ¼m iÅŸlemleri gerÃ§ekleÅŸtirmek iÃ§in kullanacaÄŸÄ± rol**. BildiÄŸim kadarÄ±yla, dÃ¼zenli bir AWS kullanÄ±cÄ±sÄ± bu role eriÅŸemez.
* AWS tarafÄ±ndan oluÅŸturulan bu rol **`aws-elasticbeanstalk-service-role`** adÄ±nÄ± taÅŸÄ±r ve AWS yÃ¶netilen politikalar [AWSElasticBeanstalkEnhancedHealth](https://us-east-1.console.aws.amazon.com/iam/home#/policies/arn:aws:iam::aws:policy/service-role/AWSElasticBeanstalkEnhancedHealth) ve [AWSElasticBeanstalkManagedUpdatesCustomerRolePolicy](https://us-east-1.console.aws.amazon.com/iamv2/home?region=us-east-1#/roles/details/aws-elasticbeanstalk-service-role?section=permissions) kullanÄ±r.
* Vars
### Maruz Kalma

Beanstalk verileri, aÅŸaÄŸÄ±daki isme sahip bir **S3 kovasÄ±nda** depolanÄ±r: **`elasticbeanstalk-<bÃ¶lge>-<hesap-id>`** (AWS konsolunda oluÅŸturulduysa). Bu kovada, yÃ¼klenen **uygulamanÄ±n kaynak kodunu** bulacaksÄ±nÄ±z.

OluÅŸturulan web sayfasÄ±nÄ±n **URL'si** ÅŸu ÅŸekildedir: **`http://<webapp-adÄ±>-env.<rastgele>.<bÃ¶lge>.elasticbeanstalk.com/`**

{% hint style="warning" %}
EÄŸer kovaya **okuma eriÅŸimi** elde ederseniz, kaynak kodunu **okuyabilir** ve hatta Ã¼zerinde **hassas kimlik bilgileri** bulabilirsiniz.

EÄŸer kovaya **yazma eriÅŸimi** elde ederseniz, kaynak kodunu **deÄŸiÅŸtirerek** uygulamanÄ±n bir sonraki Ã§alÄ±ÅŸtÄ±rÄ±lmasÄ±nda kullanÄ±lan **IAM rolÃ¼nÃ¼** tehlikeye atabilirsiniz.
{% endhint %}

### NumaralandÄ±rma

{% code overflow="wrap" %}
```bash
# Find S3 bucket
ACCOUNT_NUMBER=<account_number>
for r in us-east-1 us-east-2 us-west-1 us-west-2 ap-south-1 ap-south-2 ap-northeast-1 ap-northeast-2 ap-northeast-3 ap-southeast-1 ap-southeast-2 ap-southeast-3 ca-central-1 eu-central-1 eu-central-2 eu-west-1 eu-west-2 eu-west-3 eu-north-1 sa-east-1 af-south-1 ap-east-1 eu-south-1 eu-south-2 me-south-1 me-central-1; do aws s3 ls elasticbeanstalk-$r-$ACCOUNT_NUMBER 2>/dev/null && echo "Found in: elasticbeanstalk-$r-$ACCOUNT_NUMBER"; done

# Get apps and URLs
aws elasticbeanstalk describe-applications # List apps
aws elasticbeanstalk describe-application-versions # Get apps & bucket name with source code
aws elasticbeanstalk describe-environments # List envs
aws elasticbeanstalk describe-environments | grep -E "EndpointURL|CNAME"
aws elasticbeanstalk describe-configuration-settings --application-name <app_name> --environment-name <env_name>
aws elasticbeanstalk describe-environment-resources --environment-name <env_name> # Get env info such as SQS used queues
aws elasticbeanstalk describe-instances-health --environment-name <env_name> # Get the instances of an environment

# Get events
aws elasticbeanstalk describe-events
```
{% endcode %}

### Kimlik DoÄŸrulama Gerektirmeyen EriÅŸim

{% content-ref url="../../aws-security/aws-unauthenticated-enum-access/aws-elastic-beanstalk-unauthenticated-enum.md" %}
[aws-elastic-beanstalk-unauthenticated-enum.md](../../aws-security/aws-unauthenticated-enum-access/aws-elastic-beanstalk-unauthenticated-enum.md)
{% endcontent-ref %}

### KalÄ±cÄ±lÄ±k

{% content-ref url="../../aws-security/aws-persistence/aws-elastic-beanstalk-persistence.md" %}
[aws-elastic-beanstalk-persistence.md](../../aws-security/aws-persistence/aws-elastic-beanstalk-persistence.md)
{% endcontent-ref %}

### Ä°zin YÃ¼kseltme

{% content-ref url="../aws-privilege-escalation/aws-elastic-beanstalk-privesc.md" %}
[aws-elastic-beanstalk-privesc.md](../aws-privilege-escalation/aws-elastic-beanstalk-privesc.md)
{% endcontent-ref %}

### SaldÄ±rÄ± SonrasÄ±

{% content-ref url="../../aws-security/aws-post-exploitation/aws-elastic-beanstalk-post-exploitation.md" %}
[aws-elastic-beanstalk-post-exploitation.md](../../aws-security/aws-post-exploitation/aws-elastic-beanstalk-post-exploitation.md)
{% endcontent-ref %}

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong> ile sÄ±fÄ±rdan kahraman olmak iÃ§in AWS hackleme Ã¶ÄŸrenin<strong>!</strong></summary>

HackTricks'Ä± desteklemenin diÄŸer yollarÄ±:

* Åirketinizi HackTricks'te **reklamÄ±nÄ±zÄ± gÃ¶rmek** veya HackTricks'i **PDF olarak indirmek** iÃ§in [**ABONELÄ°K PLANLARI**](https://github.com/sponsors/carlospolop)'na gÃ¶z atÄ±n!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* Ã–zel [**NFT'lerden**](https://opensea.io/collection/the-peass-family) oluÅŸan koleksiyonumuz [**The PEASS Family**](https://opensea.io/collection/the-peass-family)'yi keÅŸfedin
* ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katÄ±lÄ±n** veya **Twitter** ğŸ¦ [**@hacktricks_live**](https://twitter.com/hacktricks_live)'i **takip edin**.
* **Hacking hilelerinizi** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna **PR gÃ¶ndererek** paylaÅŸÄ±n.

</details>
