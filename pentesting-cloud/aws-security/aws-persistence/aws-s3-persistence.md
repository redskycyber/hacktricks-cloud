# AWS - S3 μ§€μ†μ„±

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong>μ—μ„ <strong>AWS ν•΄ν‚Ήμ„ μ λ΅λ¶€ν„° μ „λ¬Έκ°€κΉμ§€ λ°°μ°μ„Έμ”</strong>!</summary>

HackTricksλ¥Ό μ§€μ›ν•λ” λ‹¤λ¥Έ λ°©λ²•:

* **νμ‚¬λ¥Ό HackTricksμ—μ„ κ΄‘κ³ ν•κ±°λ‚ HackTricksλ¥Ό PDFλ΅ λ‹¤μ΄λ΅λ“**ν•κ³  μ‹¶λ‹¤λ©΄ [**κµ¬λ… μ”κΈμ **](https://github.com/sponsors/carlospolop)λ¥Ό ν™•μΈν•μ„Έμ”!
* [**κ³µμ‹ PEASS & HackTricks μ¤μ™κ·Έ**](https://peass.creator-spring.com)λ¥Ό κµ¬λ§¤ν•μ„Έμ”
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)λ¥Ό λ°κ²¬ν•μ„Έμ”, λ‹Ήμ‚¬μ λ…μ  [**NFTs**](https://opensea.io/collection/the-peass-family) μ»¬λ ‰μ…
* π’¬ [**Discord κ·Έλ£Ή**](https://discord.gg/hRep4RUj7f) λλ” [**ν…”λ κ·Έλ¨ κ·Έλ£Ή**](https://t.me/peass)μ— **κ°€μ…**ν•κ±°λ‚ **νΈμ„ν„°** π¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)λ¥Ό **ν”λ΅μ°**ν•μ„Έμ”.
* **ν•΄ν‚Ή μ”λ Ήμ„ κ³µμ ν•λ ¤λ©΄** [**HackTricks**](https://github.com/carlospolop/hacktricks) λ° [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github μ €μ¥μ†λ΅ PRμ„ μ μ¶ν•μ„Έμ”.

</details>

## S3

λ” λ§μ€ μ •λ³΄λ” ν™•μΈν•μ„Έμ”:

{% content-ref url="../aws-services/aws-s3-athena-and-glacier-enum.md" %}
[aws-s3-athena-and-glacier-enum.md](../aws-services/aws-s3-athena-and-glacier-enum.md)
{% endcontent-ref %}

### KMS ν΄λΌμ΄μ–ΈνΈ μΈ΅ μ•”νΈν™”

μ•”νΈν™” ν”„λ΅μ„Έμ¤κ°€ μ™„λ£λλ©΄ μ‚¬μ©μλ” KMS APIλ¥Ό μ‚¬μ©ν•μ—¬ μƒ ν‚¤λ¥Ό μƒμ„±(`aws kms generate-data-key`)ν•κ³  νμΌμ λ©”νƒ€λ°μ΄ν„°μ— μƒμ„±λ μ•”νΈν™”λ ν‚¤λ¥Ό **μ €μ¥**ν•  κ²ƒμ…λ‹λ‹¤ ([νμ΄μ¬ μ½”λ“ μμ‹](https://aioboto3.readthedocs.io/en/latest/cse.html#how-it-works-kms-managed-keys)). λ”°λΌμ„ λ³µνΈν™”κ°€ λ°μƒν•  λ• KMSλ¥Ό λ‹¤μ‹ μ‚¬μ©ν•μ—¬ ν•΄λ‹Ή ν‚¤λ¥Ό μ‚¬μ©ν•μ—¬ λ³µνΈν™”ν•  μ μμµλ‹λ‹¤.

<figure><img src="../../../.gitbook/assets/image (226).png" alt=""><figcaption></figcaption></figure>

λ”°λΌμ„ κ³µκ²©μλ” μ΄ ν‚¤λ¥Ό λ©”νƒ€λ°μ΄ν„°μ—μ„ κ°€μ Έμ™€ KMSλ¥Ό μ‚¬μ©ν•μ—¬ λ³µνΈν™”(`aws kms decrypt`)ν•μ—¬ μ •λ³΄λ¥Ό μ•”νΈν™”ν•λ” λ° μ‚¬μ©λ ν‚¤λ¥Ό μ–»μ„ μ μμµλ‹λ‹¤. μ΄ λ°©λ²•μΌλ΅ κ³µκ²©μλ” μ•”νΈν™” ν‚¤λ¥Ό κ°€μ§€κ² λλ©° ν•΄λ‹Ή ν‚¤κ°€ λ‹¤λ¥Έ νμΌμ„ μ•”νΈν™”ν•λ” λ° μ¬μ‚¬μ©λ κ²½μ° μ‚¬μ©ν•  μ μμµλ‹λ‹¤.

### S3 ACL μ‚¬μ©

μΌλ°μ μΌλ΅ λ²„ν‚·μ ACLμ€ λΉ„ν™μ„±ν™”λμ–΄ μμ§€λ§ μ¶©λ¶„ν• κ¶ν•μ„ κ°€μ§„ κ³µκ²©μλ” (ν™μ„±ν™”λμ–΄ μκ±°λ‚ κ³µκ²©μκ°€ ν™μ„±ν™”ν•  μ μλ” κ²½μ°) ACLμ„ λ‚¨μ©ν•μ—¬ S3 λ²„ν‚·μ— λ€ν• μ•΅μ„Έμ¤λ¥Ό μ μ§€ν•  μ μμµλ‹λ‹¤.
