# AWS - IAM Upornost

<details>

<summary><strong>Nau캜ite hakovanje AWS-a od nule do heroja sa</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Drugi na캜ini podr코ke HackTricks-u:

* Ako 쬰lite da vidite **va코u kompaniju reklamiranu na HackTricks-u** ili **preuzmete HackTricks u PDF formatu** proverite [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Nabavite [**zvani캜ni PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Otkrijte [**The PEASS Family**](https://opensea.io/collection/the-peass-family), na코u kolekciju ekskluzivnih [**NFT-ova**](https://opensea.io/collection/the-peass-family)
* **Pridru쬴te se** 游눫 [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili nas **pratite** na **Twitter-u** 游냕 [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Podelite svoje hakovanje trikove slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>

## IAM

Za vi코e informacija pristupite:

{% content-ref url="../aws-services/aws-iam-enum.md" %}
[aws-iam-enum.md](../aws-services/aws-iam-enum.md)
{% endcontent-ref %}

### Uobi캜ajena IAM upornost

* Kreirajte korisnika
* Dodajte kontrolisanog korisnika u privilegovanu grupu
* Kreirajte pristupne klju캜eve (novog korisnika ili svih korisnika)
* Dodelite dodatna ovla코캖enja kontrolisanim korisnicima/grupama (prilo쬰ne politike ili politike unutar teksta)
* Onemogu캖ite MFA / Dodajte svoj MFA ure캠aj
* Kreirajte situaciju lanca uloga (vi코e o tome u STS upornosti)

### Poverljive politike poverenja uloga

Mo쬰te postaviti poverljivu politiku poverenja kako biste mogli da je pretpostavite za spoljni resurs koji kontroli코ete (ili za sve):
```json
{
"Version": "2012-10-17",
"Statement": [
{
"Effect": "Allow",
"Principal": {
"AWS": [
"*",
"arn:aws:iam::123213123123:root"
]
},
"Action": "sts:AssumeRole"
}
]
}
```
### Verzija politike sa zadnjim vratima

Dodelite administratorske dozvole politici koja nije njena poslednja verzija (poslednja verzija treba da izgleda legitimno), a zatim dodelite tu verziju politike kontrolisanom korisniku/grupi.

### Vrata sa zadnjim vratima / Kreiranje provajdera identiteta

Ako je nalog ve캖 poverljiv prema zajedni캜kom provajderu identiteta (kao 코to je Github), uslovi poverenja mogu se pove캖ati kako bi napada캜 mogao da ih zloupotrebi.
