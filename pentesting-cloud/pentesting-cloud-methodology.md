---
description: >-
HackTricksã‚¯ãƒ©ã‚¦ãƒ‰ãƒ¡ã‚½ãƒ‰ãƒ­ã‚¸ãƒ¼ã§ã¯ã€ã‚¯ãƒ©ã‚¦ãƒ‰ç’°å¢ƒã®ãƒšãƒ³ãƒ†ã‚¹ãƒˆæ–¹æ³•ã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ã€‚
---

# ã‚¯ãƒ©ã‚¦ãƒ‰ã®ãƒšãƒ³ãƒ†ã‚¹ãƒˆãƒ¡ã‚½ãƒ‰ãƒ­ã‚¸ãƒ¼

<details>

<summary><strong>HackTricksã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ç‰¹å…¸ã‚’å—ã‘å–ã‚‹ï¼</strong></summary>

* **HackTricksã§ä¼šç¤¾ã‚’å®£ä¼ã—ãŸã„**å ´åˆã‚„ã€**æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®PEASSã‚’å…¥æ‰‹ã—ãŸã„**å ´åˆã€ã¾ãŸã¯HackTricksã‚’PDFã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸã„å ´åˆã¯ã€[**ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ãƒ—ãƒ©ãƒ³**](https://github.com/sponsors/carlospolop)ã‚’ã”ç¢ºèªãã ã•ã„ï¼
* [**å…¬å¼PEASSï¼†HackTricksã‚°ãƒƒã‚º**](https://peass.creator-spring.com)ã‚’æ‰‹ã«å…¥ã‚Œã‚‹
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ã‚’è¦‹ã¤ã‘ã¦ã€ç‹¬å çš„ãª[**NFT**](https://opensea.io/collection/the-peass-family)ã®ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’è¦‹ã¤ã‘ã‚‹
* ğŸ’¬ [**Discordã‚°ãƒ«ãƒ¼ãƒ—**](https://discord.gg/hRep4RUj7f)ã¾ãŸã¯[**Telegramã‚°ãƒ«ãƒ¼ãƒ—**](https://t.me/peass)ã«å‚åŠ ã™ã‚‹ã‹ã€**Twitter**ã§ãƒ•ã‚©ãƒ­ãƒ¼ã™ã‚‹ ğŸ¦ [**@carlospolopm**](https://twitter.com/carlospolopm)
* **ãƒãƒƒã‚­ãƒ³ã‚°ã®ãƒˆãƒªãƒƒã‚¯ã‚’å…±æœ‰ã™ã‚‹**ãŸã‚ã«ã€[**HackTricks**](https://github.com/carlospolop/hacktricks)ã¨[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud)ã®GitHubãƒªãƒã‚¸ãƒˆãƒªã«PRã‚’æå‡ºã™ã‚‹

</details>

<figure><img src="../.gitbook/assets/CLOUD-logo-letters.svg" alt=""><figcaption></figcaption></figure>

## åŸºæœ¬çš„ãªãƒ¡ã‚½ãƒ‰ãƒ­ã‚¸ãƒ¼

å„ã‚¯ãƒ©ã‚¦ãƒ‰ã«ã¯ç‹¬è‡ªã®ç‰¹å¾´ãŒã‚ã‚Šã¾ã™ãŒã€ä¸€èˆ¬çš„ã«ã¯ã‚¯ãƒ©ã‚¦ãƒ‰ç’°å¢ƒã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹éš›ã«ãƒšãƒ³ãƒ†ã‚¹ã‚¿ãƒ¼ãŒãƒã‚§ãƒƒã‚¯ã™ã¹ãã„ãã¤ã‹ã®**å…±é€šäº‹é …**ãŒã‚ã‚Šã¾ã™ã€‚

* **ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ãƒã‚§ãƒƒã‚¯**
* ã“ã‚Œã«ã‚ˆã‚Šã€ç’°å¢ƒã®**ã‚µã‚¤ã‚º**ã¨**ä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹ã‚µãƒ¼ãƒ“ã‚¹**ã‚’ç†è§£ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™
* ã¾ãŸã€**è‡ªå‹•åŒ–ãƒ„ãƒ¼ãƒ«**ã‚’ä½¿ç”¨ã—ã¦ã“ã®ãƒ†ã‚¹ãƒˆã®ã»ã¨ã‚“ã©ã‚’å®Ÿè¡Œã§ãã‚‹ãŸã‚ã€ã„ãã¤ã‹ã®**ã‚¯ã‚¤ãƒƒã‚¯ãªè¨­å®šãƒŸã‚¹**ã‚’è¦‹ã¤ã‘ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™
* **ã‚µãƒ¼ãƒ“ã‚¹ã®åˆ—æŒ™**
* ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ãƒ†ã‚¹ãƒˆã‚’æ­£ã—ãå®Ÿè¡Œã—ãŸå ´åˆã€ã“ã“ã§ã•ã‚‰ã«å¤šãã®è¨­å®šãƒŸã‚¹ã‚’è¦‹ã¤ã‘ã‚‹ã“ã¨ã¯ã»ã¨ã‚“ã©ãªã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ãƒ†ã‚¹ãƒˆã§ã¯è¦‹ã¤ã‘ã‚‰ã‚Œãªã‹ã£ãŸã‚‚ã®ã‚‚è¦‹ã¤ã‹ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚
* ã“ã‚Œã«ã‚ˆã‚Šã€ã‚¯ãƒ©ã‚¦ãƒ‰ç’°å¢ƒã§**å®Ÿéš›ã«ä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹ã‚‚ã®**ã‚’çŸ¥ã‚‹ã“ã¨ãŒã§ãã¾ã™
* ã“ã‚Œã¯æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã§éå¸¸ã«å½¹ç«‹ã¡ã¾ã™
* **å…¬é–‹ã•ã‚ŒãŸã‚¢ã‚»ãƒƒãƒˆã®ãƒã‚§ãƒƒã‚¯**
* ã“ã‚Œã¯å‰ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§è¡Œã†ã“ã¨ãŒã§ãã¾ã™ã€‚ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆä¸Šã§**æ½œåœ¨çš„ã«å…¬é–‹ã•ã‚Œã¦ã„ã‚‹ã™ã¹ã¦ã®ã‚‚ã®**ã¨ã€ãã‚Œã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹æ–¹æ³•ã‚’è¦‹ã¤ã‘ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
* ã“ã“ã§ã¯ã€**æ‰‹å‹•ã§å…¬é–‹ã•ã‚ŒãŸã‚¤ãƒ³ãƒ•ãƒ©ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£**ï¼ˆWebãƒšãƒ¼ã‚¸ã‚„ä»–ã®ãƒãƒ¼ãƒˆãŒå…¬é–‹ã•ã‚Œã¦ã„ã‚‹ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãªã©ï¼‰ã‚„ã€å…¬é–‹ã•ã‚Œã‚‹ã‚ˆã†ã«æ§‹æˆã§ãã‚‹**ä»–ã®ã‚¯ãƒ©ã‚¦ãƒ‰ç®¡ç†ã‚µãƒ¼ãƒ“ã‚¹**ï¼ˆDBã‚„ãƒã‚±ãƒƒãƒˆãªã©ï¼‰ã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ã€‚
* æ¬¡ã«ã€ãã®ãƒªã‚½ãƒ¼ã‚¹ãŒå…¬é–‹ã•ã‚Œã¦ã„ã‚‹ã‹ã©ã†ã‹ã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ï¼ˆæ©Ÿå¯†æƒ…å ±ã€è„†å¼±æ€§ã€å…¬é–‹ã•ã‚ŒãŸã‚µãƒ¼ãƒ“ã‚¹ã®è¨­å®šãƒŸã‚¹ã¯ã‚ã‚Šã¾ã™ã‹ï¼Ÿï¼‰
* **æ¨©é™ã®ãƒã‚§ãƒƒã‚¯**
* ã“ã“ã§ã¯ã€ã‚¯ãƒ©ã‚¦ãƒ‰å†…ã®å„å½¹å‰²/ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®**ã™ã¹ã¦ã®æ¨©é™**ã¨ãã®ä½¿ç”¨æ–¹æ³•ã‚’èª¿æŸ»ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™
* **å¤šãã®é«˜æ¨©é™**ï¼ˆã™ã¹ã¦ã‚’åˆ¶å¾¡ã™ã‚‹ï¼‰ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãŒã‚ã‚Šã¾ã™ã‹ï¼Ÿä½¿ç”¨ã•ã‚Œã¦ã„ãªã„ç”Ÿæˆã•ã‚ŒãŸã‚­ãƒ¼ã¯ã‚ã‚Šã¾ã™ã‹ï¼Ÿ...ã“ã‚Œã‚‰ã®ãƒã‚§ãƒƒã‚¯ã®ã»ã¨ã‚“ã©ã¯ã™ã§ã«ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ãƒ†ã‚¹ãƒˆã§å®Ÿæ–½ã•ã‚Œã¦ã„ã‚‹ã¯ãšã§ã™
* ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãŒOpenIDã‚„SAMLãªã©ã®**ãƒ•ã‚§ãƒ‡ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³**ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹å ´åˆã€å„å½¹å‰²ãŒ**ã©ã®ã‚ˆã†ã«å‰²ã‚Šå½“ã¦ã‚‰ã‚Œã¦ã„ã‚‹ã‹**ã«ã¤ã„ã¦ã•ã‚‰ãªã‚‹**æƒ…å ±**ã‚’ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«å•ã„åˆã‚ã›ã‚‹å¿…è¦ãŒã‚ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ï¼ˆç®¡ç†è€…ã®å½¹å‰²ãŒ1äººã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«å‰²ã‚Šå½“ã¦ã‚‰ã‚Œã¦ã„ã‚‹å ´åˆã¨100äººã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«å‰²ã‚Šå½“ã¦ã‚‰ã‚Œã¦ã„ã‚‹å ´åˆã¯ç•°ãªã‚Šã¾ã™ï¼‰
* **admin**æ¨©é™"\*:\*"ã‚’æŒã¤ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’è¦‹ã¤ã‘ã‚‹ã ã‘ã§ã¯**ååˆ†ã§ã¯ã‚ã‚Šã¾ã›ã‚“**ã€‚ä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã«ã‚ˆã£ã¦ã¯ã€éå¸¸ã«**æ©Ÿå¯†æ€§ã®é«˜ã„**ä»–ã®æ¨©é™ãŒãŸãã•ã‚“ã‚ã‚Šã¾ã™ã€‚
* ã•ã‚‰ã«ã€æ¨©é™ã‚’æ‚ªç”¨ã™ã‚‹ãŸã‚ã®**æ½œåœ¨çš„ãªæ˜‡æ ¼çµŒè·¯**ã‚‚ã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã‚‰ã®ã™ã¹ã¦ã®ã“ã¨ã‚’è€ƒæ…®ã«å…¥ã‚Œã€**å¯èƒ½ãªé™ã‚Šå¤šãã®æ˜‡æ ¼çµŒè·¯**ã‚’å ±å‘Šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
* **çµ±åˆã®ãƒã‚§ãƒƒã‚¯**
* ã‚¯ãƒ©ã‚¦ãƒ‰ç’°å¢ƒå†…ã§**ä»–ã®ã‚¯ãƒ©ã‚¦ãƒ‰ã‚„SaaSã¨ã®çµ±åˆ**ãŒä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹å¯èƒ½æ€§ãŒéå¸¸ã«é«˜ã„ã§ã™ã€‚
* ç›£æŸ»ã—ã¦ã„ã‚‹ã‚¯ãƒ©ã‚¦ãƒ‰ã®**ä»–ã®ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã¨ã®çµ±åˆ**ã«ã¤ã„ã¦ã¯ã€ãã®çµ±åˆã‚’**ï¼ˆæ‚ªç”¨ã—ã¦ï¼‰åˆ©ç”¨ã§ãã‚‹äººç‰©**ã‚’é€šçŸ¥ã—ã€å®Ÿè¡Œã•ã‚Œã‚‹ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®**æ©Ÿå¯†æ€§**ã‚’ç¢ºèªã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\
ãŸã¨ãˆã°ã€GCPãŒãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—ã¦ã„ã‚‹AWSãƒã‚±ãƒƒãƒˆã«æ›¸ãè¾¼ã‚€ã“ã¨ãŒã§ãã‚‹äººç‰©ã«ã¤ã„ã¦ï¼ˆGCPãŒãã®ãƒ‡ãƒ¼ã‚¿ã‚’å‡¦ç†ã™ã‚‹éš›ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®æ©Ÿå¯†æ€§ã‚’å°‹ã­ã‚‹ï¼‰ã€‚
* ç›£æŸ»ã—ã¦ã„ã‚‹ã‚¯ãƒ©ã‚¦ãƒ‰å†…ã®**å¤–éƒ¨ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã‹ã‚‰ã®çµ±åˆ**ã«ã¤ã„ã¦ã¯ã€**ï¼ˆæ‚ªç”¨ã—ã¦ï¼‰åˆ©ç”¨ã§ãã‚‹å¤–éƒ¨ã®äººç‰©**ã‚’å°‹ã­ã€ãã®ãƒ‡ãƒ¼ã‚¿ã®ä½¿ç”¨æ–¹æ³•ã‚’ç¢ºèªã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\
ãŸã¨ãˆã°ã€ã‚µãƒ¼ãƒ“ã‚¹ãŒAWSã‚¯ãƒ©ã‚¦ãƒ‰å†…ã§å®Ÿè¡Œã•ã‚Œã‚‹ã¨ãã«ä½¿ç”¨ã•ã‚Œã‚‹Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ãƒ›ã‚¹ãƒˆã—ã¦ã„ã‚‹GCRã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹äººç‰©ã«ã¤ã„ã¦å°‹ã­ã€ãã®ã‚¤ãƒ¡ãƒ¼ã‚¸ãŒå®Ÿè¡Œã•ã‚Œã‚‹ã¨ãã«ã©ã®ã‚ˆã†ãªæ©Ÿå¯†æƒ…å ±ã¨ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ãŒå¾—ã‚‰ã‚Œã‚‹ã‹ã‚’ç¢ºèªã—ã¾ã™ã€‚

## ãƒãƒ«ãƒã‚¯ãƒ©ã‚¦ãƒ‰ãƒ„ãƒ¼ãƒ«

ã•ã¾ã–ã¾ãªã‚¯ãƒ©ã‚¦ãƒ‰ç’°å¢ƒã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã§ãã‚‹ãƒ„ãƒ¼ãƒ«ãŒã„ãã¤ã‹ã‚ã‚Šã¾ã™ã€‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ‰‹é †ã¨ãƒªãƒ³ã‚¯ã¯ã€ã“ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ç¤ºã•ã‚Œã¾ã™ã€‚

### [PurplePanda](https://github.com/carlospolop/purplepanda)

ã‚¯ãƒ©ã‚¦ãƒ‰ã¨ã‚¯ãƒ©ã‚¦ãƒ‰/SaaSé–“ã®**æ‚ªã„è¨­å®šã¨æ˜‡æ ¼çµŒè·¯ã‚’ç‰¹å®šã™ã‚‹**ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚

{% tabs %}
{% tab title="ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«" %}
```bash
# You need to install and run neo4j also
git clone https://github.com/carlospolop/PurplePanda
cd PurplePanda
python3 -m venv .
source bin/activate
python3 -m pip install -r requirements.txt
export PURPLEPANDA_NEO4J_URL="bolt://neo4j@localhost:7687"
export PURPLEPANDA_PWD="neo4j_pwd_4_purplepanda"
python3 main.py -h # Get help
```
{% endtab %}

{% tab title="GCP" %}GCPï¼ˆGoogle Cloud Platformï¼‰{% endtab %}
```bash
export GOOGLE_DISCOVERY=$(echo 'google:
- file_path: ""

- file_path: ""
service_account_id: "some-sa-email@sidentifier.iam.gserviceaccount.com"' | base64)

python3 main.py -a -p google #Get basic info of the account to check it's correctly configured
python3 main.py -e -p google #Enumerate the env
```
{% endtab %}
{% endtabs %}

### [CloudSploit](https://github.com/aquasecurity/cloudsploit)

AWSã€Azureã€Githubã€Googleã€Oracleã€Alibaba

{% tabs %}
{% tab title="ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«" %}
```bash
# Install
git clone https://github.com/aquasecurity/cloudsploit.git
cd cloudsploit
npm install
./index.js -h
## Docker instructions in github
```
{% endtab %}

{% tab title="GCP" %}GCPï¼ˆGoogle Cloud Platformï¼‰ã¯ã€GoogleãŒæä¾›ã™ã‚‹ã‚¯ãƒ©ã‚¦ãƒ‰ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚µãƒ¼ãƒ“ã‚¹ã§ã™ã€‚GCPã‚’ãƒšãƒ³ãƒ†ã‚¹ãƒˆã™ã‚‹éš›ã«ã¯ã€ä»¥ä¸‹ã®æ‰‹é †ã«å¾“ã£ã¦é€²ã‚ã‚‹ã“ã¨ãŒæ¨å¥¨ã•ã‚Œã¦ã„ã¾ã™ã€‚

1. æƒ…å ±åé›†ï¼šGCPã®ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã¨ãªã‚‹ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚„IPã‚¢ãƒ‰ãƒ¬ã‚¹ã«é–¢ã™ã‚‹æƒ…å ±ã‚’åé›†ã—ã¾ã™ã€‚WHOISæ¤œç´¢ã‚„DNSã‚¯ã‚¨ãƒªã€ãƒãƒ¼ãƒˆã‚¹ã‚­ãƒ£ãƒ³ãªã©ã®æ‰‹æ³•ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚

2. è„†å¼±æ€§ã‚¹ã‚­ãƒ£ãƒ³ï¼šGCPã®ã‚¤ãƒ³ãƒ•ãƒ©ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£ã‚„ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«å¯¾ã—ã¦è„†å¼±æ€§ã‚¹ã‚­ãƒ£ãƒ³ã‚’å®Ÿæ–½ã—ã¾ã™ã€‚Nmapã‚„OpenVASãªã©ã®ãƒ„ãƒ¼ãƒ«ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚

3. èªè¨¼æ”»æ’ƒï¼šGCPã®èªè¨¼ã‚·ã‚¹ãƒ†ãƒ ã«å¯¾ã—ã¦æ”»æ’ƒã‚’è¡Œã„ã¾ã™ã€‚ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚¯ãƒ©ãƒƒã‚¯ã‚„è¾æ›¸æ”»æ’ƒã€ã‚½ãƒ¼ã‚·ãƒ£ãƒ«ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°ãªã©ã®æ‰‹æ³•ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚

4. ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ãƒ†ã‚¹ãƒˆï¼šGCPã®ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ã‚’ãƒ†ã‚¹ãƒˆã—ã¾ã™ã€‚ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ã®ä¸å‚™ã‚„èª¤æ§‹æˆãªã©ã‚’ç‰¹å®šã—ã¾ã™ã€‚

5. ãƒ‡ãƒ¼ã‚¿æ¼æ´©ãƒ†ã‚¹ãƒˆï¼šGCPä¸Šã®ãƒ‡ãƒ¼ã‚¿æ¼æ´©ã®å¯èƒ½æ€§ã‚’ãƒ†ã‚¹ãƒˆã—ã¾ã™ã€‚ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚„ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ãªã©ã®è¨­å®šã‚’ç¢ºèªã—ã€æ©Ÿå¯†æƒ…å ±ãŒé©åˆ‡ã«ä¿è­·ã•ã‚Œã¦ã„ã‚‹ã‹ã‚’ç¢ºèªã—ã¾ã™ã€‚

6. ã‚µãƒ¼ãƒ“ã‚¹ã®ä¹—ã£å–ã‚Šï¼šGCPä¸Šã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’ä¹—ã£å–ã‚‹æ”»æ’ƒã‚’è¡Œã„ã¾ã™ã€‚ä¸æ­£ãªã‚³ãƒ¼ãƒ‰ã®å®Ÿè¡Œã‚„ã‚³ãƒ³ãƒ†ãƒŠã®ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—ãªã©ã®æ‰‹æ³•ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚

7. ãƒ¬ãƒãƒ¼ãƒˆä½œæˆï¼šãƒšãƒ³ãƒ†ã‚¹ãƒˆã®çµæœã‚’ã¾ã¨ã‚ã€å ±å‘Šæ›¸ã‚’ä½œæˆã—ã¾ã™ã€‚è„†å¼±æ€§ã®è©³ç´°ã‚„ä¿®æ­£æ–¹æ³•ã€ãƒªã‚¹ã‚¯ã®è©•ä¾¡ãªã©ã‚’è¨˜è¼‰ã—ã¾ã™ã€‚

ä»¥ä¸ŠãŒGCPã®ãƒšãƒ³ãƒ†ã‚¹ãƒˆæ‰‹æ³•ã®ä¸€èˆ¬çš„ãªæ‰‹é †ã§ã™ã€‚ãŸã ã—ã€å®Ÿéš›ã®ãƒšãƒ³ãƒ†ã‚¹ãƒˆã§ã¯ã€ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã®ç’°å¢ƒã‚„è¦ä»¶ã«å¿œã˜ã¦æ‰‹æ³•ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚{% endtab %}
```bash
## You need to have creds for a service account and set them in config.js file
./index.js --cloud google --config </abs/path/to/config.js>
```
{% endtab %}
{% endtabs %}

### [ScoutSuite](https://github.com/nccgroup/ScoutSuite)

AWSã€Azureã€GCPã€Alibaba Cloudã€Oracle Cloud Infrastructure

{% tabs %}
{% tab title="ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«" %}
```bash
mkdir scout; cd scout
virtualenv -p python3 venv
source venv/bin/activate
pip install scoutsuite
scout --help
## Using Docker: https://github.com/nccgroup/ScoutSuite/wiki/Docker-Image
```
{% endtab %}

{% tab title="GCP" %}GCPï¼ˆGoogle Cloud Platformï¼‰{% endtab %}
```bash
scout gcp --report-dir /tmp/gcp --user-account --all-projects
## use "--service-account KEY_FILE" instead of "--user-account" to use a service account

SCOUT_FOLDER_REPORT="/tmp"
for pid in $(gcloud projects list --format="value(projectId)"); do
echo "================================================"
echo "Checking $pid"
mkdir "$SCOUT_FOLDER_REPORT/$pid"
scout gcp --report-dir "$SCOUT_FOLDER_REPORT/$pid" --no-browser --user-account --project-id "$pid"
done
```
{% endtab %}
{% endtabs %}

### [Steampipe](https://github.com/turbot)

{% tabs %}
{% tab title="ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«" %}
Steampipeã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ï¼ˆ[https://steampipe.io/downloads](https://steampipe.io/downloads)ï¼‰ã€‚ã¾ãŸã¯Brewã‚’ä½¿ç”¨ã—ã¾ã™ï¼š
```
brew tap turbot/tap
brew install steampipe
```
{% endtab %}

{% tab title="GCP" %}GCPï¼ˆGoogle Cloud Platformï¼‰{% endtab %}
```bash
# Install gcp plugin
steampipe plugin install gcp

# Use https://github.com/turbot/steampipe-mod-gcp-compliance.git
git clone https://github.com/turbot/steampipe-mod-gcp-compliance.git
cd steampipe-mod-gcp-compliance
# To run all the checks from the dashboard
steampipe dashboard
# To run all the checks from rhe cli
steampipe check all
```
<details>

<summary>ã™ã¹ã¦ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹</summary>

ã™ã¹ã¦ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹ã«ã¯ã€ãƒ†ã‚¹ãƒˆã™ã‚‹ã™ã¹ã¦ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ç¤ºã™ `gcp.spc` ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”Ÿæˆã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ä»¥ä¸‹ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®æŒ‡ç¤ºã«å¾“ã£ã¦ãã ã•ã„ã€‚
```bash
FILEPATH="/tmp/gcp.spc"
rm -rf "$FILEPATH" 2>/dev/null

# Generate a json like object for each project
for pid in $(gcloud projects list --format="value(projectId)"); do
echo "connection \"gcp_$(echo -n $pid | tr "-" "_" )\" {
plugin  = \"gcp\"
project = \"$pid\"
}" >> "$FILEPATH"
done

# Generate the aggragator to call
echo 'connection "gcp_all" {
plugin      = "gcp"
type        = "aggregator"
connections = ["gcp_*"]
}' >> "$FILEPATH"

echo "Copy $FILEPATH in ~/.steampipe/config/gcp.spc if it was correctly generated"
```
</details>

ä»–ã®GCPã®æ´å¯Ÿã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹ãŸã‚ã«ï¼ˆã‚µãƒ¼ãƒ“ã‚¹ã®åˆ—æŒ™ã«å½¹ç«‹ã¡ã¾ã™ï¼‰æ¬¡ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ï¼š[https://github.com/turbot/steampipe-mod-gcp-insights](https://github.com/turbot/steampipe-mod-gcp-insights)

Terraform GCPã‚³ãƒ¼ãƒ‰ã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹ãŸã‚ã«ã¯ï¼š[https://github.com/turbot/steampipe-mod-terraform-gcp-compliance](https://github.com/turbot/steampipe-mod-terraform-gcp-compliance)

Steampipeã®ã•ã‚‰ãªã‚‹GCPãƒ—ãƒ©ã‚°ã‚¤ãƒ³ï¼š[https://github.com/turbot?q=gcp](https://github.com/turbot?q=gcp)
{% endtab %}

{% tab title="AWS" %}
```bash
# Install aws plugin
steampipe plugin install aws

# Modify the spec indicating in "profile" the profile name to use
nano ~/.steampipe/config/aws.spc

# Get some info on how the AWS account is being used
git clone https://github.com/turbot/steampipe-mod-aws-insights.git
cd steampipe-mod-aws-insights
steampipe dashboard

# Get the services exposed to the internet
git clone https://github.com/turbot/steampipe-mod-aws-perimeter.git
cd steampipe-mod-aws-perimeter
steampipe dashboard

# Run the benchmarks
git clone https://github.com/turbot/steampipe-mod-aws-compliance
cd steampipe-mod-aws-compliance
steampipe dashboard # To see results in browser
steampipe check all --export=/tmp/output4.json
```
Terraform AWSã‚³ãƒ¼ãƒ‰ã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹ã«ã¯ï¼š[https://github.com/turbot/steampipe-mod-terraform-aws-compliance](https://github.com/turbot/steampipe-mod-terraform-aws-compliance)

Steampipeã®ä»–ã®AWSãƒ—ãƒ©ã‚°ã‚¤ãƒ³ï¼š[https://github.com/orgs/turbot/repositories?q=aws](https://github.com/orgs/turbot/repositories?q=aws)
{% endtab %}
{% endtabs %}

### [~~cs-suite~~](https://github.com/SecurityFTW/cs-suite)

AWSã€GCPã€Azureã€DigitalOceanã€‚\
python2.7ãŒå¿…è¦ã§ã€ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã•ã‚Œã¦ã„ãªã„ã‚ˆã†ã§ã™ã€‚

### Nessus

Nessusã«ã¯ã€AWSã€Azureã€Office 365ã€Rackspaceã€Salesforceã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹_**ã‚¯ãƒ©ã‚¦ãƒ‰ã‚¤ãƒ³ãƒ•ãƒ©ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£ã®ç›£æŸ»**_ã‚¹ã‚­ãƒ£ãƒ³ãŒã‚ã‚Šã¾ã™ã€‚**Azure**ã§ã¯ã€**ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆID**ã‚’å–å¾—ã™ã‚‹ãŸã‚ã«ã„ãã¤ã‹ã®è¿½åŠ ã®è¨­å®šãŒå¿…è¦ã§ã™ã€‚

### [**cloudlist**](https://github.com/projectdiscovery/cloudlist)

Cloudlistã¯ã€ã‚¯ãƒ©ã‚¦ãƒ‰ãƒ—ãƒ­ãƒã‚¤ãƒ€ã‹ã‚‰ã‚¢ã‚»ãƒƒãƒˆï¼ˆãƒ›ã‚¹ãƒˆåã€IPã‚¢ãƒ‰ãƒ¬ã‚¹ï¼‰ã‚’å–å¾—ã™ã‚‹ãŸã‚ã®**ãƒãƒ«ãƒã‚¯ãƒ©ã‚¦ãƒ‰ãƒ„ãƒ¼ãƒ«**ã§ã™ã€‚

{% tabs %}
{% tab title="Cloudlist" %}
```bash
cd /tmp
wget https://github.com/projectdiscovery/cloudlist/releases/latest/download/cloudlist_1.0.1_macOS_arm64.zip
unzip cloudlist_1.0.1_macOS_arm64.zip
chmod +x cloudlist
sudo mv cloudlist /usr/local/bin
```
{% endtab %}

{% tab title="ã‚»ã‚«ãƒ³ãƒ‰ã‚¿ãƒ–" %}
```bash
## For GCP it requires service account JSON credentials
cloudlist -config </path/to/config>
```
{% tab title="ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«" %}
```bash
# Installation
docker image pull ghcr.io/lyft/cartography
docker run --platform linux/amd64 ghcr.io/lyft/cartography cartography --help
## Install a Neo4j DB version 3.5.*
```
{% endtab %}

{% tab title="GCP" %}GCPï¼ˆGoogle Cloud Platformï¼‰{% endtab %}
```bash
docker run --platform linux/amd64 \
--volume "$HOME/.config/gcloud/application_default_credentials.json:/application_default_credentials.json" \
-e GOOGLE_APPLICATION_CREDENTIALS="/application_default_credentials.json" \
-e NEO4j_PASSWORD="s3cr3t" \
ghcr.io/lyft/cartography  \
--neo4j-uri bolt://host.docker.internal:7687 \
--neo4j-password-env-var NEO4j_PASSWORD \
--neo4j-user neo4j


# It only checks for a few services inside GCP (https://lyft.github.io/cartography/modules/gcp/index.html)
## Cloud Resource Manager
## Compute
## DNS
## Storage
## Google Kubernetes Engine
### If you can run starbase or purplepanda you will get more info
```
{% endtab %}
{% endtabs %}

### [**starbase**](https://github.com/JupiterOne/starbase)

Starbaseã¯ã€ã‚¯ãƒ©ã‚¦ãƒ‰ã‚¤ãƒ³ãƒ•ãƒ©ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£ã€SaaSã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãªã©ã®ã‚µãƒ¼ãƒ“ã‚¹ã¨ã‚·ã‚¹ãƒ†ãƒ ã‹ã‚‰ã‚¢ã‚»ãƒƒãƒˆã¨é–¢ä¿‚ã‚’åé›†ã—ã€Neo4jãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã§ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã•ã‚ŒãŸç›´æ„Ÿçš„ãªã‚°ãƒ©ãƒ•ãƒ“ãƒ¥ãƒ¼ã«è¡¨ç¤ºã—ã¾ã™ã€‚

{% tabs %}
{% tab title="ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«" %}
```bash
# You are going to need Node version 14, so install nvm following https://tecadmin.net/install-nvm-macos-with-homebrew/
npm install --global yarn
nvm install 14
git clone https://github.com/JupiterOne/starbase.git
cd starbase
nvm use 14
yarn install
yarn starbase --help
# Configure manually config.yaml depending on the env to analyze
yarn starbase setup
yarn starbase run

# Docker
git clone https://github.com/JupiterOne/starbase.git
cd starbase
cp config.yaml.example config.yaml
# Configure manually config.yaml depending on the env to analyze
docker build --no-cache -t starbase:latest .
docker-compose run starbase setup
docker-compose run starbase run
```
{% endtab %}

{% tab title="GCP" %}GCPï¼ˆGoogle Cloud Platformï¼‰ã¯ã€GoogleãŒæä¾›ã™ã‚‹ã‚¯ãƒ©ã‚¦ãƒ‰ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚µãƒ¼ãƒ“ã‚¹ã§ã™ã€‚GCPã‚’ãƒšãƒ³ãƒ†ã‚¹ãƒˆã™ã‚‹éš›ã«ã¯ã€ä»¥ä¸‹ã®æ‰‹é †ã«å¾“ã£ã¦é€²ã‚ã‚‹ã“ã¨ãŒæ¨å¥¨ã•ã‚Œã¦ã„ã¾ã™ã€‚

1. æƒ…å ±åé›†ï¼šGCPã®ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã¨ãªã‚‹ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚„IPã‚¢ãƒ‰ãƒ¬ã‚¹ã«é–¢ã™ã‚‹æƒ…å ±ã‚’åé›†ã—ã¾ã™ã€‚WHOISæ¤œç´¢ã‚„DNSã‚¯ã‚¨ãƒªã€ãƒãƒ¼ãƒˆã‚¹ã‚­ãƒ£ãƒ³ãªã©ã®æ‰‹æ³•ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚

2. èªè¨¼æƒ…å ±ã®å–å¾—ï¼šGCPã®ç®¡ç†è€…ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚„ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®èªè¨¼æƒ…å ±ã‚’å–å¾—ã—ã¾ã™ã€‚ã“ã‚Œã«ã¯ã€ã‚½ãƒ¼ã‚·ãƒ£ãƒ«ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°ã‚„ãƒ•ã‚£ãƒƒã‚·ãƒ³ã‚°ãªã©ã®æ‰‹æ³•ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚

3. ã‚¯ãƒ©ã‚¦ãƒ‰ãƒªã‚½ãƒ¼ã‚¹ã®ã‚¹ã‚­ãƒ£ãƒ³ï¼šGCPã®ãƒªã‚½ãƒ¼ã‚¹ï¼ˆã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã€ãƒã‚±ãƒƒãƒˆã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãªã©ï¼‰ã‚’ã‚¹ã‚­ãƒ£ãƒ³ã—ã¦ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä¸Šã®è„†å¼±æ€§ã‚„è¨­å®šãƒŸã‚¹ã‚’ç‰¹å®šã—ã¾ã™ã€‚ã‚ªãƒ¼ãƒ—ãƒ³ãƒãƒ¼ãƒˆã‚„ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãªã©ã€ä¸€èˆ¬çš„ãªå•é¡Œã«æ³¨æ„ã—ã¾ã™ã€‚

4. ã‚¯ãƒ©ã‚¦ãƒ‰APIã®ãƒ†ã‚¹ãƒˆï¼šGCPã®APIã‚’ãƒ†ã‚¹ãƒˆã—ã¦ã€ä¸æ­£ãªã‚¢ã‚¯ã‚»ã‚¹ã‚„æ¨©é™ã®å•é¡Œã‚’ç‰¹å®šã—ã¾ã™ã€‚APIã‚­ãƒ¼ã®æ¼æ´©ã‚„ä¸æ­£ãªAPIå‘¼ã³å‡ºã—ãªã©ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä¸Šã®ãƒªã‚¹ã‚¯ã‚’è©•ä¾¡ã—ã¾ã™ã€‚

5. ã‚¯ãƒ©ã‚¦ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹ã®è„†å¼±æ€§ã®æ¤œå‡ºï¼šGCPã®ã‚µãƒ¼ãƒ“ã‚¹ï¼ˆCloud Functionsã€Cloud Storageãªã©ï¼‰ã«å¯¾ã—ã¦ã€æ—¢çŸ¥ã®è„†å¼±æ€§ã‚’æ¤œå‡ºã—ã¾ã™ã€‚ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ‘ãƒƒãƒã®é©ç”¨æ¼ã‚Œã‚„ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®è¨­å®šãªã©ã€è„†å¼±æ€§ã®å¯èƒ½æ€§ãŒã‚ã‚‹ç®‡æ‰€ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¾ã™ã€‚

6. ãƒ‡ãƒ¼ã‚¿ã®æ¼æ´©ãƒ†ã‚¹ãƒˆï¼šGCPä¸Šã®ãƒ‡ãƒ¼ã‚¿ãŒé©åˆ‡ã«ä¿è­·ã•ã‚Œã¦ã„ã‚‹ã‹ã‚’ç¢ºèªã—ã¾ã™ã€‚ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚„ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ãƒã‚±ãƒƒãƒˆãªã©ã®ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ã‚„æš—å·åŒ–ã®è¨­å®šã‚’ç¢ºèªã—ã€æ©Ÿå¯†æƒ…å ±ã®æ¼æ´©ãƒªã‚¹ã‚¯ã‚’è©•ä¾¡ã—ã¾ã™ã€‚

7. ãƒ¬ãƒãƒ¼ãƒˆä½œæˆï¼šãƒšãƒ³ãƒ†ã‚¹ãƒˆã®çµæœã‚’ã¾ã¨ã‚ãŸãƒ¬ãƒãƒ¼ãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚è„†å¼±æ€§ã®è©³ç´°ã€ãƒªã‚¹ã‚¯ã®è©•ä¾¡ã€ä¿®æ­£ç­–ãªã©ã‚’å«ã‚ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«æå‡ºã—ã¾ã™ã€‚

ä»¥ä¸ŠãŒã€GCPã‚’ãƒšãƒ³ãƒ†ã‚¹ãƒˆã™ã‚‹éš›ã®ä¸€èˆ¬çš„ãªæ‰‹é †ã§ã™ã€‚ãŸã ã—ã€å®Ÿéš›ã®ãƒšãƒ³ãƒ†ã‚¹ãƒˆã§ã¯ã€ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã®ç’°å¢ƒã‚„è¦ä»¶ã«å¿œã˜ã¦æ‰‹é †ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã™ã‚‹ã“ã¨ãŒé‡è¦ã§ã™ã€‚{% endtab %}
```yaml
## Config for GCP
### Check out: https://github.com/JupiterOne/graph-google-cloud/blob/main/docs/development.md
### It requires service account credentials

integrations:
-
name: graph-google-cloud
instanceId: testInstanceId
directory: ./.integrations/graph-google-cloud
gitRemoteUrl: https://github.com/JupiterOne/graph-google-cloud.git
config:
SERVICE_ACCOUNT_KEY_FILE: '{Check https://github.com/JupiterOne/graph-google-cloud/blob/main/docs/development.md#service_account_key_file-string}'
PROJECT_ID: ""
FOLDER_ID: ""
ORGANIZATION_ID: ""
CONFIGURE_ORGANIZATION_PROJECTS: false

storage:
engine: neo4j
config:
username: neo4j
password: s3cr3t
uri: bolt://localhost:7687
#Consider using host.docker.internal if from docker
```
{% endtab %}
{% endtabs %}

### [**SkyArk**](https://github.com/cyberark/SkyArk)

ã‚¹ã‚­ãƒ£ãƒ³ã•ã‚ŒãŸAWSã¾ãŸã¯Azureç’°å¢ƒã§æœ€ã‚‚ç‰¹æ¨©ã®ã‚ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ã€AWS Shadow Adminsã‚’ç‰¹å®šã—ã¾ã™ã€‚PowerShellã‚’ä½¿ç”¨ã—ã¾ã™ã€‚
```powershell
Import-Module .\SkyArk.ps1 -force
Start-AzureStealth

# in the Cloud Console
IEX (New-Object Net.WebClient).DownloadString('https://raw.githubusercontent.com/cyberark/SkyArk/master/AzureStealth/AzureStealth.ps1')
Scan-AzureAdmins
```
### [Cloud Brute](https://github.com/0xsha/CloudBrute)

ä¼šç¤¾ï¼ˆã‚¿ãƒ¼ã‚²ãƒƒãƒˆï¼‰ã®ã‚¤ãƒ³ãƒ•ãƒ©ã€ãƒ•ã‚¡ã‚¤ãƒ«ã€ãŠã‚ˆã³ãƒˆãƒƒãƒ—ã‚¯ãƒ©ã‚¦ãƒ‰ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ï¼ˆAmazonã€Googleã€Microsoftã€DigitalOceanã€Alibabaã€Vultrã€Linodeï¼‰ä¸Šã®ã‚¢ãƒ—ãƒªã‚’è¦‹ã¤ã‘ã‚‹ãŸã‚ã®ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚

### [CloudFox](https://github.com/BishopFox/cloudfox)

* CloudFoxã¯ã€ã‚¯ãƒ©ã‚¦ãƒ‰ã‚¤ãƒ³ãƒ•ãƒ©ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£ã§æ”»æ’ƒå¯èƒ½ãªæ”»æ’ƒçµŒè·¯ã‚’è¦‹ã¤ã‘ã‚‹ãŸã‚ã®ãƒ„ãƒ¼ãƒ«ã§ã™ï¼ˆç¾åœ¨ã¯AWSã¨Azureã®ã¿ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ãŠã‚Šã€GCPã‚‚è¿‘æ—¥å…¬é–‹äºˆå®šã§ã™ï¼‰ã€‚
* ã“ã‚Œã¯æ‰‹å‹•ã®ãƒšãƒ³ãƒˆestingã‚’è£œå®Œã™ã‚‹ãŸã‚ã®åˆ—æŒ™ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚
* ã‚¯ãƒ©ã‚¦ãƒ‰ç’°å¢ƒå†…ã®ãƒ‡ãƒ¼ã‚¿ã‚’ä½œæˆã¾ãŸã¯å¤‰æ›´ã—ã¾ã›ã‚“ã€‚

### ã‚¯ãƒ©ã‚¦ãƒ‰ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ„ãƒ¼ãƒ«ã®ã•ã‚‰ãªã‚‹ãƒªã‚¹ãƒˆ

* [https://github.com/RyanJarv/awesome-cloud-sec](https://github.com/RyanJarv/awesome-cloud-sec)

## Google

### GCP

{% content-ref url="gcp-security/" %}
[gcp-security](gcp-security/)
{% endcontent-ref %}

### Workspace

{% content-ref url="workspace-security.md" %}
[workspace-security.md](workspace-security.md)
{% endcontent-ref %}

## AWS

{% content-ref url="aws-security/" %}
[aws-security](aws-security/)
{% endcontent-ref %}

## Azure

ãƒãƒ¼ã‚¿ãƒ«ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã«ã¯ã“ã¡ã‚‰ï¼š[http://portal.azure.com/](http://portal.azure.com)\
ãƒ†ã‚¹ãƒˆã‚’é–‹å§‹ã™ã‚‹ã«ã¯ã€**ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ã®ä¸Šã«Readeræ¨©é™ã‚’æŒã¤ãƒ¦ãƒ¼ã‚¶ãƒ¼**ã¨**AzureADã§ã®Global Readerãƒ­ãƒ¼ãƒ«**ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ãŒå¿…è¦ã§ã™ã€‚ãã‚Œã§ã‚‚**Storageã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®å†…å®¹ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ããªã„**å ´åˆã¯ã€**Storage Account Contributorãƒ­ãƒ¼ãƒ«**ã§ä¿®æ­£ã§ãã¾ã™ã€‚

**Linux**ãŠã‚ˆã³**Windows**ã®ä»®æƒ³ãƒã‚·ãƒ³ã«**azure-cliã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**ã™ã‚‹ã“ã¨ã‚’ãŠå‹§ã‚ã—ã¾ã™ï¼ˆpowershellãŠã‚ˆã³pythonã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ãŸã‚ï¼‰ï¼š[https://docs.microsoft.com/en-us/cli/azure/install-azure-cli?view=azure-cli-latest](https://docs.microsoft.com/en-us/cli/azure/install-azure-cli?view=azure-cli-latest)\
ãã®å¾Œã€`az login`ã‚’å®Ÿè¡Œã—ã¦ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™ã€‚**ã‚¢ã‚«ã‚¦ãƒ³ãƒˆæƒ…å ±**ã¨**ãƒˆãƒ¼ã‚¯ãƒ³**ã¯ã€_\<HOME>/.azure_ï¼ˆWindowsã¨Linuxã®ä¸¡æ–¹ï¼‰ã«**ä¿å­˜**ã•ã‚Œã¾ã™ã€‚

**Security Centre Standard Pricing Tier**ãŒä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹å ´åˆï¼ˆ**ç„¡æ–™**ãƒ†ã‚£ã‚¢ã§ã¯ãªã„å ´åˆï¼‰ã€Azureãƒãƒ¼ã‚¿ãƒ«ã‹ã‚‰**CISã‚³ãƒ³ãƒ—ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹ã‚¹ã‚­ãƒ£ãƒ³ãƒ¬ãƒãƒ¼ãƒˆ**ã‚’**ç”Ÿæˆ**ã§ãã¾ã™ã€‚_Policy & Compliance-> Regulatory Compliance_ã«ç§»å‹•ã—ã¾ã™ï¼ˆã¾ãŸã¯[https://portal.azure.com/#blade/Microsoft\_Azure\_Security/SecurityMenuBlade/22](https://portal.azure.com/#blade/Microsoft\_Azure\_Security/SecurityMenuBlade/22)ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã¿ã¦ãã ã•ã„ï¼‰ã€‚\
\_\_ä¼šç¤¾ãŒæ¨™æº–ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®æ”¯æ‰•ã„ã‚’ã—ã¦ã„ãªã„å ´åˆã¯ã€ã€Œæ‰‹å‹•ã€ã§**CIS Microsoft Azure Foundations Benchmark**ã‚’ç¢ºèªã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ï¼ˆä»¥ä¸‹ã®ãƒ„ãƒ¼ãƒ«ã‚’ä½¿ç”¨ã—ã¦åŠ©ã‘ã‚’å¾—ã‚‹ã“ã¨ãŒã§ãã¾ã™ï¼‰ã€‚[**ã“ã¡ã‚‰**](https://www.newnettechnologies.com/cis-benchmark.html?keyword=\&gclid=Cj0KCQjwyPbzBRDsARIsAFh15JYSireQtX57C6XF8cfZU3JVjswtaLFJndC3Hv45YraKpLVDgLqEY6IaAhsZEALw\_wcB#microsoft-azure)ã‹ã‚‰ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ãã ã•ã„ã€‚

### ã‚¹ã‚­ãƒ£ãƒŠãƒ¼ã‚’å®Ÿè¡Œã™ã‚‹

ã‚¹ã‚­ãƒ£ãƒŠãƒ¼ã‚’å®Ÿè¡Œã—ã¦**è„†å¼±æ€§**ã‚’æ¢ã—ã€å®Ÿè£…ã•ã‚ŒãŸ**CIS**ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¯¾ç­–ã¨æ¯”è¼ƒã—ã¾ã™ã€‚
```bash
pip install scout
scout azure --cli --report-dir <output_dir>

#Fix azureaudit.py before launching cs.py
#Adding "j_res = {}" on line 1074
python cs.py -env azure

#Azucar is an Azure security scanner for PowerShell (https://github.com/nccgroup/azucar)
#Run it from its folder
.\Azucar.ps1 -AuthMode Interactive -ForceAuth -ExportTo EXCEL

#Azure-CIS-Scanner,CIS scanner for Azure (https://github.com/kbroughton/azure_cis_scanner)
pip3 install azure-cis-scanner #Install
azscan #Run, login before with `az login`
```
### æ”»æ’ƒã‚°ãƒ©ãƒ•

[**Stormspotter**](https://github.com/Azure/Stormspotter)ã¯ã€Azureã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³å†…ã®ãƒªã‚½ãƒ¼ã‚¹ã®ã€Œæ”»æ’ƒã‚°ãƒ©ãƒ•ã€ã‚’ä½œæˆã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ãƒ¬ãƒƒãƒ‰ãƒãƒ¼ãƒ ã¨ãƒšãƒ³ãƒ†ã‚¹ã‚¿ãƒ¼ã¯ãƒ†ãƒŠãƒ³ãƒˆå†…ã®æ”»æ’ƒé¢ã¨ãƒ”ãƒœãƒƒãƒˆã®æ©Ÿä¼šã‚’è¦–è¦šåŒ–ã—ã€é˜²å¾¡å´ã¯è¿…é€Ÿã«ã‚¤ãƒ³ã‚·ãƒ‡ãƒ³ãƒˆå¯¾å¿œã®ä½œæ¥­ã‚’æ•´ç†ã—å„ªå…ˆé †ä½ã‚’ä»˜ã‘ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

### ãã®ä»–ã®ãƒã‚§ãƒƒã‚¯

* **å¤§é‡ã®ã‚°ãƒ­ãƒ¼ãƒãƒ«ç®¡ç†è€…**ã®ãƒã‚§ãƒƒã‚¯ï¼ˆ2ã€œ4äººãŒæ¨å¥¨ã•ã‚Œã¦ã„ã¾ã™ï¼‰ã€‚ã‚¢ã‚¯ã‚»ã‚¹ã¯æ¬¡ã®å ´æ‰€ã§è¡Œã„ã¾ã™ï¼š[https://portal.azure.com/#blade/Microsoft\_AAD\_IAM/ActiveDirectoryMenuBlade/Overview](https://portal.azure.com/#blade/Microsoft\_AAD\_IAM/ActiveDirectoryMenuBlade/Overview)
* ã‚°ãƒ­ãƒ¼ãƒãƒ«ç®¡ç†è€…ã¯MFAã‚’æœ‰åŠ¹ã«ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ç§»å‹•ã—ã€Multi-Factor Authenticationãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚
* å°‚ç”¨ã®ç®¡ç†ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«ã¯ãƒ¡ãƒ¼ãƒ«ãƒœãƒƒã‚¯ã‚¹ãŒãªã„ã¯ãšã§ã™ï¼ˆOffice 365ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹å ´åˆã¯ãƒ¡ãƒ¼ãƒ«ãƒœãƒƒã‚¯ã‚¹ã‚’æŒã¤ã“ã¨ãŒã§ãã¾ã™ï¼‰ã€‚
* ãƒ­ãƒ¼ã‚«ãƒ«ADã¯Azure ADã¨åŒæœŸã•ã‚Œã¦ã„ãªã„å ´åˆã¯åŒæœŸã—ãªã„ã§ãã ã•ã„ï¼ˆ[https://portal.azure.com/#blade/Microsoft\_AAD\_IAM/ActiveDirectoryMenuBlade/AzureADConnect](https://portal.azure.com/#blade/Microsoft\_AAD\_IAM/ActiveDirectoryMenuBlade/AzureADConnect)ï¼‰ã€‚åŒæœŸã•ã‚Œã¦ã„ã‚‹å ´åˆã¯ã€ä¿¡é ¼æ€§ã®ãŸã‚ã«ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒãƒƒã‚·ãƒ¥åŒæœŸã‚’æœ‰åŠ¹ã«ã—ã¦ãã ã•ã„ã€‚ã“ã®å ´åˆã€ç„¡åŠ¹ã§ã™ï¼š
* **ã‚°ãƒ­ãƒ¼ãƒãƒ«ç®¡ç†è€…**ã¯ãƒ­ãƒ¼ã‚«ãƒ«ADã‹ã‚‰åŒæœŸã•ã‚Œã¦ã„ãªã„ã¯ãšã§ã™ã€‚ã‚°ãƒ­ãƒ¼ãƒãƒ«ç®¡ç†è€…ã®ãƒ¡ãƒ¼ãƒ«ãŒãƒ‰ãƒ¡ã‚¤ãƒ³**onmicrosoft.com**ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ã‹ã©ã†ã‹ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚ãã†ã§ãªã„å ´åˆã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã‚½ãƒ¼ã‚¹ã‚’ç¢ºèªã—ã€ã‚½ãƒ¼ã‚¹ã¯Azure Active Directoryã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚Windows Server ADã‹ã‚‰æ¥ã¦ã„ã‚‹å ´åˆã¯å ±å‘Šã—ã¦ãã ã•ã„ã€‚
* **æ¨™æº–ãƒ†ã‚£ã‚¢**ã¯ç„¡æ–™ãƒ†ã‚£ã‚¢ã®ä»£ã‚ã‚Šã«æ¨å¥¨ã•ã‚Œã¾ã™ï¼ˆ[https://portal.azure.com/#blade/Microsoft\_Azure\_Security/SecurityMenuBlade/24](https://portal.azure.com/#blade/Microsoft\_Azure\_Security/SecurityMenuBlade/24)ã§ä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹ãƒ†ã‚£ã‚¢ã‚’ç¢ºèªã—ã¦ãã ã•ã„ï¼‰
*   **å®šæœŸçš„ãªSQLã‚µãƒ¼ãƒãƒ¼ã‚¹ã‚­ãƒ£ãƒ³**ï¼š

_SQLã‚µãƒ¼ãƒãƒ¼ã‚’é¸æŠ_ --> _ã€Œé«˜åº¦ãªãƒ‡ãƒ¼ã‚¿ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã€ãŒã€Œã‚ªãƒ³ã€ã«è¨­å®šã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèª_ --> _ã€Œè„†å¼±æ€§è©•ä¾¡è¨­å®šã€ã®ä¸‹ã§ã€ã€Œå®šæœŸçš„ãªå†ã‚¹ã‚­ãƒ£ãƒ³ã€ã‚’ã€Œã‚ªãƒ³ã€ã«è¨­å®šã—ã€è„†å¼±æ€§è©•ä¾¡ã‚¹ã‚­ãƒ£ãƒ³çµæœã‚’ä¿å­˜ã™ã‚‹ãŸã‚ã®ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’æ§‹æˆ_ --> _ä¿å­˜ã‚’ã‚¯ãƒªãƒƒã‚¯_
* **App Servicesã®åˆ¶é™ã®ä¸è¶³**: Azureã§ã€ŒApp Servicesã€ã‚’æ¤œç´¢ã—ï¼ˆ[https://portal.azure.com/#blade/HubsExtension/BrowseResource/resourceType/Microsoft.Web%2Fsites](https://portal.azure.com/#blade/HubsExtension/BrowseResource/resourceType/Microsoft.Web%2Fsites)ï¼‰ã€ä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹ã‹ã©ã†ã‹ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚ãã®å ´åˆã€å„Appã®ã€Œã‚¢ã‚¯ã‚»ã‚¹åˆ¶é™ã€ã‚’ãƒã‚§ãƒƒã‚¯ã—ã€ãƒ«ãƒ¼ãƒ«ãŒãªã„ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚ã‚¢ãƒ—ãƒªã‚µãƒ¼ãƒ“ã‚¹ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã¯ã€å¿…è¦ã«å¿œã˜ã¦åˆ¶é™ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

### Office365

**ã‚°ãƒ­ãƒ¼ãƒãƒ«ç®¡ç†è€…**ã¾ãŸã¯å°‘ãªãã¨ã‚‚**ã‚°ãƒ­ãƒ¼ãƒãƒ«ç®¡ç†è€…ãƒªãƒ¼ãƒ€ãƒ¼**ãŒå¿…è¦ã§ã™ï¼ˆãŸã ã—ã€ã‚°ãƒ­ãƒ¼ãƒãƒ«ç®¡ç†è€…ãƒªãƒ¼ãƒ€ãƒ¼ã«ã¯åˆ¶é™ãŒã‚ã‚Šã¾ã™ï¼‰ã€‚ãŸã ã—ã€ã“ã‚Œã‚‰ã®åˆ¶é™ã¯ä¸€éƒ¨ã®PSãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«è¡¨ç¤ºã•ã‚Œã€Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä»‹ã—ã¦æ©Ÿèƒ½ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã“ã¨ã§å›é¿ã§ãã¾ã™ã€‚

## ãã®ä»–ã®ã‚¯ãƒ©ã‚¦ãƒ‰ãƒšãƒ³ãƒ†ã‚¹ãƒˆã‚¬ã‚¤ãƒ‰

* [**https://hackingthe.cloud**](https://hackingthe.cloud)

<details>

<summary><strong>ãƒãƒƒã‚¯ãƒˆãƒªãƒƒã‚¯ã®ã‚µãƒãƒ¼ãƒˆã¨ç‰¹å…¸ã‚’å—ã‘ã‚‹ï¼</strong></summary>

* **HackTricksã§ä¼šç¤¾ã‚’å®£ä¼**ã—ãŸã„å ´åˆã‚„ã€**æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®PEASSã‚’å…¥æ‰‹**ã—ãŸã„å ´åˆã€ã¾ãŸã¯**HackTricksã‚’PDFã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰**ã—ãŸã„å ´åˆã¯ã€[**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)ã‚’ã”è¦§ãã ã•ã„ï¼
* [**å…¬å¼PEASSï¼†HackTricksã‚°ãƒƒã‚º**](https://peass.creator-spring.com)ã‚’æ‰‹ã«å…¥ã‚Œã¾ã—ã‚‡ã†
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ã€å½“ç¤¾ã®ç‹¬å çš„ãª[**NFT**](https://opensea.io/collection/the-peass-family)ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’ç™ºè¦‹ã—ã¦ãã ã•ã„
* ğŸ’¬ [**Discordã‚°ãƒ«ãƒ¼ãƒ—**](https://discord.gg/hRep4RUj7f)ã¾ãŸã¯[**Telegramã‚°ãƒ«ãƒ¼ãƒ—**](https://t.me/peass)ã«å‚åŠ ã™ã‚‹ã‹ã€**Twitter**ã§ç§ã‚’ãƒ•ã‚©ãƒ­ãƒ¼ã—ã¦ãã ã•ã„ ğŸ¦ [**@carlospolopm**](https://twitter.com/carlospolopm)
* **ãƒãƒƒã‚­ãƒ³ã‚°ã®ãƒˆãƒªãƒƒã‚¯ã‚’å…±æœ‰ã™ã‚‹ã«ã¯ã€**[**HackTricks**](https://github.com/carlospolop/hacktricks)ã¨[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud)ã®GitHubãƒªãƒã‚¸ãƒˆãƒªã«PRã‚’æå‡ºã—ã¦ãã ã•ã„ã€‚

</details>
