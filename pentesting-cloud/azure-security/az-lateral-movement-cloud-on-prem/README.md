# Az - æ¨ªå‘ç§»åŠ¨ï¼ˆäº‘ - æœ¬åœ°ï¼‰

<details>

<summary><strong>é€šè¿‡</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS çº¢é˜Ÿä¸“å®¶)</strong></a><strong>ä»é›¶å¼€å§‹å­¦ä¹  AWS é»‘å®¢æŠ€æœ¯ï¼</strong></summary>

æ”¯æŒ HackTricks çš„å…¶ä»–æ–¹å¼ï¼š

* å¦‚æœæ‚¨æƒ³åœ¨ **HackTricks** ä¸­çœ‹åˆ°æ‚¨çš„**å…¬å¸å¹¿å‘Š**æˆ–**ä¸‹è½½ HackTricks çš„ PDF**ï¼Œè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)ï¼
* è·å–[**å®˜æ–¹çš„ PEASS & HackTricks å•†å“**](https://peass.creator-spring.com)
* å‘ç°[**PEASS å®¶æ—**](https://opensea.io/collection/the-peass-family)ï¼Œæˆ‘ä»¬ç‹¬å®¶çš„[**NFTs é›†åˆ**](https://opensea.io/collection/the-peass-family)
* **åŠ å…¥** ğŸ’¬ [**Discord ç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**telegram ç¾¤ç»„**](https://t.me/peass) æˆ–åœ¨ **Twitter** ğŸ¦ ä¸Š**å…³æ³¨**æˆ‘ [**@carlospolopm**](https://twitter.com/carlospolopm)**ã€‚**
* **é€šè¿‡å‘ [**HackTricks**](https://github.com/carlospolop/hacktricks) å’Œ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github ä»“åº“æäº¤ PR æ¥åˆ†äº«æ‚¨çš„é»‘å®¢æŠ€å·§ã€‚**

</details>

## è¿æ¥åˆ°äº‘çš„æœ¬åœ°æœºå™¨

æœºå™¨å¯ä»¥é€šè¿‡ä¸åŒçš„æ–¹å¼è¿æ¥åˆ°äº‘ï¼š

### Azure AD åŠ å…¥

<figure><img src="../../../.gitbook/assets/image (3) (1) (2) (1).png" alt=""><figcaption></figcaption></figure>

### Workplace åŠ å…¥

<figure><img src="../../../.gitbook/assets/image (1) (6).png" alt=""><figcaption><p><a href="https://pbs.twimg.com/media/EQZv7UHXsAArdhn?format=jpg&#x26;name=large">https://pbs.twimg.com/media/EQZv7UHXsAArdhn?format=jpg&#x26;name=large</a></p></figcaption></figure>

### æ··åˆåŠ å…¥

<figure><img src="../../../.gitbook/assets/image (3) (2) (2).png" alt=""><figcaption><p><a href="https://pbs.twimg.com/media/EQZv77jXkAAC4LK?format=jpg&#x26;name=large">https://pbs.twimg.com/media/EQZv77jXkAAC4LK?format=jpg&#x26;name=large</a></p></figcaption></figure>

### Workplace åŠ å…¥ AADJ æˆ–æ··åˆ

<figure><img src="../../../.gitbook/assets/image (4) (3).png" alt=""><figcaption><p><a href="https://pbs.twimg.com/media/EQZv8qBX0AAMWuR?format=jpg&#x26;name=large">https://pbs.twimg.com/media/EQZv8qBX0AAMWuR?format=jpg&#x26;name=large</a></p></figcaption></figure>

## ä»¤ç‰Œå’Œé™åˆ¶ <a href="#tokens-and-limitations" id="tokens-and-limitations"></a>

Azure AD ä¸­æœ‰ä¸åŒç±»å‹çš„ä»¤ç‰Œï¼Œæ¯ç§éƒ½æœ‰è‡ªå·±çš„é™åˆ¶ï¼š

* **è®¿é—®ä»¤ç‰Œ**ï¼Œå¯ç”¨äº**ä¸ API é€šä¿¡å’Œè®¿é—®èµ„æº**ï¼Œä¾‹å¦‚é€šè¿‡ Microsoft Graphã€‚å®ƒä»¬ä¸**ç‰¹å®šå®¢æˆ·ç«¯**ï¼ˆè¯·æ±‚å®ƒä»¬çš„åº”ç”¨ç¨‹åºï¼‰å’Œ**ç‰¹å®šèµ„æº**ï¼ˆæ‚¨æ­£åœ¨è®¿é—®çš„ APIï¼‰ç»‘å®šã€‚
* **åˆ·æ–°ä»¤ç‰Œ**ï¼Œå‘ç»™åº”ç”¨ç¨‹åºä»¥**è·å–æ–°çš„è®¿é—®ä»¤ç‰Œ**ï¼Œå› ä¸ºè®¿é—®ä»¤ç‰Œçš„æœ‰æ•ˆæœŸç›¸å¯¹è¾ƒçŸ­ã€‚å®ƒä»¬åªèƒ½ç”±å‘ç»™å®ƒä»¬çš„åº”ç”¨ç¨‹åºä½¿ç”¨ï¼Œæˆ–åœ¨æŸäº›æƒ…å†µä¸‹ç”±ä¸€ç»„åº”ç”¨ç¨‹åºä½¿ç”¨ã€‚
* **ä¸»åˆ·æ–°ä»¤ç‰Œï¼ˆPRTï¼‰**ï¼Œç”¨äº Azure AD åŠ å…¥ã€æ³¨å†Œæˆ–æ··åˆåŠ å…¥çš„è®¾å¤‡ä¸Šçš„**å•ç‚¹ç™»å½•**ã€‚å®ƒä»¬å¯ä»¥åœ¨**æµè§ˆå™¨ç™»å½•**æµç¨‹ä¸­ç”¨äºç½‘é¡µåº”ç”¨ç¨‹åºï¼Œä¹Ÿå¯ä»¥ç”¨äºç™»å½•è¿è¡Œåœ¨è®¾å¤‡ä¸Šçš„**ç§»åŠ¨å’Œæ¡Œé¢åº”ç”¨ç¨‹åº**ã€‚å®ƒä»¬å¯ä»¥ç”¨æ¥è¯·æ±‚**è®¿é—®ä»¤ç‰Œ**ã€‚

PRT æ˜¯æœ€æœ‰è¶£çš„ä»¤ç‰Œç±»å‹ï¼Œæ›´å¤šä¿¡æ¯è¯·æŸ¥çœ‹ï¼š

{% content-ref url="az-primary-refresh-token-prt.md" %}
[az-primary-refresh-token-prt.md](az-primary-refresh-token-prt.md)
{% endcontent-ref %}

## è½¬ç§»æŠ€æœ¯

ä»**å—æŸæœºå™¨åˆ°äº‘**ï¼š

* [**ä¼ é€’ Cookie**](az-pass-the-cookie.md)ï¼šä»æµè§ˆå™¨çªƒå– Azure cookies å¹¶ä½¿ç”¨å®ƒä»¬ç™»å½•
* [**ç½‘ç»œé’“é±¼ä¸»åˆ·æ–°ä»¤ç‰Œ**](az-phishing-primary-refresh-token-microsoft-entra.md)**ï¼š** ç½‘ç»œé’“é±¼ PRT ä»¥æ»¥ç”¨å®ƒ
* [**ä¼ é€’ PRT**](pass-the-prt.md)ï¼šçªƒå–è®¾å¤‡ PRT ä»¥å†’å……å®ƒè®¿é—® Azureã€‚
* [**ä¼ é€’è¯ä¹¦**](az-pass-the-certificate.md)**ï¼š** åŸºäº PRT ç”Ÿæˆè¯ä¹¦ï¼Œä»ä¸€å°æœºå™¨ç™»å½•åˆ°å¦ä¸€å°æœºå™¨

ä»**AD**çš„å¦¥ååˆ°**äº‘**çš„å¦¥åï¼Œä»¥åŠä»**äº‘**çš„å¦¥ååˆ°**AD**çš„å¦¥åï¼š

* [**Azure AD Connect**](azure-ad-connect-hybrid-identity/)
* **ä»äº‘åˆ°æœ¬åœ°çš„å¦ä¸€ç§è½¬ç§»æ–¹å¼æ˜¯** [**æ»¥ç”¨ Intune**](../intune.md)

### [Roadtx](https://github.com/dirkjanm/ROADtools)

æ­¤å·¥å…·å…è®¸æ‰§è¡Œå¤šç§æ“ä½œï¼Œå¦‚åœ¨ Azure AD ä¸­æ³¨å†Œæœºå™¨ä»¥è·å– PRTï¼Œå¹¶ä½¿ç”¨ PRTï¼ˆåˆæ³•æˆ–çªƒå–çš„ï¼‰ä»¥å¤šç§ä¸åŒæ–¹å¼è®¿é—®èµ„æºã€‚è¿™äº›ä¸æ˜¯ç›´æ¥æ”»å‡»ï¼Œä½†å®ƒä¾¿äºä½¿ç”¨ PRT ä»¥ä¸åŒæ–¹å¼è®¿é—®èµ„æºã€‚æ›´å¤šä¿¡æ¯è¯·æŸ¥çœ‹ï¼š

{% content-ref url="az-roadtx-authentication.md" %}
[az-roadtx-authentication.md](az-roadtx-authentication.md)
{% endcontent-ref %}

<details>

<summary><strong>é€šè¿‡</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS çº¢é˜Ÿä¸“å®¶)</strong></a><strong>ä»é›¶å¼€å§‹å­¦ä¹  AWS é»‘å®¢æŠ€æœ¯ï¼</strong></summary>

æ”¯æŒ HackTricks çš„å…¶ä»–æ–¹å¼ï¼š

* å¦‚æœæ‚¨æƒ³åœ¨ **HackTricks** ä¸­çœ‹åˆ°æ‚¨çš„**å…¬å¸å¹¿å‘Š**æˆ–**ä¸‹è½½ HackTricks çš„ PDF**ï¼Œè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)ï¼
* è·å–[**å®˜æ–¹çš„ PEASS & HackTricks å•†å“**](https://peass.creator-spring.com)
* å‘ç°[**PEASS å®¶æ—**](https://opensea.io/collection/the-peass-family)ï¼Œæˆ‘ä»¬ç‹¬å®¶çš„[**NFTs é›†åˆ**](https://opensea.io/collection/the-peass-family)
* **åŠ å…¥** ğŸ’¬ [**Discord ç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**telegram ç¾¤ç»„**](https://t.me/peass) æˆ–åœ¨ **Twitter** ğŸ¦ ä¸Š**å…³æ³¨**æˆ‘ [**@carlospolopm**](https://twitter.com/carlospolopm)**ã€‚**
* **é€šè¿‡å‘ [**HackTricks**](https://github.com/carlospolop/hacktricks) å’Œ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github ä»“åº“æäº¤ PR æ¥åˆ†äº«æ‚¨çš„é»‘å®¢æŠ€å·§ã€‚**

</details>
