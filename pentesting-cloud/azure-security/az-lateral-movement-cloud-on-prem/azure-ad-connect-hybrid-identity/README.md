# Az AD Connect - Karma Kimlik

<details>

<summary><strong>AWS hackleme becerilerini sÄ±fÄ±rdan kahraman seviyesine Ã¶ÄŸrenmek iÃ§in</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ±)</strong></a><strong>'Ä± Ã¶ÄŸrenin!</strong></summary>

HackTricks'Ä± desteklemenin diÄŸer yollarÄ±:

* Åirketinizi HackTricks'te **reklamÄ±nÄ±zÄ± gÃ¶rmek** veya **HackTricks'i PDF olarak indirmek** iÃ§in [**ABONELÄ°K PLANLARI**](https://github.com/sponsors/carlospolop)'na gÃ¶z atÄ±n!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* [**The PEASS Ailesi'ni**](https://opensea.io/collection/the-peass-family) keÅŸfedin, Ã¶zel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family) koleksiyonumuz
* ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katÄ±lÄ±n** veya bizi **Twitter** ğŸ¦ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**'da takip edin**.
* **Hacking hilelerinizi** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github depolarÄ±na **PR gÃ¶ndererek paylaÅŸÄ±n**.

</details>

## Temel Bilgiler

**Yerel Active Directory (AD)** ile **Azure AD** arasÄ±ndaki entegrasyon, **Azure AD Connect** tarafÄ±ndan saÄŸlanÄ±r ve **Tek Oturum AÃ§ma (SSO)**'yÄ± destekleyen Ã§eÅŸitli yÃ¶ntemler sunar. Her bir yÃ¶ntem, kullanÄ±ÅŸlÄ± olmasÄ±na raÄŸmen, bulut veya yerel ortamlarÄ± tehlikeye atabilecek potansiyel gÃ¼venlik aÃ§Ä±klarÄ±nÄ± sunar:

* **Pass-Through Authentication (PTA)**:
- Yerel AD'deki ajanÄ±n ele geÃ§irilmesiyle, Azure baÄŸlantÄ±larÄ± iÃ§in kullanÄ±cÄ± parolalarÄ±nÄ±n doÄŸrulanmasÄ±na izin verilir (yerelden buluta).
- Yeni bir ajanÄ±n kaydedilerek doÄŸrulamalarÄ±n yeni bir konumda yapÄ±labilmesi (Buluttan yerele).

{% content-ref url="pta-pass-through-authentication.md" %}
[pta-pass-through-authentication.md](pta-pass-through-authentication.md)
{% endcontent-ref %}

* **Password Hash Sync (PHS)**:
- AD'deki ayrÄ±calÄ±klÄ± kullanÄ±cÄ±larÄ±n aÃ§Ä±k metin parolalarÄ±nÄ±n, yÃ¼ksek ayrÄ±calÄ±klÄ±, otomatik oluÅŸturulan bir AzureAD kullanÄ±cÄ±sÄ±nÄ±n kimlik bilgileri dahil olmak Ã¼zere Ã§Ä±karÄ±lmasÄ± potansiyeli.

{% content-ref url="phs-password-hash-sync.md" %}
[phs-password-hash-sync.md](phs-password-hash-sync.md)
{% endcontent-ref %}

* **Federasyon**:
- SAML imzalama iÃ§in kullanÄ±lan Ã¶zel anahtarÄ±n Ã§alÄ±nmasÄ±yla, yerel ve bulut kimliklerinin taklit edilmesi saÄŸlanÄ±r.

{% content-ref url="federation.md" %}
[federation.md](federation.md)
{% endcontent-ref %}

* **Seamless SSO:**
- `AZUREADSSOACC` kullanÄ±cÄ±sÄ±nÄ±n parolasÄ±nÄ±n Ã§alÄ±nmasÄ±yla, Kerberos gÃ¼mÃ¼ÅŸ biletlerini imzalamak iÃ§in kullanÄ±lan ve herhangi bir bulut kullanÄ±cÄ±sÄ±nÄ±n taklit edilmesine izin veren bir kullanÄ±cÄ±.

{% content-ref url="seamless-sso.md" %}
[seamless-sso.md](seamless-sso.md)
{% endcontent-ref %}

* **Cloud Kerberos Trust**:
- AzureAD'den TGT talep ederek, AzureAD kullanÄ±cÄ± adlarÄ±nÄ± ve SIDs'lerini manipÃ¼le ederek Global Admin'den yerel Domain Admin'e yÃ¼kseltme olasÄ±lÄ±ÄŸÄ±.

{% content-ref url="az-cloud-kerberos-trust.md" %}
[az-cloud-kerberos-trust.md](az-cloud-kerberos-trust.md)
{% endcontent-ref %}

* **VarsayÄ±lan Uygulamalar**:
- Bir Uygulama YÃ¶netici hesabÄ±nÄ±n veya yerel Senkronizasyon HesabÄ±nÄ±n ele geÃ§irilmesi, dizin ayarlarÄ±nÄ±n, grup Ã¼yeliklerinin, kullanÄ±cÄ± hesaplarÄ±nÄ±n, SharePoint sitelerinin ve OneDrive dosyalarÄ±nÄ±n deÄŸiÅŸtirilmesine olanak saÄŸlar.

{% content-ref url="az-default-applications.md" %}
[az-default-applications.md](az-default-applications.md)
{% endcontent-ref %}

Her entegrasyon yÃ¶ntemi iÃ§in kullanÄ±cÄ± senkronizasyonu gerÃ§ekleÅŸtirilir ve on-prem AD'de bir `MSOL_<installationidentifier>` hesabÄ± oluÅŸturulur. Ã–zellikle, **PHS** ve **PTA** yÃ¶ntemleri, on-prem etki alanÄ±na katÄ±lan Azure AD bilgisayarlarÄ± iÃ§in otomatik oturum aÃ§mayÄ± saÄŸlayan **Seamless SSO**'yu kolaylaÅŸtÄ±rÄ±r.

**Azure AD Connect**'in kurulumunu doÄŸrulamak iÃ§in aÅŸaÄŸÄ±daki PowerShell komutu, varsayÄ±lan olarak Azure AD Connect ile birlikte yÃ¼klenen **AzureADConnectHealthSync** modÃ¼lÃ¼nÃ¼ kullanabilirsiniz:
```powershell
Get-ADSyncConnector
```
<details>

<summary><strong>AWS hackleme becerilerini sÄ±fÄ±rdan kahraman seviyesine Ã¶ÄŸrenmek iÃ§in</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ±)</strong></a><strong>'Ä± Ã¶ÄŸrenin!</strong></summary>

HackTricks'Ä± desteklemenin diÄŸer yollarÄ±:

* **Åirketinizi HackTricks'te reklamÄ±nÄ± gÃ¶rmek isterseniz** veya **HackTricks'i PDF olarak indirmek isterseniz** [**ABONELÄ°K PLANLARINA**](https://github.com/sponsors/carlospolop) gÃ¶z atÄ±n!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* [**The PEASS Ailesi'ni**](https://opensea.io/collection/the-peass-family) keÅŸfedin, Ã¶zel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family) koleksiyonumuz
* ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katÄ±lÄ±n** veya **Twitter** ğŸ¦ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**'Ä± takip edin.**
* **Hacking hilelerinizi paylaÅŸarak** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna PR gÃ¶ndererek katkÄ±da bulunun.

</details>
