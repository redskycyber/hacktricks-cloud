# Azure Pentesting

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong> ile sÄ±fÄ±rdan kahraman olmak iÃ§in AWS hackleme Ã¶ÄŸrenin<strong>!</strong></summary>

HackTricks'Ä± desteklemenin diÄŸer yollarÄ±:

* Åirketinizi HackTricks'te **reklamÄ±nÄ±zÄ± gÃ¶rmek** veya **HackTricks'i PDF olarak indirmek** iÃ§in [**ABONELÄ°K PLANLARI**](https://github.com/sponsors/carlospolop)'na gÃ¶z atÄ±n!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nleri**](https://peass.creator-spring.com)'ni edinin
* Ã–zel [**NFT'lerden**](https://opensea.io/collection/the-peass-family) oluÅŸan koleksiyonumuz olan [**The PEASS Family**](https://opensea.io/collection/the-peass-family)'yi keÅŸfedin
* ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katÄ±lÄ±n** veya **Twitter** ğŸ¦ [**@hacktricks_live**](https://twitter.com/hacktricks_live)'Ä± takip edin.
* Hacking hilelerinizi [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github depolarÄ±na PR gÃ¶ndererek paylaÅŸÄ±n.

</details>

## AZURE METODOLOJÄ°SÄ°NÄ° HALA OLUÅTURUYORUM

## Temel Bilgiler

{% content-ref url="az-basic-information.md" %}
[az-basic-information.md](az-basic-information.md)
{% endcontent-ref %}

## Azure Pentester/KÄ±rmÄ±zÄ± TakÄ±m Metodolojisi

Bir AZURE ortamÄ±nÄ± denetlemek iÃ§in Ã§ok Ã¶nemli olan ÅŸeyler: hangi **hizmetlerin kullanÄ±ldÄ±ÄŸÄ±**, neyin **aÃ§Ä±ÄŸa Ã§Ä±karÄ±ldÄ±ÄŸÄ±**, kimin **ne tÃ¼r eriÅŸimi** olduÄŸu ve iÃ§ Azure hizmetlerinin ve **harici hizmetlerin** nasÄ±l baÄŸlandÄ±ÄŸÄ±dÄ±r.

KÄ±rmÄ±zÄ± TakÄ±m aÃ§Ä±sÄ±ndan, bir Azure ortamÄ±nÄ± ele geÃ§irmenin **ilk adÄ±mÄ±**, Azure AD iÃ§in bazÄ± **kimlik bilgileri** elde etmeyi baÅŸarmaktÄ±r. Ä°ÅŸte bunu nasÄ±l yapabileceÄŸinize dair bazÄ± fikirler:

* Github (veya benzeri) **sÄ±zÄ±ntÄ±larÄ±** - OSINT
* **Sosyal** MÃ¼hendislik
* **Parola** yeniden kullanÄ±mÄ± (parola sÄ±zÄ±ntÄ±larÄ±)
* Azure'da barÄ±ndÄ±rÄ±lan uygulamalardaki gÃ¼venlik aÃ§Ä±klarÄ±
* [**Sunucu TarafÄ± Ä°stek SahtekarlÄ±ÄŸÄ± (SSRF)**](https://book.hacktricks.xyz/pentesting-web/ssrf-server-side-request-forgery/cloud-ssrf) - meta veri uÃ§ noktasÄ±na eriÅŸimle
* **Yerel Dosya Okuma**
* `/home/USERNAME/.azure`
* `C:\Users\USERNAME\.azure`
* `az cli` 2.30 Ã¶ncesi - Jan2022 - **eriÅŸim belirteÃ§lerini dÃ¼z metin olarak** saklayan **`accessTokens.json`** dosyasÄ±
* **`azureProfile.json`** dosyasÄ± oturum aÃ§mÄ±ÅŸ kullanÄ±cÄ± hakkÄ±nda **bilgi** iÃ§erir.
* **`az logout`** belirteci kaldÄ±rÄ±r.
* Eski sÃ¼rÃ¼mlerde **`Az PowerShell`**, **eriÅŸim belirteÃ§lerini** **dÃ¼z metin** olarak **`TokenCache.dat`** dosyasÄ±nda saklar. AyrÄ±ca **`AzureRmContext.json`** dosyasÄ±nda **ServicePrincipalSecret**'i **dÃ¼z metin** olarak saklar. **`Save-AzContext`** cmdlet'i **belirteÃ§leri** **saklamak** iÃ§in kullanÄ±labilir.\
OnlarÄ± kaldÄ±rmak iÃ§in `Disconnect-AzAccount` kullanÄ±n.
* 3. taraf **ihlal edilmiÅŸ**
* **Ä°Ã§** Ã‡alÄ±ÅŸan
* [**YaygÄ±n Olarak KullanÄ±lan**](https://book.hacktricks.xyz/generic-methodologies-and-resources/phishing-methodology) **Spear Phishing** (kimlik bilgileri veya Oauth UygulamasÄ±)
* [Cihaz Kodu Kimlik DoÄŸrulama Spear Phishing](az-unauthenticated-enum-and-initial-entry/az-device-code-authentication-phishing.md)
* [Azure **Parola Spreyi**](az-unauthenticated-enum-and-initial-entry/az-password-spraying.md)

Azure kiracÄ±sÄ±nÄ±n iÃ§indeki herhangi bir kullanÄ±cÄ±yÄ± ele geÃ§irmemiÅŸ olsanÄ±z bile, ondan bazÄ± bilgiler toplayabilirsiniz:

{% content-ref url="az-unauthenticated-enum-and-initial-entry/" %}
[az-unauthenticated-enum-and-initial-entry](az-unauthenticated-enum-and-initial-entry/)
{% endcontent-ref %}

{% hint style="info" %}
Kimlik bilgilerini elde etmeyi baÅŸardÄ±ktan sonra, bu kimlik bilgilerinin **kime ait olduÄŸunu** ve **neye eriÅŸimi olduÄŸunu** bilmek iÃ§in bazÄ± temel numaralandÄ±rmalar yapmanÄ±z gerekmektedir:
{% endhint %}

## Temel NumaralandÄ±rma

{% hint style="info" %}
NumaralandÄ±rmanÄ±n **en gÃ¼rÃ¼ltÃ¼lÃ¼** kÄ±smÄ±nÄ±n **giriÅŸ** olduÄŸunu, numaralandÄ±rmanÄ±n kendisi olmadÄ±ÄŸÄ±nÄ± unutmayÄ±n.
{% endhint %}

### SSRF

Azure iÃ§indeki bir makinede SSRF bulduysanÄ±z, hileler iÃ§in bu sayfaya bakÄ±n:

{% embed url="https://book.hacktricks.xyz/pentesting-web/ssrf-server-side-request-forgery/cloud-ssrf" %}

### GiriÅŸ KoÅŸullarÄ±nÄ± Atlama

<figure><img src="../../.gitbook/assets/image (1) (2) (2).png" alt=""><figcaption></figcaption></figure>

GeÃ§erli kimlik bilgileriniz olsa da giriÅŸ yapamÄ±yorsanÄ±z, aÅŸaÄŸÄ±daki yaygÄ±n korumalar olabilir:

* **IP beyaz listeleme** -- GeÃ§erli bir IP'yi ele geÃ§irmeniz gerekiyor
* **CoÄŸrafi kÄ±sÄ±tlamalar** -- KullanÄ±cÄ±nÄ±n yaÅŸadÄ±ÄŸÄ± yeri veya ÅŸirketin ofislerinin bulunduÄŸu yeri bulun ve aynÄ± ÅŸehirden (veya en azÄ±ndan Ã¼lkeden) bir IP alÄ±n
* **TarayÄ±cÄ±** -- Belki sadece belirli bir iÅŸletim sisteminden (Windows, Linux, Mac, Android, iOS) bir tarayÄ±cÄ±ya izin veriliyor. KurbanÄ±n/ÅŸirketin hangi iÅŸletim sistemini kullandÄ±ÄŸÄ±nÄ± bulun.
* AyrÄ±ca, genellikle daha az sÄ±nÄ±rlÄ±dÄ±r ve giriÅŸi daha az incelenir, bu nedenle **Hizmet Ä°lkesi kimlik bilgilerini ele geÃ§irmeyi deneyebilirsiniz**

Bunu atlattÄ±ktan sonra, baÅŸlangÄ±Ã§ â€‹â€‹kurulumunuza geri dÃ¶nebilir ve hala eriÅŸiminiz olabilir.

### Alt Alan Ele GeÃ§irme

* [https://godiego.co/posts/STO-Azure/](https://godiego.co/posts/STO-Azure/)

### Ben Kimim

{% hint style="danger" %}
az cli, AzureAD ve Az PowerShell'i nasÄ±l kuracaÄŸÄ±nÄ±zÄ± Ã¶ÄŸrenmek iÃ§in [**Az - AzureAD**](az-azuread/) bÃ¶lÃ¼mÃ¼ne bakÄ±n.
{% endhint %}

Bilmeniz gereken ilk ÅŸeylerden biri, **kim olduÄŸunuzdur** (hangi ortamda olduÄŸunuz):

{% tabs %}
{% tab title="az cli" %}
```bash
az account list
az account tenant list # Current tenant info
az account subscription list # Current subscription info
az ad signed-in-user show # Current signed-in user
az ad signed-in-user list-owned-objects # Get owned objects by current user
az account management-group list #Not allowed by default
```
{% endtab %}

{% tab title="AzureAD" %}AzureAD{% endtab %}
```powershell
#Get the current session state
Get-AzureADCurrentSessionInfo
#Get details of the current tenant
Get-AzureADTenantDetail
```
{% endtab %}

{% tab title="Az PowerShell" %}Az PowerShell{% endtab %}
```powershell
# Get the information about the current context (Account, Tenant, Subscription etc.)
Get-AzContext
# List all available contexts
Get-AzContext -ListAvailable
# Enumerate subscriptions accessible by the current user
Get-AzSubscription
#Get Resource group
Get-AzResourceGroup
# Enumerate all resources visible to the current user
Get-AzResource
# Enumerate all Azure RBAC role assignments
Get-AzRoleAssignment # For all users
Get-AzRoleAssignment -SignInName test@corp.onmicrosoft.com # For current user
```
{% endtab %}
{% endtabs %}

{% hint style="danger" %}
Azure'yi numaralandÄ±rmak iÃ§in en Ã¶nemli komutlardan biri **`Get-AzResource`** komutudur. Bu komut, mevcut kullanÄ±cÄ±nÄ±n gÃ¶rÃ¼nÃ¼rlÃ¼ÄŸÃ¼ne sahip olduÄŸu kaynaklarÄ± bilmenizi saÄŸlar.

AynÄ± bilgilere [web konsolu](https://portal.azure.com/#view/HubsExtension/BrowseAll)ndan veya "TÃ¼m kaynaklar"Ä± aratarak da ulaÅŸabilirsiniz.
{% endhint %}

### AzureAD NumaralandÄ±rma

VarsayÄ±lan olarak, herhangi bir kullanÄ±cÄ±nÄ±n kullanÄ±cÄ±larÄ±, gruplarÄ±, rolleri, hizmet prensiplerini vb. numaralandÄ±rmak iÃ§in yeterli izni olmalÄ±dÄ±r (varsayÄ±lan AzureAD izinlerini kontrol edin).\
Bir rehberi burada bulabilirsiniz:

{% content-ref url="az-azuread/" %}
[az-azuread](az-azuread/)
{% endcontent-ref %}

{% hint style="info" %}
Åimdi, kimlik bilgileriniz hakkÄ±nda biraz bilgiye sahip olduÄŸunuzda (ve eÄŸer bir kÄ±rmÄ±zÄ± takÄ±m Ã¼yesiyseniz umarÄ±m **tespit edilmemiÅŸsinizdir**). Åimdi, ortamda hangi hizmetlerin kullanÄ±ldÄ±ÄŸÄ±nÄ± bulmak iÃ§in zamanÄ± geldi.\
AÅŸaÄŸÄ±daki bÃ¶lÃ¼mde, bazÄ± yaygÄ±n hizmetleri numaralandÄ±rmak iÃ§in bazÄ± yÃ¶ntemleri kontrol edebilirsiniz.
{% endhint %}

## Hizmet Prensibi ve EriÅŸim Ä°lkesi

Bir Azure hizmeti, bir Sistem KimliÄŸi (hizmetin kendisi) veya bir KullanÄ±cÄ± AtanmÄ±ÅŸ YÃ¶netilen Kimlik kullanabilir. Bu Kimlik, Ã¶rneÄŸin bir KeyVault'ta sÄ±rlarÄ± okumak iÃ§in EriÅŸim Ä°lkesine sahip olabilir. Bu EriÅŸim Ä°lkeleri sÄ±nÄ±rlÄ± olmalÄ±dÄ±r (en az ayrÄ±calÄ±k ilkesi), ancak gereklenden daha fazla izne sahip olabilir. Tipik olarak, bir Uygulama Hizmeti, sÄ±rlarÄ± ve sertifikalarÄ± almak iÃ§in KeyVault kullanÄ±r.

Bu nedenle, bu kimlikleri keÅŸfetmek faydalÄ± olacaktÄ±r.

## App Service SCM

App Service 'container'Ä±na giriÅŸ yapmak iÃ§in Kudu konsolu.

## Webshell

portal.azure.com'u kullanÄ±n ve kabuÄŸu seÃ§in veya bash veya powershell iÃ§in shell.azure.com'u kullanÄ±n. Bu kabuÄŸun 'diski', bir depolama hesabÄ±nda bir gÃ¶rÃ¼ntÃ¼ dosyasÄ± olarak saklanÄ±r.

## Azure DevOps

Azure DevOps, Azure'dan ayrÄ± bir hizmettir. DepolarÄ±, borularÄ± (yaml veya yayÄ±n), panolarÄ±, wiki'leri ve daha fazlasÄ±nÄ± iÃ§erir. DeÄŸiÅŸken GruplarÄ±, deÄŸiÅŸken deÄŸerlerini ve sÄ±rlarÄ±nÄ± depolamak iÃ§in kullanÄ±lÄ±r.

## Otomatik KeÅŸif AraÃ§larÄ±

### [**ROADRecon**](https://github.com/dirkjanm/ROADtools)
```powershell
cd ROADTools
pipenv shell
roadrecon auth -u test@corp.onmicrosoft.com -p "Welcome2022!"
roadrecon gather
roadrecon gui
```
### [Monkey365](https://github.com/silverhack/monkey365)

{% code overflow="wrap" %}
```powershell
Import-Module monkey365
Get-Help Invoke-Monkey365
Get-Help Invoke-Monkey365 -Detailed
Invoke-Monkey365 -IncludeAzureActiveDirectory -ExportTo HTML -Verbose -Debug -InformationAction Continue
Invoke-Monkey365 - Instance Azure -Analysis All -ExportTo HTML
```
{% endcode %}

### [**Stormspotter**](https://github.com/Azure/Stormspotter)

Stormspotter, Azure tarafÄ±ndan geliÅŸtirilen bir araÃ§tÄ±r. Bu araÃ§, Azure ortamÄ±nda bulunan sanal makinelerin gÃ¼venlik durumunu deÄŸerlendirmek iÃ§in kullanÄ±lÄ±r. Stormspotter, sanal makinelerin aÄŸ trafiÄŸini izler ve anormal aktiviteleri tespit eder. Bu sayede, potansiyel saldÄ±rÄ±larÄ± veya gÃ¼venlik ihlallerini tespit etmek iÃ§in kullanÄ±labilir.

Stormspotter, Azure Security Center ile entegre Ã§alÄ±ÅŸÄ±r ve gÃ¼venlik olaylarÄ±nÄ± ve tehditleri otomatik olarak tespit eder. AyrÄ±ca, kullanÄ±cÄ±ya anlÄ±k uyarÄ±lar ve raporlar saÄŸlar. Bu sayede, gÃ¼venlik ekibi hÄ±zlÄ± bir ÅŸekilde mÃ¼dahale edebilir ve gÃ¼venlik aÃ§Ä±klarÄ±nÄ± kapatmak iÃ§in gerekli Ã¶nlemleri alabilir.

Stormspotter, Azure ortamÄ±nda bulunan sanal makinelerin gÃ¼venlik durumunu deÄŸerlendirmek ve potansiyel saldÄ±rÄ±larÄ± tespit etmek iÃ§in etkili bir araÃ§tÄ±r.
```powershell
# Start Backend
cd stormspotter\backend\
pipenv shell
python ssbackend.pyz

# Start Front-end
cd stormspotter\frontend\dist\spa\
quasar.cmd serve -p 9091 --history

# Run Stormcollector
cd stormspotter\stormcollector\
pipenv shell
az login -u test@corp.onmicrosoft.com -p Welcome2022!
python stormspotter\stormcollector\sscollector.pyz cli
# This will generate a .zip file to upload in the frontend (127.0.0.1:9091)
```
### [**AzureHound**](https://github.com/BloodHoundAD/AzureHound)

AzureHound, Microsoft Azure bulut platformunda yapÄ±lan bir saldÄ±rÄ±da kullanÄ±lan bir araÃ§tÄ±r. Bu araÃ§, Azure Active Directory (AAD) ve Azure Resource Manager (ARM) gibi Azure hizmetlerindeki gÃ¼venlik zayÄ±flÄ±klarÄ±nÄ± tespit etmek iÃ§in kullanÄ±lÄ±r. AzureHound, BloodHound projesinin bir parÃ§asÄ±dÄ±r ve BloodHound'un Ã¶zelliklerini Azure ortamÄ±na uyarlar.

AzureHound, Azure bulut ortamÄ±nda yapÄ±lan bir saldÄ±rÄ±da kullanÄ±labilecek bir dizi saldÄ±rÄ± vektÃ¶rÃ¼nÃ¼ keÅŸfetmek iÃ§in kullanÄ±lÄ±r. Bu vektÃ¶rler arasÄ±nda kullanÄ±cÄ± hesaplarÄ±, ayrÄ±calÄ±klar, grup Ã¼yelikleri, hizmet baÄŸlantÄ± noktalarÄ± ve Azure kaynaklarÄ± gibi bilgiler yer alÄ±r. Bu bilgiler, saldÄ±rganÄ±n hedef sisteme eriÅŸim saÄŸlamasÄ±na ve daha fazla saldÄ±rÄ± yapmasÄ±na olanak tanÄ±r.

AzureHound, Azure ortamÄ±nda yapÄ±lan bir saldÄ±rÄ±da kullanÄ±labilecek bir dizi saldÄ±rÄ± vektÃ¶rÃ¼nÃ¼ keÅŸfetmek iÃ§in kullanÄ±lÄ±r. Bu vektÃ¶rler arasÄ±nda kullanÄ±cÄ± hesaplarÄ±, ayrÄ±calÄ±klar, grup Ã¼yelikleri, hizmet baÄŸlantÄ± noktalarÄ± ve Azure kaynaklarÄ± gibi bilgiler yer alÄ±r. Bu bilgiler, saldÄ±rganÄ±n hedef sisteme eriÅŸim saÄŸlamasÄ±na ve daha fazla saldÄ±rÄ± yapmasÄ±na olanak tanÄ±r.

AzureHound, Azure ortamÄ±nda yapÄ±lan bir saldÄ±rÄ±da kullanÄ±labilecek bir dizi saldÄ±rÄ± vektÃ¶rÃ¼nÃ¼ keÅŸfetmek iÃ§in kullanÄ±lÄ±r. Bu vektÃ¶rler arasÄ±nda kullanÄ±cÄ± hesaplarÄ±, ayrÄ±calÄ±klar, grup Ã¼yelikleri, hizmet baÄŸlantÄ± noktalarÄ± ve Azure kaynaklarÄ± gibi bilgiler yer alÄ±r. Bu bilgiler, saldÄ±rganÄ±n hedef sisteme eriÅŸim saÄŸlamasÄ±na ve daha fazla saldÄ±rÄ± yapmasÄ±na olanak tanÄ±r.

AzureHound, Azure ortamÄ±nda yapÄ±lan bir saldÄ±rÄ±da kullanÄ±labilecek bir dizi saldÄ±rÄ± vektÃ¶rÃ¼nÃ¼ keÅŸfetmek iÃ§in kullanÄ±lÄ±r. Bu vektÃ¶rler arasÄ±nda kullanÄ±cÄ± hesaplarÄ±, ayrÄ±calÄ±klar, grup Ã¼yelikleri, hizmet baÄŸlantÄ± noktalarÄ± ve Azure kaynaklarÄ± gibi bilgiler yer alÄ±r. Bu bilgiler, saldÄ±rganÄ±n hedef sisteme eriÅŸim saÄŸlamasÄ±na ve daha fazla saldÄ±rÄ± yapmasÄ±na olanak tanÄ±r.
```powershell
# You need to use the Az PowerShell and Azure AD modules:
$passwd = ConvertTo-SecureString "Welcome2022!" -AsPlainText -Force
$creds = New-Object System.Management.Automation.PSCredential ("test@corp.onmicrosoft.com", $passwd)
Connect-AzAccount -Credential $creds

Import-Module AzureAD\AzureAD.psd1
Connect-AzureAD -Credential $creds

# Launch AzureHound
. AzureHound\AzureHound.ps1
Invoke-AzureHound -Verbose

# Simple queries
## All Azure Users
MATCH (n:AZUser) return n.name
## All Azure Applications
MATCH (n:AZApp) return n.objectid
## All Azure Devices
MATCH (n:AZDevice) return n.name
## All Azure Groups
MATCH (n:AZGroup) return n.name
## All Azure Key Vaults
MATCH (n:AZKeyVault) return n.name
## All Azure Resource Groups
MATCH (n:AZResourceGroup) return n.name
## All Azure Service Principals
MATCH (n:AZServicePrincipal) return n.objectid
## All Azure Virtual Machines
MATCH (n:AZVM) return n.name
## All Principals with the â€˜Contributorâ€™ role
MATCH p = (n)-[r:AZContributor]->(g) RETURN p

# Advanced queries
## Get Global Admins
MATCH p =(n)-[r:AZGlobalAdmin*1..]->(m) RETURN p
## Owners of Azure Groups
MATCH p = (n)-[r:AZOwns]->(g:AZGroup) RETURN p
## All Azure Users and their Groups
MATCH p=(m:AZUser)-[r:MemberOf]->(n) WHERE NOT m.objectid CONTAINS 'S-1-5' RETURN p
## Privileged Service Principals
MATCH p = (g:AZServicePrincipal)-[r]->(n) RETURN p
## Owners of Azure Applications
MATCH p = (n)-[r:AZOwns]->(g:AZApp) RETURN p
## Paths to VMs
MATCH p = (n)-[r]->(g: AZVM) RETURN p
## Paths to KeyVault
MATCH p = (n)-[r]->(g:AZKeyVault) RETURN p
## Paths to Azure Resource Group
MATCH p = (n)-[r]->(g:AZResourceGroup) RETURN p
## On-Prem users with edges to Azure
MATCH  p=(m:User)-[r:AZResetPassword|AZOwns|AZUserAccessAdministrator|AZContributor|AZAddMembers|AZGlobalAdmin|AZVMContributor|AZOwnsAZAvereContributor]->(n) WHERE m.objectid CONTAINS 'S-1-5-21' RETURN p
## All Azure AD Groups that are synchronized with On-Premise AD
MATCH (n:Group) WHERE n.objectid CONTAINS 'S-1-5' AND n.azsyncid IS NOT NULL RETURN n
```
### [Azucar](https://github.com/nccgroup/azucar)

Azucar, Azure bulut platformunda yapÄ±lan bir gÃ¼venlik deÄŸerlendirmesi iÃ§in bir araÃ§tÄ±r. Bu araÃ§, Azure ortamÄ±nda bulunan kaynaklarÄ± ve yapÄ±landÄ±rmalarÄ± analiz etmek ve gÃ¼venlik aÃ§Ä±klarÄ±nÄ± tespit etmek iÃ§in kullanÄ±lÄ±r.

Azucar, Azure kaynaklarÄ±nÄ± otomatik olarak keÅŸfeder ve bu kaynaklarÄ±n gÃ¼venlik yapÄ±landÄ±rmalarÄ±nÄ± kontrol eder. AyrÄ±ca, kullanÄ±cÄ±larÄ±n yetkilendirme hatalarÄ±nÄ± ve ayrÄ±calÄ±k yÃ¼kseltme fÄ±rsatlarÄ±nÄ± tespit etmek iÃ§in de kullanÄ±labilir.

Bu araÃ§, Azure bulut platformunda yapÄ±lan bir pentest sÄ±rasÄ±nda kullanÄ±labilecek Ã¶nemli bir kaynaktÄ±r. Azure ortamÄ±nda gÃ¼venlik aÃ§Ä±klarÄ±nÄ± tespit etmek ve dÃ¼zeltmek iÃ§in kullanÄ±labilir.
```bash
# You should use an account with at least read-permission on the assets you want to access
git clone https://github.com/nccgroup/azucar.git
PS> Get-ChildItem -Recurse c:\Azucar_V10 | Unblock-File

PS> .\Azucar.ps1 -AuthMode UseCachedCredentials -Verbose -WriteLog -Debug -ExportTo PRINT
PS> .\Azucar.ps1 -ExportTo CSV,JSON,XML,EXCEL -AuthMode Certificate_Credentials -Certificate C:\AzucarTest\server.pfx -ApplicationId 00000000-0000-0000-0000-000000000000 -TenantID 00000000-0000-0000-0000-000000000000
PS> .\Azucar.ps1 -ExportTo CSV,JSON,XML,EXCEL -AuthMode Certificate_Credentials -Certificate C:\AzucarTest\server.pfx -CertFilePassword MySuperP@ssw0rd! -ApplicationId 00000000-0000-0000-0000-000000000000 -TenantID 00000000-0000-0000-0000-000000000000

# resolve the TenantID for an specific username
PS> .\Azucar.ps1 -ResolveTenantUserName user@company.com
```
### [**MicroBurst**](https://github.com/NetSPI/MicroBurst)

MicroBurst, bir Azure ortamÄ±nda yÃ¼ksek hÄ±zda kimlik doÄŸrulama saldÄ±rÄ±larÄ± gerÃ§ekleÅŸtirmek iÃ§in kullanÄ±lan bir araÃ§tÄ±r. Bu araÃ§, Azure Active Directory (AAD) kimlik doÄŸrulama hizmetine karÅŸÄ± saldÄ±rÄ±lar gerÃ§ekleÅŸtirmek iÃ§in tasarlanmÄ±ÅŸtÄ±r. MicroBurst, kimlik doÄŸrulama isteklerini hÄ±zlÄ± bir ÅŸekilde gÃ¶ndererek, kimlik doÄŸrulama hizmetinin performansÄ±nÄ± etkileyebilir ve hatta hizmetin Ã§Ã¶kmesine neden olabilir. Bu saldÄ±rÄ±, bir hedefin kimlik doÄŸrulama hizmetine olan eriÅŸimini engelleyerek, hedefin iÅŸ sÃ¼rekliliÄŸini etkileyebilir.
```
Import-Module .\MicroBurst.psm1
Import-Module .\Get-AzureDomainInfo.ps1
Get-AzureDomainInfo -folder MicroBurst -Verbose
```
### [**PowerZure**](https://github.com/hausec/PowerZure)

PowerZure, Azure bulut platformunda gÃ¼venlik testleri yapmak iÃ§in kullanÄ±lan bir PowerShell betiÄŸidir. Bu betik, Azure bulut ortamÄ±nda gÃ¼venlik aÃ§Ä±klarÄ±nÄ± tespit etmek ve istismar etmek iÃ§in Ã§eÅŸitli araÃ§lar ve teknikler saÄŸlar.

PowerZure, Azure kaynaklarÄ±nÄ± keÅŸfetmek, kullanÄ±cÄ± hesaplarÄ±nÄ± analiz etmek, ayrÄ±calÄ±klÄ± eriÅŸim haklarÄ±nÄ± kontrol etmek, aÄŸ trafiÄŸini izlemek ve Azure hizmetlerini istismar etmek iÃ§in kullanÄ±labilir. AyrÄ±ca, Azure bulut ortamÄ±nda gÃ¼venlik aÃ§Ä±klarÄ±nÄ± tespit etmek iÃ§in kullanÄ±lan diÄŸer araÃ§larla entegrasyon saÄŸlar.

Bu betik, Azure bulut platformunda gÃ¼venlik testleri yapmak isteyen pentester'lar ve gÃ¼venlik araÅŸtÄ±rmacÄ±larÄ± iÃ§in deÄŸerli bir kaynaktÄ±r. PowerZure, Azure bulut ortamÄ±nda gÃ¼venlik aÃ§Ä±klarÄ±nÄ± tespit etmek ve istismar etmek iÃ§in etkili bir araÃ§tÄ±r.
```powershell
Connect-AzAccount
ipmo C:\Path\To\Powerzure.psd1
Get-AzureTarget

# Reader
$ Get-Runbook, Get-AllUsers, Get-Apps, Get-Resources, Get-WebApps, Get-WebAppDetails

# Contributor
$ Execute-Command -OS Windows -VM Win10Test -ResourceGroup Test-RG -Command "whoami"
$ Execute-MSBuild -VM Win10Test  -ResourceGroup Test-RG -File "build.xml"
$ Get-AllSecrets # AllAppSecrets, AllKeyVaultContents
$ Get-AvailableVMDisks, Get-VMDisk # Download a virtual machine's disk

# Owner
$ Set-Role -Role Contributor -User test@contoso.com -Resource Win10VMTest

# Administrator
$ Create-Backdoor, Execute-Backdoor
```
<details>

<summary><strong>AWS hacklemeyi sÄ±fÄ±rdan kahraman olmaya kadar Ã¶ÄŸrenin</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ±)</strong></a><strong>!</strong></summary>

HackTricks'Ä± desteklemenin diÄŸer yollarÄ±:

* **Åirketinizi HackTricks'te reklamÄ±nÄ± gÃ¶rmek isterseniz** veya **HackTricks'i PDF olarak indirmek isterseniz** [**ABONELÄ°K PLANLARI**](https://github.com/sponsors/carlospolop)'na gÃ¶z atÄ±n!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* [**The PEASS Ailesi'ni**](https://opensea.io/collection/the-peass-family) keÅŸfedin, Ã¶zel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family) koleksiyonumuz
* ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katÄ±lÄ±n** veya **Twitter** ğŸ¦ [**@hacktricks_live**](https://twitter.com/hacktricks_live)'Ä± **takip edin**.
* **Hacking hilelerinizi** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna **PR gÃ¶ndererek paylaÅŸÄ±n**.

</details>
