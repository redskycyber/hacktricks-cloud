# Az - Blob Storage

<details>

<summary><strong>ã‚¼ãƒ­ã‹ã‚‰ãƒ’ãƒ¼ãƒ­ãƒ¼ã¾ã§AWSãƒãƒƒã‚­ãƒ³ã‚°ã‚’å­¦ã¶</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTEï¼ˆHackTricks AWS Red Team Expertï¼‰</strong></a><strong>ï¼</strong></summary>

HackTricksã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ä»–ã®æ–¹æ³•ï¼š

- **HackTricksã§ä¼æ¥­ã‚’å®£ä¼ã—ãŸã„**ã¾ãŸã¯**HackTricksã‚’PDFã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸã„**å ´åˆã¯ã€[**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„ï¼
- [**å…¬å¼PEASSï¼†HackTricksã‚¹ãƒ¯ãƒƒã‚°**](https://peass.creator-spring.com)ã‚’å…¥æ‰‹ã™ã‚‹
- [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ã‚’ç™ºè¦‹ã—ã€ç‹¬å çš„ãª[**NFTs**](https://opensea.io/collection/the-peass-family)ã®ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’è¦‹ã¤ã‘ã‚‹
- **ğŸ’¬ [Discordã‚°ãƒ«ãƒ¼ãƒ—](https://discord.gg/hRep4RUj7f)**ã«å‚åŠ ã™ã‚‹ã‹ã€[telegramã‚°ãƒ«ãƒ¼ãƒ—](https://t.me/peass)ã«å‚åŠ ã™ã‚‹ã‹ã€**Twitter** ğŸ¦ **@hacktricks\_live**ï¼ˆhttps://twitter.com/hacktricks\_liveï¼‰ã‚’ãƒ•ã‚©ãƒ­ãƒ¼ã™ã‚‹ã€‚
- **HackTricks**ï¼ˆhttps://github.com/carlospolop/hacktricksï¼‰ãŠã‚ˆã³**HackTricks Cloud**ï¼ˆhttps://github.com/carlospolop/hacktricks-cloudï¼‰ã®GitHubãƒªãƒã‚¸ãƒˆãƒªã«PRã‚’æå‡ºã—ã¦ã€ã‚ãªãŸã®ãƒãƒƒã‚­ãƒ³ã‚°ãƒˆãƒªãƒƒã‚¯ã‚’å…±æœ‰ã—ã¦ãã ã•ã„ã€‚

</details>

## åŸºæœ¬æƒ…å ±

[ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‹ã‚‰ï¼š](https://learn.microsoft.com/en-us/azure/storage/blobs/storage-blobs-overview) Azure Blob storageã¯ã€Microsoftã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ**ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³**ã§ã™ã€‚Blob storageã¯ã€å¤§é‡ã®éæ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜ã™ã‚‹ãŸã‚ã«æœ€é©åŒ–ã•ã‚Œã¦ã„ã¾ã™ã€‚éæ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿ã¨ã¯ã€ç‰¹å®šã®ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«ã‚„å®šç¾©ã«å¾“ã‚ãªã„ãƒ‡ãƒ¼ã‚¿ã®ã“ã¨ã§ã™ã€‚

Blob storageã«ã¯3ç¨®é¡ã®ãƒªã‚½ãƒ¼ã‚¹ãŒã‚ã‚Šã¾ã™ï¼š

- **ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ**ï¼ˆãƒ¦ãƒ‹ãƒ¼ã‚¯ãªåå‰ï¼‰
- ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå†…ã®**ã‚³ãƒ³ãƒ†ãƒŠ**ï¼ˆãƒ•ã‚©ãƒ«ãƒ€ï¼‰
- ã‚³ãƒ³ãƒ†ãƒŠå†…ã®**Blob**

<figure><img src="../../../.gitbook/assets/image (114).png" alt=""><figcaption></figcaption></figure>

### ç•°ãªã‚‹ç¨®é¡ã®ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸

| **Blob storage**                 | <p><code>https://&#x3C;storage-account>.blob.core.windows.net</code><br><br><code>https://&#x3C;stg-acc>.blob.core.windows.net/&#x3C;container-name>?restype=container&#x26;comp=list</code></p> |
| -------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **Azure Data Lake Storage Gen2** | `https://<storage-account>.dfs.core.windows.net`                                                                                                                                                 |
| **Azure Files**                  | `https://<storage-account>.file.core.windows.net`                                                                                                                                                |
| **Queue storage**                | `https://<storage-account>.queue.core.windows.net`                                                                                                                                               |
| **Table storage**                | `https://<storage-account>.table.core.windows.net`                                                                                                                                               |

### ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ <a href="#about-blob-storage" id="about-blob-storage"></a>

- **RBACãƒ­ãƒ¼ãƒ«**ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹Azure ADãƒ—ãƒªãƒ³ã‚·ãƒ‘ãƒ«ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚
- **ã‚¢ã‚¯ã‚»ã‚¹ã‚­ãƒ¼**ï¼šã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ã‚¢ã‚¯ã‚»ã‚¹ã‚­ãƒ¼ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€**ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã¸ã®å®Œå…¨ãªã‚¢ã‚¯ã‚»ã‚¹**ãŒæä¾›ã•ã‚Œã¾ã™ã€‚
- **å…±æœ‰ã‚¢ã‚¯ã‚»ã‚¹ç½²å**ï¼ˆSASï¼‰ï¼š**æ™‚é–“åˆ¶é™**ã¨ç‰¹å®šã®æ¨©é™ã€‚
- **ã‚¢ã‚¯ã‚»ã‚¹ã‚­ãƒ¼**ã‚’ä½¿ç”¨ã—ã¦SAS URLã‚’ç”Ÿæˆã§ãã¾ã™ï¼ˆæ¤œå‡ºãŒã‚ˆã‚Šè¤‡é›‘ã«ãªã‚Šã¾ã™ï¼‰ã€‚
- SASã¯ã‚¢ã‚¯ã‚»ã‚¹ã‚­ãƒ¼ã‹ã‚‰ç”Ÿæˆã•ã‚Œã‚‹ãŸã‚ã€æ›´æ–°ã•ã‚Œã‚‹ã¨SASã¯æ©Ÿèƒ½ã—ãªããªã‚Šã¾ã™ã€‚

### å…¬é–‹éœ²å‡º

ã€ŒBlobãƒ‘ãƒ–ãƒªãƒƒã‚¯ã‚¢ã‚¯ã‚»ã‚¹ã‚’è¨±å¯ã€ãŒ**æœ‰åŠ¹**ã«ãªã£ã¦ã„ã‚‹å ´åˆï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ç„¡åŠ¹ï¼‰ã€æ¬¡ã®ã“ã¨ãŒå¯èƒ½ã§ã™ï¼š

- **Blobã®èª­ã¿å–ã‚Šæ¨©é™ã‚’ä¸€èˆ¬å…¬é–‹**ï¼ˆåå‰ã‚’çŸ¥ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ï¼‰ã€‚
- ã‚³ãƒ³ãƒ†ãƒŠBlobã‚’**ãƒªã‚¹ãƒˆ**ã—ã¦**èª­ã¿å–ã‚‹**ã€‚

### ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã¸ã®æ¥ç¶š

æ¥ç¶šã§ãã‚‹**ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸**ã‚’è¦‹ã¤ã‘ãŸå ´åˆã¯ã€[**Microsoft Azure Storage Explorer**](https://azure.microsoft.com/es-es/products/storage/storage-explorer/)ã‚’ä½¿ç”¨ã—ã¦æ¥ç¶šã§ãã¾ã™ã€‚

## SAS URL

[ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‹ã‚‰ï¼š](https://learn.microsoft.com/en-us/azure/storage/common/storage-sas-overview) å…±æœ‰ã‚¢ã‚¯ã‚»ã‚¹ç½²åï¼ˆSASï¼‰ã¯ã€ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå†…ã®ãƒªã‚½ãƒ¼ã‚¹ã¸ã®ã‚»ã‚­ãƒ¥ã‚¢ãªå§”ä»»ã‚¢ã‚¯ã‚»ã‚¹ã‚’æä¾›ã—ã¾ã™ã€‚SASã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãŒãƒ‡ãƒ¼ã‚¿ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹æ–¹æ³•ã‚’ç´°ã‹ãåˆ¶å¾¡ã§ãã¾ã™ã€‚ãŸã¨ãˆã°ï¼š

- ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãŒã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ãƒªã‚½ãƒ¼ã‚¹ã€‚
- ãã‚Œã‚‰ã®ãƒªã‚½ãƒ¼ã‚¹ã«å¯¾ã™ã‚‹æ¨©é™ã€‚
- SASã®æœ‰åŠ¹æœŸé–“ã€‚

SAS URLã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ï¼š**`https://<container_name>.blob.core.windows.net/newcontainer?sp=r&st=2021-09-26T18:15:21Z&se=2021-10-27T02:14:21Z&spr=https&sv=2021-07-08&sr=c&sig=7S%2BZySOgy4aA3Dk0V1cJyTSIf1cW%2Fu3WFkhHV32%2B4PE%3D`**

[**Storage Explorer**](https://azure.microsoft.com/en-us/features/storage-explorer/)ã‚’ä½¿ç”¨ã—ã¦ãƒ‡ãƒ¼ã‚¿ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã‹ã€Pythonã‚’ä½¿ç”¨ã—ã¾ã™ï¼š

{% code overflow="wrap" %}
```python
#pip3 install azure-storage-blob
from azure.storage.blob import BlobServiceClient

# List containers
conn_str="<SAS URL>"
svc = BlobServiceClient.from_connection_string(conn_str=conn_str)
for c in svc.list_containers():
print(c['name']

# List blobs inside conteiner
container = svc.get_container_client(container="<container_name>")
for b in container.list_blobs():
print(b['name']

# Download file
blob = svc.get_blob_client(container="<container_name>",blob="<blob_name>")
with open("download.out","wb") as f:
f.write(blob.download_blob().readall())
```
### ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‡ãƒªã‚²ãƒ¼ã‚·ãƒ§ãƒ³ SAS <a href="#user-delegation-sas" id="user-delegation-sas"></a>

**ã‚³ãƒ³ãƒ†ãƒŠã€ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã€ã¾ãŸã¯ãƒ–ãƒ­ãƒ–ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã®ãŸã‚ã«å…±æœ‰ã‚¢ã‚¯ã‚»ã‚¹ç½²å (SAS) ãƒˆãƒ¼ã‚¯ãƒ³ã‚’**ã€Azure Active Directory (Azure AD) **è³‡æ ¼æƒ…å ±ã¾ãŸã¯ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚­ãƒ¼**ã‚’ä½¿ç”¨ã—ã¦ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã§ãã¾ã™ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‡ãƒªã‚²ãƒ¼ã‚·ãƒ§ãƒ³ SAS ã‚’ä½œæˆã™ã‚‹ã«ã¯ã€ã¾ãš**ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‡ãƒªã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã‚­ãƒ¼**ã‚’ãƒªã‚¯ã‚¨ã‚¹ãƒˆã—ã€ãã‚Œã‚’ä½¿ç”¨ã—ã¦ SAS ã«ç½²åã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

**Azure Blob Storage** ãŠã‚ˆã³ **Azure Data Lake Storage Gen2** ã®ä¸¡æ–¹ã§**ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‡ãƒªã‚²ãƒ¼ã‚·ãƒ§ãƒ³å…±æœ‰ã‚¢ã‚¯ã‚»ã‚¹ç½²å (SAS)** ãŒã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã™ã€‚ãŸã ã—ã€**ä¿å­˜ã•ã‚ŒãŸã‚¢ã‚¯ã‚»ã‚¹ãƒãƒªã‚·ãƒ¼**ã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‡ãƒªã‚²ãƒ¼ã‚·ãƒ§ãƒ³ SAS ã¨äº’æ›æ€§ãŒãªã„ã“ã¨ã«æ³¨æ„ã—ã¦ãã ã•ã„ã€‚

ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‡ãƒªã‚²ãƒ¼ã‚·ãƒ§ãƒ³ SAS ã¯**ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚­ãƒ¼ã§ã¯ãªã Azure AD è³‡æ ¼æƒ…å ±ã§ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãŒç¢ºä¿ã•ã‚Œã¦ã„ã¾ã™**ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ/ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚­ãƒ¼ã‚’ä¿å­˜/å–å¾—ã—ã¦ SAS ã‚’ä½œæˆã™ã‚‹ã“ã¨ãŒé˜²æ­¢ã•ã‚Œã¾ã™ã€‚

### ã‚µãƒ¼ãƒ“ã‚¹ SAS

ã‚µãƒ¼ãƒ“ã‚¹ SAS ã¯**ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚­ãƒ¼ã§ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãŒç¢ºä¿ã•ã‚Œã¦ã„ã¾ã™**ã€‚ã‚µãƒ¼ãƒ“ã‚¹ SAS ã¯ã€Azure Storage ã‚µãƒ¼ãƒ“ã‚¹ã®ã†ã¡ã®**1ã¤ã®ãƒªã‚½ãƒ¼ã‚¹ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’å§”ä»»**ã—ã¾ã™: Blob storageã€Queue storageã€Table storageã€ã¾ãŸã¯ Azure Filesã€‚ã‚µãƒ¼ãƒ“ã‚¹ãƒ¬ãƒ™ãƒ«ã® SAS ã® URI ã¯ã€SAS ãŒã‚¢ã‚¯ã‚»ã‚¹ã‚’å§”ä»»ã™ã‚‹ãƒªã‚½ãƒ¼ã‚¹ã¸ã® URI ã®å¾Œã«ç¶šã SAS ãƒˆãƒ¼ã‚¯ãƒ³ã§æ§‹æˆã•ã‚Œã¾ã™ã€‚

**ã‚³ãƒ³ãƒ†ãƒŠ**ã¾ãŸã¯**ãƒ–ãƒ­ãƒ–**ã® SAS ã‚’ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã§ç¢ºä¿ã™ã‚‹ã«ã¯ã€Azure Active Directory (Azure AD) è³‡æ ¼æƒ…å ±ã‚’ä½¿ç”¨ã—ã¦**ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‡ãƒªã‚²ãƒ¼ã‚·ãƒ§ãƒ³ SAS**ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚

### ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ SAS

ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ SAS ã¯**ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚­ãƒ¼ (2ã¤ã‚ã‚Šã¾ã™)**ã§ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãŒç¢ºä¿ã•ã‚Œã¦ã„ã¾ã™ã€‚ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ SAS ã¯ã€1ã¤ä»¥ä¸Šã®ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚µãƒ¼ãƒ“ã‚¹ã®ãƒªã‚½ãƒ¼ã‚¹ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’å§”ä»»ã—ã¾ã™ã€‚ã‚µãƒ¼ãƒ“ã‚¹ã¾ãŸã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‡ãƒªã‚²ãƒ¼ã‚·ãƒ§ãƒ³ SAS ã‚’ä»‹ã—ã¦åˆ©ç”¨å¯èƒ½ãªã™ã¹ã¦ã®æ“ä½œã¯ã€ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ SAS ã‚’ä»‹ã—ã¦ã‚‚åˆ©ç”¨ã§ãã¾ã™ã€‚

[ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‹ã‚‰:](https://learn.microsoft.com/en-us/rest/api/storageservices/create-account-sas) ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ SAS ã‚’ä½œæˆã™ã‚‹ã“ã¨ã§ã€æ¬¡ã®ã“ã¨ãŒã§ãã¾ã™:

* `Get/Set Service Properties` ãŠã‚ˆã³ `Get Service Stats` ã®ã‚ˆã†ãªã‚µãƒ¼ãƒ“ã‚¹å›ºæœ‰ã® SAS ã§ã¯ç¾åœ¨åˆ©ç”¨ã§ããªã„ã‚µãƒ¼ãƒ“ã‚¹ãƒ¬ãƒ™ãƒ«ã®æ“ä½œã‚’å§”ä»»ã§ãã¾ã™ã€‚
* ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ SAS ã‚’ä½¿ç”¨ã—ã¦ã€Azure Blob Storage ã¨ Azure Files ã®ä¸¡æ–¹ã®ãƒªã‚½ãƒ¼ã‚¹ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’å§”ä»»ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
* ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå›ºæœ‰ã® SAS ã§ã¯åˆ©ç”¨ã§ããªã„ã‚³ãƒ³ãƒ†ãƒŠã€ã‚­ãƒ¥ãƒ¼ã€ãƒ†ãƒ¼ãƒ–ãƒ«ã€ãŠã‚ˆã³ãƒ•ã‚¡ã‚¤ãƒ«å…±æœ‰ã®æ›¸ãè¾¼ã¿ãŠã‚ˆã³å‰Šé™¤æ“ä½œã‚’å§”ä»»ã§ãã¾ã™ã€‚
* ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å—ã‘å…¥ã‚Œã‚‹ IP ã‚¢ãƒ‰ãƒ¬ã‚¹ã¾ãŸã¯ IP ã‚¢ãƒ‰ãƒ¬ã‚¹ã®ç¯„å›²ã‚’æŒ‡å®šã§ãã¾ã™ã€‚
* ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å—ã‘å…¥ã‚Œã‚‹ HTTP ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã‚’æŒ‡å®šã§ãã¾ã™ (HTTPS ã¾ãŸã¯ HTTP/HTTPS ã®ã„ãšã‚Œã‹)ã€‚
```bash
# Get storage accounts
az storage account list #Get the account name from here

# Get keys to authenticate
az storage account keys list --account-name <name>

# Get shares
az storage share list --account-name <name> --account-key <key>

# Get dirs/files inside the share
az storage file list --account-name <name> --share-name <share-name> --account-key <key>
## If type is "dir", you can continue enumerationg files inside of it
az storage file list --account-name <name> --share-name <prev_dir/share-name> --account-key <key>

# Download a complete share (with directories and files inside of them)
az storage file download-batch -d . --source <share-name> --account-name <name> --account-key <key>
```
{% endcode %}
{% endtab %}

{% tab title="Az PowerShell" %}
{% code overflow="wrap" %}
```powershell
# Get storage accounts
Get-AzStorageAccount | fl
# Get rules to access the storage account
Get-AzStorageAccount | select -ExpandProperty NetworkRuleSet
# Get IPs
(Get-AzStorageAccount | select -ExpandProperty NetworkRuleSet).IPRules
# Get containers of a storage account
Get-AzStorageContainer -Context (Get-AzStorageAccount -name <NAME> -ResourceGroupName <NAME>).context
# Get blobs inside container
Get-AzStorageBlob -Container epbackup-planetary -Context (Get-AzStorageAccount -name <name> -ResourceGroupName <name>).context
# Get a blob from a container
Get-AzStorageBlobContent -Container <NAME> -Context (Get-AzStorageAccount -name <NAME> -ResourceGroupName <NAME>).context -Blob <blob_name> -Destination .\Desktop\filename.txt
```
{% endcode %}
{% endtab %}
{% endtabs %}

## å‚è€ƒæ–‡çŒ®

* [https://learn.microsoft.com/en-us/azure/storage/blobs/storage-blobs-introduction](https://learn.microsoft.com/en-us/azure/storage/blobs/storage-blobs-introduction)
* [https://learn.microsoft.com/en-us/azure/storage/common/storage-sas-overview](https://learn.microsoft.com/en-us/azure/storage/common/storage-sas-overview)

<details>

<summary><strong>htARTEï¼ˆHackTricks AWS Red Team Expertï¼‰</strong>ã‚’ä½¿ç”¨ã—ã¦ã€ã‚¼ãƒ­ã‹ã‚‰ãƒ’ãƒ¼ãƒ­ãƒ¼ã¾ã§AWSãƒãƒƒã‚­ãƒ³ã‚°ã‚’å­¦ã³ã¾ã—ã‚‡ã†ï¼</summary>

HackTricks ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ä»–ã®æ–¹æ³•:

* **HackTricks ã§ä¼æ¥­ã‚’å®£ä¼ã—ãŸã„**ã€ã¾ãŸã¯ **HackTricks ã‚’ PDF ã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸã„** å ´åˆã¯ã€[**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop) ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„ï¼
* [**å…¬å¼ã® PEASS & HackTricks ã‚¹ãƒ¯ãƒƒã‚°**](https://peass.creator-spring.com) ã‚’æ‰‹ã«å…¥ã‚Œã‚‹
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) ã‚’ç™ºè¦‹ã—ã€ç‹¬å çš„ãª [**NFTs**](https://opensea.io/collection/the-peass-family) ã®ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’è¦‹ã‚‹
* **ğŸ’¬ [**Discord ã‚°ãƒ«ãƒ¼ãƒ—**](https://discord.gg/hRep4RUj7f) ã«å‚åŠ ã™ã‚‹ã‹ã€[**telegram ã‚°ãƒ«ãƒ¼ãƒ—**](https://t.me/peass) ã«å‚åŠ ã™ã‚‹ã‹ã€**Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live) ã‚’ãƒ•ã‚©ãƒ­ãƒ¼ã™ã‚‹**
* **ãƒãƒƒã‚­ãƒ³ã‚°ãƒˆãƒªãƒƒã‚¯ã‚’å…±æœ‰ã™ã‚‹ãŸã‚ã«ã€** [**HackTricks**](https://github.com/carlospolop/hacktricks) ã¨ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) ã® GitHub ãƒªãƒã‚¸ãƒˆãƒªã« PR ã‚’æå‡ºã™ã‚‹

</details>
