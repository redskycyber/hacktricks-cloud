# Az - ì‘ìš© í”„ë¡œê·¸ë¨ í”„ë¡ì‹œ

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong>ë¥¼ í†µí•´ AWS í•´í‚¹ì„ ì²˜ìŒë¶€í„° ì „ë¬¸ê°€ê¹Œì§€ ë°°ì›Œë³´ì„¸ìš”<strong>!</strong></summary>

HackTricksë¥¼ ì§€ì›í•˜ëŠ” ë‹¤ë¥¸ ë°©ë²•:

* **íšŒì‚¬ë¥¼ HackTricksì—ì„œ ê´‘ê³ í•˜ê±°ë‚˜ HackTricksë¥¼ PDFë¡œ ë‹¤ìš´ë¡œë“œ**í•˜ë ¤ë©´ [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)ë¥¼ í™•ì¸í•˜ì„¸ìš”!
* [**ê³µì‹ PEASS & HackTricks ìŠ¤ì›¨ê·¸**](https://peass.creator-spring.com)ë¥¼ ì–»ìœ¼ì„¸ìš”.
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ë¥¼ ë°œê²¬í•˜ì„¸ìš”. ë…ì ì ì¸ [**NFTs**](https://opensea.io/collection/the-peass-family) ì»¬ë ‰ì…˜ì…ë‹ˆë‹¤.
* ğŸ’¬ [**Discord ê·¸ë£¹**](https://discord.gg/hRep4RUj7f) ë˜ëŠ” [**í…”ë ˆê·¸ë¨ ê·¸ë£¹**](https://t.me/peass)ì— **ì°¸ì—¬**í•˜ê±°ë‚˜ **Twitter** ğŸ¦ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**ë¥¼** **íŒ”ë¡œìš°**í•˜ì„¸ìš”.
* **HackTricks**ì™€ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github ì €ì¥ì†Œì— PRì„ ì œì¶œí•˜ì—¬ **í•´í‚¹ íŠ¸ë¦­ì„ ê³µìœ **í•˜ì„¸ìš”.

</details>

## ê¸°ë³¸ ì •ë³´

[ë¬¸ì„œì—ì„œ ì°¸ì¡°: ](https://learn.microsoft.com/en-us/entra/identity/app-proxy/application-proxy)

Azure Active Directoryì˜ ì‘ìš© í”„ë¡œê·¸ë¨ í”„ë¡ì‹œëŠ” **ì˜¨í”„ë ˆë¯¸ìŠ¤ ì›¹ ì‘ìš© í”„ë¡œê·¸ë¨ì— ëŒ€í•œ ì•ˆì „í•œ ì›ê²© ì•¡ì„¸ìŠ¤**ë¥¼ ì œê³µí•©ë‹ˆë‹¤. **Azure ADì— ëŒ€í•œ ë‹¨ì¼ ë¡œê·¸ì¸** í›„ ì‚¬ìš©ìëŠ” **ì™¸ë¶€ URL** ë˜ëŠ” ë‚´ë¶€ ì‘ìš© í”„ë¡œê·¸ë¨ í¬í„¸ì„ í†µí•´ **í´ë¼ìš°ë“œ** ë° **ì˜¨í”„ë ˆë¯¸ìŠ¤ ì‘ìš© í”„ë¡œê·¸ë¨ì— ì•¡ì„¸ìŠ¤**í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì‘ë™ ë°©ì‹ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:

<figure><img src="../../../.gitbook/assets/image (86).png" alt=""><figcaption></figcaption></figure>

1. ì‚¬ìš©ìê°€ ì—”ë“œí¬ì¸íŠ¸ë¥¼ í†µí•´ ì‘ìš© í”„ë¡œê·¸ë¨ì— ì•¡ì„¸ìŠ¤í•œ í›„, ì‚¬ìš©ìëŠ” **Azure AD ë¡œê·¸ì¸ í˜ì´ì§€**ë¡œ ì´ë™í•©ë‹ˆë‹¤.
2. **ì„±ê³µì ì¸ ë¡œê·¸ì¸** í›„, Azure ADëŠ” **í† í°**ì„ ì‚¬ìš©ìì˜ í´ë¼ì´ì–¸íŠ¸ ì¥ì¹˜ë¡œ ë³´ëƒ…ë‹ˆë‹¤.
3. í´ë¼ì´ì–¸íŠ¸ëŠ” í† í°ì„ **ì‘ìš© í”„ë¡œê·¸ë¨ í”„ë¡ì‹œ ì„œë¹„ìŠ¤**ì— ë³´ë‚´ê³ , í† í°ì—ì„œ ì‚¬ìš©ì ì£¼ì²´ ì´ë¦„ (UPN) ë° ë³´ì•ˆ ì£¼ì²´ ì´ë¦„ (SPN)ì„ ê²€ìƒ‰í•©ë‹ˆë‹¤. **ì‘ìš© í”„ë¡œê·¸ë¨ í”„ë¡ì‹œëŠ” ìš”ì²­ì„ ì‘ìš© í”„ë¡œê·¸ë¨ í”„ë¡ì‹œ ì»¤ë„¥í„°ë¡œ ë³´ëƒ…ë‹ˆë‹¤**.
4. ë‹¨ì¼ ë¡œê·¸ì¸ì„ êµ¬ì„±í•œ ê²½ìš°, ì»¤ë„¥í„°ëŠ” ì‚¬ìš©ìë¥¼ ëŒ€ì‹ í•˜ì—¬ í•„ìš”í•œ **ì¶”ê°€ ì¸ì¦**ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.
5. ì»¤ë„¥í„°ëŠ” **ì˜¨í”„ë ˆë¯¸ìŠ¤ ì‘ìš© í”„ë¡œê·¸ë¨**ì— ìš”ì²­ì„ ë³´ëƒ…ë‹ˆë‹¤.
6. **ì‘ë‹µ**ì€ ì»¤ë„¥í„°ì™€ ì‘ìš© í”„ë¡œê·¸ë¨ í”„ë¡ì‹œ ì„œë¹„ìŠ¤ë¥¼ í†µí•´ **ì‚¬ìš©ìì—ê²Œ ì „ì†¡**ë©ë‹ˆë‹¤.

## ì—´ê±°
```powershell
# Enumerate applications with application proxy configured
Get-AzureADApplication | %{try{Get-AzureADApplicationProxyApplication -ObjectId $_.ObjectID;$_.DisplayName;$_.ObjectID}catch{}}

# Get applications service principal
Get-AzureADServicePrincipal -All $true | ?{$_.DisplayName -eq "Name"}

# Use the following ps1 script from https://learn.microsoft.com/en-us/azure/active-directory/app-proxy/scripts/powershell-display-users-group-of-app
# to find users and groups assigned to the application. Pass the ObjectID of the Service Principal to it
Get-ApplicationProxyAssignedUsersAndGroups -ObjectId <object-id>
```
## ì°¸ê³  ìë£Œ

* [https://learn.microsoft.com/en-us/azure/active-directory/app-proxy/application-proxy](https://learn.microsoft.com/en-us/azure/active-directory/app-proxy/application-proxy)

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong>ë¥¼ í†µí•´ ì œë¡œì—ì„œ ì˜ì›…ê¹Œì§€ AWS í•´í‚¹ì„ ë°°ì›Œë³´ì„¸ìš”<strong>!</strong></summary>

HackTricksë¥¼ ì§€ì›í•˜ëŠ” ë‹¤ë¥¸ ë°©ë²•:

* **íšŒì‚¬ë¥¼ HackTricksì—ì„œ ê´‘ê³ í•˜ê±°ë‚˜ HackTricksë¥¼ PDFë¡œ ë‹¤ìš´ë¡œë“œ**í•˜ë ¤ë©´ [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)ë¥¼ í™•ì¸í•˜ì„¸ìš”!
* [**ê³µì‹ PEASS & HackTricks ìŠ¤ì›¨ê·¸**](https://peass.creator-spring.com)ë¥¼ ì–»ìœ¼ì„¸ìš”.
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ë¥¼ ë°œê²¬í•˜ì„¸ìš”. ë…ì ì ì¸ [**NFTs**](https://opensea.io/collection/the-peass-family) ì»¬ë ‰ì…˜ì…ë‹ˆë‹¤.
* ğŸ’¬ [**Discord ê·¸ë£¹**](https://discord.gg/hRep4RUj7f) ë˜ëŠ” [**í…”ë ˆê·¸ë¨ ê·¸ë£¹**](https://t.me/peass)ì— **ì°¸ì—¬**í•˜ê±°ë‚˜ **Twitter** ğŸ¦ [**@hacktricks_live**](https://twitter.com/hacktricks_live)ë¥¼ **íŒ”ë¡œìš°**í•˜ì„¸ìš”.
* **HackTricks**ì™€ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github ì €ì¥ì†Œì— PRì„ ì œì¶œí•˜ì—¬ ì—¬ëŸ¬ë¶„ì˜ í•´í‚¹ ê¸°ë²•ì„ ê³µìœ í•˜ì„¸ìš”.

</details>
