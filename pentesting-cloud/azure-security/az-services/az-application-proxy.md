# Az - ì• í”Œë¦¬ì¼€ì´ì…˜ í”„ë¡ì‹œ

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong>ë¥¼ í†µí•´ **ì œë¡œë¶€í„° ì˜ì›…ê¹Œì§€ AWS í•´í‚¹ ë°°ìš°ê¸°**!</summary>

HackTricksë¥¼ ì§€ì›í•˜ëŠ” ë‹¤ë¥¸ ë°©ë²•:

* **íšŒì‚¬ë¥¼ HackTricksì—ì„œ ê´‘ê³ í•˜ê±°ë‚˜ HackTricksë¥¼ PDFë¡œ ë‹¤ìš´ë¡œë“œ**í•˜ê³  ì‹¶ë‹¤ë©´ [**êµ¬ë… ìš”ê¸ˆì œ**](https://github.com/sponsors/carlospolop)ë¥¼ í™•ì¸í•˜ì„¸ìš”!
* [**ê³µì‹ PEASS & HackTricks ìŠ¤ì™œê·¸**](https://peass.creator-spring.com)ë¥¼ êµ¬ë§¤í•˜ì„¸ìš”
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ë¥¼ ë°œê²¬í•˜ì„¸ìš”, ë‹¹ì‚¬ì˜ ë…ì  [**NFTs**](https://opensea.io/collection/the-peass-family) ì»¬ë ‰ì…˜
* ğŸ’¬ [**ë””ìŠ¤ì½”ë“œ ê·¸ë£¹**](https://discord.gg/hRep4RUj7f) ë˜ëŠ” [**í…”ë ˆê·¸ë¨ ê·¸ë£¹**](https://t.me/peass)ì— **ê°€ì…**í•˜ê±°ë‚˜ **íŠ¸ìœ„í„°** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)ë¥¼ **íŒ”ë¡œìš°**í•˜ì„¸ìš”.
* **í•´í‚¹ ìš”ë ¹ì„ ê³µìœ í•˜ë ¤ë©´ PRì„ ì œì¶œí•˜ì—¬** [**HackTricks**](https://github.com/carlospolop/hacktricks) ë° [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github ì €ì¥ì†Œì— ê¸°ì—¬í•˜ì„¸ìš”.

</details>

## ê¸°ë³¸ ì •ë³´

[ë¬¸ì„œì—ì„œ í™•ì¸:](https://learn.microsoft.com/en-us/entra/identity/app-proxy/application-proxy)

Azure Active Directoryì˜ ì• í”Œë¦¬ì¼€ì´ì…˜ í”„ë¡ì‹œëŠ” **ì˜¨í”„ë ˆë¯¸ìŠ¤ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì•ˆì „í•œ ì›ê²© ì•¡ì„¸ìŠ¤**ë¥¼ ì œê³µí•©ë‹ˆë‹¤. **Azure ADì— ëŒ€í•œ ë‹¨ì¼ ë¡œê·¸ì¸** í›„ ì‚¬ìš©ìëŠ” **ì™¸ë¶€ URL** ë˜ëŠ” ë‚´ë¶€ ì• í”Œë¦¬ì¼€ì´ì…˜ í¬í„¸ì„ í†µí•´ **í´ë¼ìš°ë“œ** ë° **ì˜¨í”„ë ˆë¯¸ìŠ¤ ì• í”Œë¦¬ì¼€ì´ì…˜**ì— ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì‘ë™ ë°©ì‹ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:

<figure><img src="../../../.gitbook/assets/image (186).png" alt=""><figcaption></figcaption></figure>

1. ì‚¬ìš©ìê°€ ì—”ë“œí¬ì¸íŠ¸ë¥¼ í†µí•´ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì•¡ì„¸ìŠ¤í•œ í›„, ì‚¬ìš©ìëŠ” **Azure AD ë¡œê·¸ì¸ í˜ì´ì§€**ë¡œ ì´ë™í•©ë‹ˆë‹¤.
2. **ì„±ê³µì ì¸ ë¡œê·¸ì¸** í›„, Azure ADëŠ” **í† í°**ì„ ì‚¬ìš©ìì˜ í´ë¼ì´ì–¸íŠ¸ ì¥ì¹˜ë¡œ ì „ì†¡í•©ë‹ˆë‹¤.
3. í´ë¼ì´ì–¸íŠ¸ëŠ” í† í°ì„ **ì• í”Œë¦¬ì¼€ì´ì…˜ í”„ë¡ì‹œ ì„œë¹„ìŠ¤**ë¡œ ì „ì†¡í•˜ê³ , ì„œë¹„ìŠ¤ëŠ” í† í°ì—ì„œ ì‚¬ìš©ì ì£¼ì²´ ì´ë¦„(UPN) ë° ë³´ì•ˆ ì£¼ì²´ ì´ë¦„(SPN)ì„ ê²€ìƒ‰í•©ë‹ˆë‹¤. **ì• í”Œë¦¬ì¼€ì´ì…˜ í”„ë¡ì‹œëŠ” ê·¸ëŸ° ë‹¤ìŒ ìš”ì²­ì„ ì• í”Œë¦¬ì¼€ì´ì…˜ í”„ë¡ì‹œ ì»¤ë„¥í„°ë¡œ ì „ì†¡**í•©ë‹ˆë‹¤.
4. ë‹¨ì¼ ë¡œê·¸ì¸ì„ êµ¬ì„±í•œ ê²½ìš°, ì»¤ë„¥í„°ëŠ” ì‚¬ìš©ìë¥¼ ëŒ€ì‹ í•˜ì—¬ í•„ìš”í•œ **ì¶”ê°€ ì¸ì¦**ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.
5. ì»¤ë„¥í„°ëŠ” ìš”ì²­ì„ **ì˜¨í”„ë ˆë¯¸ìŠ¤ ì• í”Œë¦¬ì¼€ì´ì…˜**ìœ¼ë¡œ ì „ì†¡í•©ë‹ˆë‹¤.
6. **ì‘ë‹µ**ì€ ì»¤ë„¥í„° ë° ì• í”Œë¦¬ì¼€ì´ì…˜ í”„ë¡ì‹œ ì„œë¹„ìŠ¤ë¥¼ í†µí•´ **ì‚¬ìš©ìì—ê²Œ ì „ì†¡**ë©ë‹ˆë‹¤.

## ì—´ê±°
```powershell
# Enumerate applications with application proxy configured
Get-AzureADApplication | %{try{Get-AzureADApplicationProxyApplication -ObjectId $_.ObjectID;$_.DisplayName;$_.ObjectID}catch{}}

# Get applications service principal
Get-AzureADServicePrincipal -All $true | ?{$_.DisplayName -eq "Name"}

# Use the following ps1 script from https://learn.microsoft.com/en-us/azure/active-directory/app-proxy/scripts/powershell-display-users-group-of-app
# to find users and groups assigned to the application. Pass the ObjectID of the Service Principal to it
Get-ApplicationProxyAssignedUsersAndGroups -ObjectId <object-id>
```
## ì°¸ê³  ìë£Œ

* [https://learn.microsoft.com/en-us/azure/active-directory/app-proxy/application-proxy](https://learn.microsoft.com/en-us/azure/active-directory/app-proxy/application-proxy)

<details>

<summary><strong>ì œë¡œë¶€í„° ì˜ì›…ì´ ë  ë•Œê¹Œì§€ AWS í•´í‚¹ ë°°ìš°ê¸°</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

HackTricksë¥¼ ì§€ì›í•˜ëŠ” ë‹¤ë¥¸ ë°©ë²•:

* **íšŒì‚¬ê°€ HackTricksì— ê´‘ê³ ë˜ê¸¸ ì›í•˜ê±°ë‚˜** **PDF í˜•ì‹ì˜ HackTricksë¥¼ ë‹¤ìš´ë¡œë“œí•˜ê³  ì‹¶ë‹¤ë©´** [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)ë¥¼ í™•ì¸í•˜ì„¸ìš”!
* [**ê³µì‹ PEASS & HackTricks ìŠ¤ì™œê·¸**](https://peass.creator-spring.com)ë¥¼ êµ¬ë§¤í•˜ì„¸ìš”
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ë¥¼ ë°œê²¬í•˜ì„¸ìš”, ì €í¬ì˜ ë…ì  [**NFTs**](https://opensea.io/collection/the-peass-family) ì»¬ë ‰ì…˜
* **ğŸ’¬ [**Discord ê·¸ë£¹**](https://discord.gg/hRep4RUj7f)ì— ê°€ì…í•˜ê±°ë‚˜ [**í…”ë ˆê·¸ë¨ ê·¸ë£¹**](https://t.me/peass)ì— ê°€ì…í•˜ê±°ë‚˜** **íŠ¸ìœ„í„°** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**ë¥¼ íŒ”ë¡œìš°í•˜ì„¸ìš”.**
* **í•´í‚¹ íŠ¸ë¦­ì„ ê³µìœ í•˜ê³  ì‹¶ë‹¤ë©´** [**HackTricks**](https://github.com/carlospolop/hacktricks) ë° [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github ì €ì¥ì†Œë¡œ PRì„ ì œì¶œí•˜ì„¸ìš”.

</details>
