# Az - ACR

<details>

<summary><strong>æ”¯æŒ HackTricks å¹¶è·å¾—ç¦åˆ©ï¼</strong></summary>

* å¦‚æœæ‚¨æƒ³åœ¨ HackTricks ä¸­çœ‹åˆ°æ‚¨çš„å…¬å¸å¹¿å‘Šï¼Œæˆ–è€…å¦‚æœæ‚¨æƒ³è®¿é—® PEASS çš„æœ€æ–°ç‰ˆæœ¬æˆ–ä¸‹è½½ HackTricks çš„ PDFï¼Œè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)ï¼
* è·å–[**å®˜æ–¹ PEASS å’Œ HackTricks å•†å“**](https://peass.creator-spring.com)
* å‘ç°[**PEASS å®¶æ—**](https://opensea.io/collection/the-peass-family)ï¼Œæˆ‘ä»¬çš„ç‹¬å®¶[**NFT**](https://opensea.io/collection/the-peass-family)æ”¶è—å“
* **åŠ å…¥** ğŸ’¬ [**Discord ç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**Telegram ç¾¤ç»„**](https://t.me/peass) æˆ– **å…³æ³¨**æˆ‘çš„ **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/carlospolopm)**ã€‚**
* **é€šè¿‡å‘** [**HackTricks**](https://github.com/carlospolop/hacktricks) **å’Œ** [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) **github ä»“åº“æäº¤ PR æ¥åˆ†äº«æ‚¨çš„é»‘å®¢æŠ€å·§ã€‚**

</details>

## åŸºæœ¬ä¿¡æ¯

Azure Container Registry (ACR) æ˜¯ç”± Microsoft Azure æä¾›çš„æ‰˜ç®¡æœåŠ¡ï¼Œç”¨äº**å­˜å‚¨å’Œç®¡ç† Docker å®¹å™¨é•œåƒå’Œå…¶ä»–å·¥ä»¶**ã€‚å®ƒæä¾›äº†é›†æˆçš„å¼€å‘å·¥å…·ã€åœ°ç†å¤åˆ¶ã€è¯¸å¦‚åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶å’Œé•œåƒæ‰«æç­‰å®‰å…¨æªæ–½ã€è‡ªåŠ¨æ„å»ºã€Webhooks å’Œè§¦å‘å™¨ä»¥åŠç½‘ç»œéš”ç¦»ç­‰åŠŸèƒ½ã€‚å®ƒä¸ Docker CLI å’Œ Kubernetes ç­‰å¸¸ç”¨å·¥å…·é…åˆä½¿ç”¨ï¼Œå¹¶ä¸å…¶ä»– Azure æœåŠ¡è‰¯å¥½é›†æˆã€‚

### æšä¸¾

è¦æšä¸¾è¯¥æœåŠ¡ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨è„šæœ¬ [**Get-AzACR.ps1**](https://github.com/NetSPI/MicroBurst/blob/master/Misc/Get-AzACR.ps1)ï¼š

{% code overflow="wrap" %}
```bash
# List Docker images inside the registry
IEX (New-Object Net.Webclient).downloadstring("https://raw.githubusercontent.com/NetSPI/MicroBurst/master/Misc/Get-AzACR.ps1")

Set-ItemProperty -Path "HKLM:\SOFTWARE\Microsoft\Internet Explorer\Main" -Name "DisableFirstRunCustomize" -Value 2

Get-AzACR -username <username> -password <password> -registry <corp-name>.azurecr.io
```
{% tab title="az cli" %}
```bash
az acr list --output table
az acr show --name MyRegistry --resource-group MyResourceGroup
```
{% tab title="Az Powershell" %}

## Az ACR

### è·å– ACR ä¿¡æ¯

```powershell
az acr show --name <acr_name> --resource-group <resource_group_name>
```

### åˆ—å‡º ACR ä¸­çš„é•œåƒä»“åº“

```powershell
az acr repository list --name <acr_name> --resource-group <resource_group_name>
```

### åˆ—å‡ºé•œåƒä»“åº“ä¸­çš„é•œåƒ

```powershell
az acr repository show-tags --name <acr_name> --repository <repository_name> --resource-group <resource_group_name>
```

### åˆ é™¤ ACR ä¸­çš„é•œåƒä»“åº“

```powershell
az acr repository delete --name <acr_name> --repository <repository_name> --resource-group <resource_group_name>
```

### åˆ é™¤ ACR ä¸­çš„é•œåƒ

```powershell
az acr repository delete --name <acr_name> --repository <repository_name> --tag <tag_name> --resource-group <resource_group_name>
```

### å¯¼å‡º ACR ä¸­çš„é•œåƒ

```powershell
az acr repository show-manifests --name <acr_name> --repository <repository_name> --resource-group <resource_group_name> --query "[].{digest:digest, tags:tags}" --output table
```

### å¯¼å…¥é•œåƒåˆ° ACR

```powershell
az acr import --name <acr_name> --source <source_image> --image <target_image> --resource-group <resource_group_name>
```

### åˆ›å»º ACR æ³¨å†Œè¡¨

```powershell
az acr create --name <acr_name> --resource-group <resource_group_name> --sku <sku> --admin-enabled true
```

### æ›´æ–° ACR æ³¨å†Œè¡¨

```powershell
az acr update --name <acr_name> --resource-group <resource_group_name> --sku <sku> --admin-enabled true
```

### åˆ é™¤ ACR æ³¨å†Œè¡¨

```powershell
az acr delete --name <acr_name> --resource-group <resource_group_name>
```

### åˆ—å‡º ACR æ³¨å†Œè¡¨

```powershell
az acr list --resource-group <resource_group_name>
```

### åˆ—å‡º ACR æ³¨å†Œè¡¨çš„è®¿é—®å¯†é’¥

```powershell
az acr credential show --name <acr_name> --resource-group <resource_group_name>
```

### åˆ—å‡º ACR æ³¨å†Œè¡¨çš„ç™»å½•æœåŠ¡å™¨

```powershell
az acr show --name <acr_name> --resource-group <resource_group_name> --query "loginServer" --output tsv
```

### åˆ—å‡º ACR æ³¨å†Œè¡¨çš„ç™»å½•å‡­æ®

```powershell
az acr credential show --name <acr_name> --resource-group <resource_group_name> --query "passwords[].value" --output tsv
```

### åˆ—å‡º ACR æ³¨å†Œè¡¨çš„ç™»å½•ç”¨æˆ·å

```powershell
az acr credential show --name <acr_name> --resource-group <resource_group_name> --query "username" --output tsv
```

### åˆ—å‡º ACR æ³¨å†Œè¡¨çš„ç™»å½•å¯†ç 

```powershell
az acr credential show --name <acr_name> --resource-group <resource_group_name> --query "passwords[].value" --output tsv
```

### åˆ—å‡º ACR æ³¨å†Œè¡¨çš„ç™»å½•å‡­æ®

```powershell
az acr credential show --name <acr_name> --resource-group <resource_group_name> --query "passwords[].value" --output tsv
```

### åˆ—å‡º ACR æ³¨å†Œè¡¨çš„ç™»å½•å¯†ç 

```powershell
az acr credential show --name <acr_name> --resource-group <resource_group_name> --query "passwords[].value" --output tsv
```

### åˆ—å‡º ACR æ³¨å†Œè¡¨çš„ç™»å½•å‡­æ®

```powershell
az acr credential show --name <acr_name> --resource-group <resource_group_name> --query "passwords[].value" --output tsv
```

### åˆ—å‡º ACR æ³¨å†Œè¡¨çš„ç™»å½•å¯†ç 

```powershell
az acr credential show --name <acr_name> --resource-group <resource_group_name> --query "passwords[].value" --output tsv
```

### åˆ—å‡º ACR æ³¨å†Œè¡¨çš„ç™»å½•å‡­æ®

```powershell
az acr credential show --name <acr_name> --resource-group <resource_group_name> --query "passwords[].value" --output tsv
```

### åˆ—å‡º ACR æ³¨å†Œè¡¨çš„ç™»å½•å¯†ç 

```powershell
az acr credential show --name <acr_name> --resource-group <resource_group_name> --query "passwords[].value" --output tsv
```

### åˆ—å‡º ACR æ³¨å†Œè¡¨çš„ç™»å½•å‡­æ®

```powershell
az acr credential show --name <acr_name> --resource-group <resource_group_name> --query "passwords[].value" --output tsv
```

### åˆ—å‡º ACR æ³¨å†Œè¡¨çš„ç™»å½•å¯†ç 

```powershell
az acr credential show --name <acr_name> --resource-group <resource_group_name> --query "passwords[].value" --output tsv
```

### åˆ—å‡º ACR æ³¨å†Œè¡¨çš„ç™»å½•å‡­æ®

```powershell
az acr credential show --name <acr_name> --resource-group <resource_group_name> --query "passwords[].value" --output tsv
```

### åˆ—å‡º ACR æ³¨å†Œè¡¨çš„ç™»å½•å¯†ç 

```powershell
az acr credential show --name <acr_name> --resource-group <resource_group_name> --query "passwords[].value" --output tsv
```

### åˆ—å‡º ACR æ³¨å†Œè¡¨çš„ç™»å½•å‡­æ®

```powershell
az acr credential show --name <acr_name> --resource-group <resource_group_name> --query "passwords[].value" --output tsv
```

### åˆ—å‡º ACR æ³¨å†Œè¡¨çš„ç™»å½•å¯†ç 

```powershell
az acr credential show --name <acr_name> --resource-group <resource_group_name> --query "passwords[].value" --output tsv
```

### åˆ—å‡º ACR æ³¨å†Œè¡¨çš„ç™»å½•å‡­æ®

```powershell
az acr credential show --name <acr_name> --resource-group <resource_group_name> --query "passwords[].value" --output tsv
```

### åˆ—å‡º ACR æ³¨å†Œè¡¨çš„ç™»å½•å¯†ç 

```powershell
az acr credential show --name <acr_name> --resource-group <resource_group_name> --query "passwords[].value" --output tsv
```

### åˆ—å‡º ACR æ³¨å†Œè¡¨çš„ç™»å½•å‡­æ®

```powershell
az acr credential show --name <acr_name> --resource-group <resource_group_name> --query "passwords[].value" --output tsv
```

### åˆ—å‡º ACR æ³¨å†Œè¡¨çš„ç™»å½•å¯†ç 

```powershell
az acr credential show --name <acr_name> --resource-group <resource_group_name> --query "passwords[].value" --output tsv
```

### åˆ—å‡º ACR æ³¨å†Œè¡¨çš„ç™»å½•å‡­æ®

```powershell
az acr credential show --name <acr_name> --resource-group <resource_group_name> --query "passwords[].value" --output tsv
```

### åˆ—å‡º ACR æ³¨å†Œè¡¨çš„ç™»å½•å¯†ç 

```powershell
az acr credential show --name <acr_name> --resource-group <resource_group_name> --query "passwords[].value" --output tsv
```

### åˆ—å‡º ACR æ³¨å†Œè¡¨çš„ç™»å½•å‡­æ®

```powershell
az acr credential show --name <acr_name> --resource-group <resource_group_name> --query "passwords[].value" --output tsv
```

### åˆ—å‡º ACR æ³¨å†Œè¡¨çš„ç™»å½•å¯†ç 

```powershell
az acr credential show --name <acr_name> --resource-group <resource_group_name> --query "passwords[].value" --output tsv
```

### åˆ—å‡º ACR æ³¨å†Œè¡¨çš„ç™»å½•å‡­æ®

```powershell
az acr credential show --name <acr_name> --resource-group <resource_group_name> --query "passwords[].value" --output tsv
```

### åˆ—å‡º ACR æ³¨å†Œè¡¨çš„ç™»å½•å¯†ç 

```powershell
az acr credential show --name <acr_name> --resource-group <resource_group_name> --query "passwords[].value" --output tsv
```

### åˆ—å‡º ACR æ³¨å†Œè¡¨çš„ç™»å½•å‡­æ®

```powershell
az acr credential show --name <acr_name> --resource-group <resource_group_name> --query "passwords[].value" --output tsv
```

### åˆ—å‡º ACR æ³¨å†Œè¡¨çš„ç™»å½•å¯†ç 

```powershell
az acr credential show --name <acr_name> --resource-group <resource_group_name> --query "passwords[].value" --output tsv
```

### åˆ—å‡º ACR æ³¨å†Œè¡¨çš„ç™»å½•å‡­æ®

```powershell
az acr credential show --name <acr_name> --resource-group <resource_group_name> --query "passwords[].value" --output tsv
```

### åˆ—å‡º ACR æ³¨å†Œè¡¨çš„ç™»å½•å¯†ç 

```powershell
az acr credential show --name <acr_name> --resource-group <resource_group_name> --query "passwords[].value" --output tsv
```

### åˆ—å‡º ACR æ³¨å†Œè¡¨çš„ç™»å½•å‡­æ®

```powershell
az acr credential show --name <acr_name> --resource-group <resource_group_name> --query "passwords[].value" --output tsv
```

### åˆ—å‡º ACR æ³¨å†Œè¡¨çš„ç™»å½•å¯†ç 

```powershell
az acr credential show --name <acr_name> --resource-group <resource_group_name> --query "passwords[].value" --output tsv
```

### åˆ—å‡º ACR æ³¨å†Œè¡¨çš„ç™»å½•å‡­æ®

```powershell
az acr credential show --name <acr_name> --resource-group <resource_group_name> --query "passwords[].value" --output tsv
```

### åˆ—å‡º ACR æ³¨å†Œè¡¨çš„ç™»å½•å¯†ç 

```powershell
az acr credential show --name <acr_name> --resource-group <resource_group_name> --query "passwords[].value" --output tsv
```

### åˆ—å‡º ACR æ³¨å†Œè¡¨çš„ç™»å½•å‡­æ®

```powershell
az acr credential show --name <acr_name> --resource-group <resource_group_name> --query "passwords[].value" --output tsv
```

### åˆ—å‡º ACR æ³¨å†Œè¡¨çš„ç™»å½•å¯†ç 

```powershell
az acr credential show --name <acr_name> --resource-group <resource_group_name> --query "passwords[].value" --output tsv
```

### åˆ—å‡º ACR æ³¨å†Œè¡¨çš„ç™»å½•å‡­æ®

```powershell
az acr credential show --name <acr_name> --resource-group <resource_group_name> --query "passwords[].value" --output tsv
```

### åˆ—å‡º ACR æ³¨å†Œè¡¨çš„ç™»å½•å¯†ç 

```powershell
az acr credential show --name <acr_name> --resource-group <resource_group_name> --query "passwords[].value" --output tsv
```

### åˆ—å‡º ACR æ³¨å†Œè¡¨çš„ç™»å½•å‡­æ®

```powershell
az acr credential show --name <acr_name> --resource-group <resource_group_name> --query "passwords[].value" --output tsv
```

### åˆ—å‡º ACR æ³¨å†Œè¡¨çš„ç™»å½•å¯†ç 

```powershell
az acr credential show --name <acr_name> --resource-group <resource_group_name> --query "passwords[].value" --output tsv
```

### åˆ—å‡º ACR æ³¨å†Œè¡¨çš„ç™»å½•å‡­æ®

```powershell
az acr credential show --name <acr_name> --resource-group <resource_group_name> --query "passwords[].value" --output tsv
```

### åˆ—å‡º ACR æ³¨å†Œè¡¨çš„ç™»å½•å¯†ç 

```powershell
az acr credential show --name <acr_name> --resource-group <resource_group_name> --query "passwords[].value" --output tsv
```

### åˆ—å‡º ACR æ³¨å†Œè¡¨çš„ç™»å½•å‡­æ®

```powershell
az acr credential show --name <acr_name> --resource-group <resource_group_name> --query "passwords[].value" --output tsv
```

### åˆ—å‡º ACR æ³¨å†Œè¡¨çš„ç™»å½•å¯†ç 

```powershell
az acr credential show --name <acr_name> --resource-group <resource_group_name> --query "passwords[].value" --output tsv
```

### åˆ—å‡º ACR æ³¨å†Œè¡¨çš„ç™»å½•å‡­æ®

```powershell
az acr credential show --name <acr_name> --resource-group <resource_group_name> --query "passwords[].value" --output tsv
```

### åˆ—å‡º ACR æ³¨å†Œè¡¨çš„ç™»å½•å¯†ç 

```powershell
az acr credential show --name <acr_name> --resource-group <resource_group_name> --query "passwords[].value" --output tsv
```

### åˆ—å‡º ACR æ³¨å†Œè¡¨çš„ç™»å½•å‡­æ®

```powershell
az acr credential show --name <acr_name> --resource-group <resource_group_name> --query "passwords[].value" --output tsv
```

### åˆ—å‡º ACR æ³¨å†Œè¡¨çš„ç™»å½•å¯†ç 

```powershell
az acr credential show --name <acr_name> --resource-group <resource_group_name> --query "passwords[].value" --output tsv
```

### åˆ—å‡º ACR æ³¨å†Œè¡¨çš„ç™»å½•å‡­æ®

```powershell
az acr credential show --name <acr_name> --resource-group <resource_group_name> --query "passwords[].value" --output tsv
```

### åˆ—å‡º ACR æ³¨å†Œè¡¨çš„ç™»å½•å¯†ç 

```powershell
az acr credential show --name <acr_name> --resource-group <resource_group_name> --query "passwords[].value" --output tsv
```

### åˆ—å‡º ACR æ³¨å†Œè¡¨çš„ç™»å½•å‡­æ®

```powershell
az acr credential show --name <acr_name> --resource-group <resource_group_name> --query "passwords[].value" --output tsv
```

### åˆ—å‡º ACR æ³¨å†Œè¡¨çš„ç™»å½•å¯†ç 

```powershell
az acr credential show --name <acr_name> --resource-group <resource_group_name> --query "passwords[].value" --output tsv
```

### åˆ—å‡º ACR æ³¨å†Œè¡¨çš„ç™»å½•å‡­æ®

```powershell
az acr credential show --name <acr_name> --resource-group <resource_group_name> --query "passwords[].value" --output tsv
```

### åˆ—å‡º ACR æ³¨å†Œè¡¨çš„ç™»å½•å¯†ç 

```powershell
az acr credential show --name <acr_name> --resource-group <resource_group_name> --query "passwords[].value" --output tsv
```

### åˆ—å‡º ACR æ³¨å†Œè¡¨çš„ç™»å½•å‡­æ®

```powershell
az acr credential show --name <acr_name> --resource-group <resource_group_name> --query "passwords[].value" --output tsv
```

### åˆ—å‡º ACR æ³¨å†Œè¡¨çš„ç™»å½•å¯†ç 

```powershell
az acr credential show --name <acr_name> --resource-group <resource_group_name> --query "passwords[].value" --output tsv
```

### åˆ—å‡º ACR æ³¨å†Œè¡¨çš„ç™»å½•å‡­æ®

```powershell
az acr credential show --name <acr_name> --resource-group <resource_group_name> --query "passwords[].value" --output tsv
```

### åˆ—å‡º ACR æ³¨å†Œè¡¨çš„ç™»å½•å¯†ç 

```powershell
az acr credential show --name <acr_name> --resource-group <resource_group_name> --query "passwords[].value" --output tsv
```

### åˆ—å‡º ACR æ³¨å†Œè¡¨çš„ç™»å½•å‡­æ®

```powershell
az acr credential show --name <acr_name> --resource-group <resource_group_name> --query "passwords[].value" --output tsv
```

### åˆ—å‡º ACR æ³¨å†Œè¡¨çš„ç™»å½•å¯†ç 

```powershell
az acr credential show --name <acr_name> --resource-group <resource_group_name> --query "passwords[].value" --output tsv
```

### åˆ—å‡º ACR æ³¨å†Œè¡¨çš„ç™»å½•å‡­æ®

```powershell
az acr credential show --name <acr_name> --resource-group <resource_group_name> --query "passwords[].value" --output tsv
```

### åˆ—å‡º ACR æ³¨å†Œè¡¨çš„ç™»å½•å¯†ç 

```powershell
az acr credential show --name <acr_name> --resource-group <resource_group_name> --query "passwords[].value" --output tsv
```

### åˆ—å‡º ACR æ³¨å†Œè¡¨çš„ç™»å½•å‡­æ®

```powershell
az acr credential show --name <acr_name> --resource-group <resource_group_name> --query "passwords[].value" --output tsv
```

### åˆ—å‡º ACR æ³¨å†Œè¡¨çš„ç™»å½•å¯†ç 

```powershell
az acr credential show --name <acr_name> --resource-group <resource_group_name> --query "passwords[].value" --output tsv
```

### åˆ—å‡º ACR æ³¨å†Œè¡¨çš„ç™»å½•å‡­æ®

```powershell
az acr credential show --name <acr_name> --resource-group <resource_group_name> --query "passwords[].value" --output tsv
```

### åˆ—å‡º ACR æ³¨å†Œè¡¨çš„ç™»å½•å¯†ç 

```powershell
az acr credential show --name <acr
```powershell
# List all ACRs in your subscription
Get-AzContainerRegistry

# Get a specific ACR
Get-AzContainerRegistry -ResourceGroupName "MyResourceGroup" -Name "MyRegistry"
```
{% endtab %}
{% endtabs %}

ç™»å½•å¹¶ä»æ³¨å†Œè¡¨ä¸­æ‹‰å–é•œåƒ
```bash
docker login <corp-name>.azurecr.io --username <username> --password <password>
docker pull <corp-name>.azurecr.io/<image>:<tag>
```
<details>

<summary><strong>æ”¯æŒHackTrickså¹¶è·å¾—å¥½å¤„ï¼</strong></summary>

* å¦‚æœæ‚¨æƒ³åœ¨HackTricksä¸­çœ‹åˆ°æ‚¨çš„å…¬å¸å¹¿å‘Šï¼Œæˆ–è€…å¦‚æœæ‚¨æƒ³è®¿é—®PEASSçš„æœ€æ–°ç‰ˆæœ¬æˆ–ä¸‹è½½PDFæ ¼å¼çš„HackTricksï¼Œè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)ï¼
* è·å¾—[**å®˜æ–¹PEASSå’ŒHackTrickså‘¨è¾¹äº§å“**](https://peass.creator-spring.com)
* å‘ç°æˆ‘ä»¬çš„ç‹¬å®¶[**NFTs**](https://opensea.io/collection/the-peass-family)æ”¶è—å“ï¼Œ[**The PEASS Family**](https://opensea.io/collection/the-peass-family)
* **åŠ å…¥** ğŸ’¬ [**Discordç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ–è€… [**Telegramç¾¤ç»„**](https://t.me/peass)ï¼Œæˆ–è€…åœ¨**Twitter**ä¸Š**å…³æ³¨**æˆ‘ ğŸ¦ [**@carlospolopm**](https://twitter.com/carlospolopm)**ã€‚**
* é€šè¿‡å‘[**HackTricks**](https://github.com/carlospolop/hacktricks)å’Œ[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) githubä»“åº“æäº¤PRæ¥åˆ†äº«æ‚¨çš„é»‘å®¢æŠ€å·§ã€‚

</details>
