# Az - Podstawowe informacje

<details>

<summary><strong>Dowiedz siÄ™, jak hakowaÄ‡ AWS od zera do bohatera z</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Inne sposoby wsparcia HackTricks:

* JeÅ›li chcesz zobaczyÄ‡ swojÄ… **firmÄ™ reklamowanÄ… w HackTricks** lub **pobraÄ‡ HackTricks w formacie PDF**, sprawdÅº [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* ZdobÄ…dÅº [**oficjalne gadÅ¼ety PEASS & HackTricks**](https://peass.creator-spring.com)
* Odkryj [**RodzinÄ™ PEASS**](https://opensea.io/collection/the-peass-family), naszÄ… kolekcjÄ™ ekskluzywnych [**NFT**](https://opensea.io/collection/the-peass-family)
* **DoÅ‚Ä…cz do** ğŸ’¬ [**grupy Discord**](https://discord.gg/hRep4RUj7f) lub [**grupy telegramowej**](https://t.me/peass) lub **Å›ledÅº** nas na **Twitterze** ğŸ¦ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Podziel siÄ™ swoimi sztuczkami hakerskimi, przesyÅ‚ajÄ…c PR-y do** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>

## Hierarchia organizacji

<figure><img src="../../.gitbook/assets/image (62).png" alt=""><figcaption></figcaption></figure>

### Grupy zarzÄ…dzajÄ…ce

JeÅ›li Twoja organizacja ma **wiele subskrypcji Azure**, moÅ¼esz potrzebowaÄ‡ sposobu na efektywne **zarzÄ…dzanie dostÄ™pem**, politykami i zgodnoÅ›ciÄ… dla tych **subskrypcji**. **Grupy zarzÄ…dzajÄ…ce** zapewniajÄ… **zakres zarzÄ…dzania powyÅ¼ej subskrypcji**.

NaleÅ¼y zauwaÅ¼yÄ‡, Å¼e w pojedynczym katalogu moÅ¼na obsÅ‚uÅ¼yÄ‡ **10 000 grup zarzÄ…dzajÄ…cych**, a drzewo grup zarzÄ…dzajÄ…cych moÅ¼e obsÅ‚ugiwaÄ‡ **do szeÅ›ciu poziomÃ³w gÅ‚Ä™bokoÅ›ci**.

<figure><img src="../../.gitbook/assets/image (76).png" alt=""><figcaption></figcaption></figure>

[Z dokumentacji](https://learn.microsoft.com/en-us/azure/governance/management-groups/overview#root-management-group-for-each-directory): KaÅ¼demu katalogowi przypisana jest pojedyncza **grupa zarzÄ…dzajÄ…ca najwyÅ¼szego poziomu, zwana grupÄ… gÅ‚Ã³wnÄ…**. Grupa gÅ‚Ã³wna jest wbudowana w hierarchiÄ™, aby **wszystkie grupy zarzÄ…dzajÄ…ce i subskrypcje zÅ‚oÅ¼yÅ‚y siÄ™ w niej**. Ta grupa gÅ‚Ã³wna umoÅ¼liwia zastosowanie **globalnych polityk i przypisaÅ„ rÃ³l Azure AD** na poziomie katalogu. [Azure AD **Globalny Administrator** musi podnieÅ›Ä‡ swoje uprawnienia](https://learn.microsoft.com/en-us/azure/role-based-access-control/elevate-access-global-admin) do roli **Administrator dostÄ™pu uÅ¼ytkownika tej grupy gÅ‚Ã³wnej** poczÄ…tkowo. Po podniesieniu uprawnieÅ„ administrator moÅ¼e **przypisaÄ‡ dowolnÄ… rolÄ™ Azure innym uÅ¼ytkownikom lub grupom katalogowym w celu zarzÄ…dzania hierarchiÄ…**. Jako administrator moÅ¼esz przypisaÄ‡ **wÅ‚asne konto jako wÅ‚aÅ›ciciela** grupy gÅ‚Ã³wnej.

Grupa gÅ‚Ã³wna **nie moÅ¼e byÄ‡ przeniesiona ani usuniÄ™ta**, w przeciwieÅ„stwie do innych grup zarzÄ…dzajÄ…cych.

Grupy zarzÄ…dzajÄ…ce zapewniajÄ… zarzÄ…dzanie na poziomie przedsiÄ™biorstwa, niezaleÅ¼nie od rodzaju subskrypcji, jakie moÅ¼esz mieÄ‡. Jednak **wszystkie subskrypcje w ramach jednej grupy zarzÄ…dzajÄ…cej** muszÄ… ufaÄ‡ **temu samemu Azure Active Directory (Azure AD)**.

<figure><img src="../../.gitbook/assets/image (1) (1) (3) (1).png" alt=""><figcaption></figcaption></figure>

### Subskrypcje Azure

W Azure subskrypcja sÅ‚uÅ¼y jako **kontener logiczny** do celÃ³w **udostÄ™pniania** zasobÃ³w biznesowych lub technicznych. Ten kontener przechowuje **szczegÃ³Å‚y zasobÃ³w**, takich jak wirtualne maszyny (VM), bazy danych i inne. Przy tworzeniu zasobu Azure, takiego jak VM, okreÅ›la siÄ™ **powiÄ…zanÄ… z nim subskrypcjÄ™**. Ta struktura uÅ‚atwia delegowanie dostÄ™pu, wykorzystujÄ…c mechanizmy kontroli dostÄ™pu oparte na rolach.

### Grupy zasobÃ³w

[Z dokumentacji:](https://learn.microsoft.com/en-us/azure/azure-resource-manager/management/manage-resource-groups-python?tabs=macos#what-is-a-resource-group) Grupa zasobÃ³w to **kontener**, ktÃ³ry przechowuje **powiÄ…zane zasoby** dla rozwiÄ…zania Azure. Grupa zasobÃ³w moÅ¼e zawieraÄ‡ wszystkie zasoby dla rozwiÄ…zania lub tylko te **zasoby, ktÃ³re chcesz zarzÄ…dzaÄ‡ jako grupÄ™**. OgÃ³lnie rzecz biorÄ…c, dodawaj **zasoby**, ktÃ³re majÄ… **ten sam cykl Å¼ycia**, do tej samej grupy zasobÃ³w, aby moÅ¼na je byÅ‚o Å‚atwo wdraÅ¼aÄ‡, aktualizowaÄ‡ i usuwaÄ‡ jako grupÄ™.

Wszystkie **zasoby** muszÄ… byÄ‡ **wewnÄ…trz grupy zasobÃ³w** i mogÄ… naleÅ¼eÄ‡ tylko do jednej grupy, a jeÅ›li grupa zasobÃ³w zostanie usuniÄ™ta, wszystkie zasoby w niej rÃ³wnieÅ¼ zostanÄ… usuniÄ™te.

### Jednostki administracyjne

[Z dokumentacji:](https://learn.microsoft.com/en-us/entra/identity/role-based-access-control/admin-units-manage) Jednostki administracyjne pozwalajÄ… na **podziaÅ‚** organizacji na **dowolne jednostki**, a nastÄ™pnie **przypisanie okreÅ›lonym administratorom**, ktÃ³rzy mogÄ… **zarzÄ…dzaÄ‡ tylko czÅ‚onkami** tej jednostki. Na przykÅ‚ad moÅ¼na uÅ¼yÄ‡ jednostek administracyjnych do delegowania uprawnieÅ„ do administratorÃ³w kaÅ¼dej szkoÅ‚y na duÅ¼ej uczelni, aby mogli kontrolowaÄ‡ dostÄ™p, zarzÄ…dzaÄ‡ uÅ¼ytkownikami i ustawiaÄ‡ polityki tylko w Wydziale InÅ¼ynierii.

Tylko **uÅ¼ytkownicy**, **grupy** i **urzÄ…dzenia** mogÄ… byÄ‡ **czÅ‚onkami** jednostki **administracyjnej**.

Dlatego **jednostka administracyjna** bÄ™dzie **zawieraÄ‡** pewne **czÅ‚onkÃ³w**, a inni **podmioty** zostanÄ… **przypisane uprawnienia** do tej **jednostki administracyjnej**, ktÃ³re mogÄ… wykorzystaÄ‡ do **zarzÄ…dzania czÅ‚onkami** jednostki administracyjnej.

## Azure vs Azure AD vs Azure AD Domain Services

Warto zauwaÅ¼yÄ‡, Å¼e **Azure AD** to usÅ‚uga **wewnÄ…trz** **Azure**. **Azure** to platforma chmurowa firmy Microsoft, podczas gdy **Azure AD** to usÅ‚uga **toÅ¼samoÅ›ciowa dla przedsiÄ™biorstw** w Azure.\
Ponadto, **Azure AD nie jest tak jak Windows Active Directory**, to usÅ‚uga toÅ¼samoÅ›ciowa, ktÃ³ra dziaÅ‚a w zupeÅ‚nie inny sposÃ³b. JeÅ›li chcesz uruchomiÄ‡ **kontroler domeny w Azure** dla swojego Å›rodowiska Windows Active Directory, musisz uÅ¼yÄ‡ **Azure AD Domain Services**.

## Podmioty

Azure obsÅ‚uguje rÃ³Å¼ne rodzaje podmiotÃ³w:

* **UÅ¼ytkownik**: ZwykÅ‚a **osoba** z danymi uwierzytelniajÄ…cymi do dostÄ™pu.
* **Grupa**: **Grupa podmiotÃ³w** zarzÄ…dzana razem. **Uprawnienia** przyznane grupom sÄ… **dziedziczone** przez jej **czÅ‚onkÃ³w**.
* **Podmiot usÅ‚ugi/Aplikacje przedsiÄ™biorstwowe**: Jest to **toÅ¼samoÅ›Ä‡** utworzona do **uÅ¼ywania** z **aplikacjami**, usÅ‚ugami hostowanymi i narzÄ™dziami automatycznymi do dostÄ™pu do zasobÃ³w Azure. Ten dostÄ™p jest **ograniczony przez przypisane role** do podmiotu usÅ‚ugi, dajÄ…c
## Role i uprawnienia

**Role** sÄ… **przypisywane** do **podmiotÃ³w** na **zakresie**: `podmiot -[MA ROLÄ˜]->(zakres)`

**Role** przypisane do **grup** sÄ… **dziedziczone** przez wszystkich **czÅ‚onkÃ³w** grupy.

W zaleÅ¼noÅ›ci od zakresu, do ktÃ³rego przypisano rolÄ™, rola moÅ¼e byÄ‡ dziedziczona przez **inne zasoby** wewnÄ…trz kontenera zakresu. Na przykÅ‚ad, jeÅ›li uÅ¼ytkownik A ma **rolÄ™ w subskrypcji**, bÄ™dzie miaÅ‚ tÄ™ **rolÄ™ we wszystkich grupach zasobÃ³w** wewnÄ…trz subskrypcji i we **wszystkich zasobach** w grupie zasobÃ³w.

### **Klasyczne role**

| **WÅ‚aÅ›ciciel**                | <ul><li>PeÅ‚ny dostÄ™p do wszystkich zasobÃ³w</li><li>MoÅ¼e zarzÄ…dzaÄ‡ dostÄ™pem dla innych uÅ¼ytkownikÃ³w</li></ul> | Wszystkie typy zasobÃ³w |
| ----------------------------- | ---------------------------------------------------------------------------------------- | ------------------ |
| **WspÃ³Å‚pracownik**            | <ul><li>PeÅ‚ny dostÄ™p do wszystkich zasobÃ³w</li><li>Nie moÅ¼e zarzÄ…dzaÄ‡ dostÄ™pem</li></ul>              | Wszystkie typy zasobÃ³w |
| **Czytelnik**                 | â€¢ WyÅ›wietlanie wszystkich zasobÃ³w                                                                     | Wszystkie typy zasobÃ³w |
| **Administrator dostÄ™pu uÅ¼ytkownika** | <ul><li>WyÅ›wietlanie wszystkich zasobÃ³w</li><li>MoÅ¼e zarzÄ…dzaÄ‡ dostÄ™pem dla innych uÅ¼ytkownikÃ³w</li></ul>           | Wszystkie typy zasobÃ³w |

### Wbudowane role

[Z dokumentacji: ](https://learn.microsoft.com/en-us/azure/role-based-access-control/built-in-roles)[Azure role-based access control (Azure RBAC)](https://learn.microsoft.com/en-us/azure/role-based-access-control/overview) ma kilka wbudowanych rÃ³l Azure, ktÃ³re moÅ¼na przypisaÄ‡ do uÅ¼ytkownikÃ³w, grup, podmiotÃ³w usÅ‚ugowych i zarzÄ…dzanych toÅ¼samoÅ›ci. Przypisania rÃ³l sÄ… sposobem kontrolowania **dostÄ™pu do zasobÃ³w Azure**. JeÅ›li wbudowane role nie speÅ‚niajÄ… konkretnych potrzeb Twojej organizacji, moÅ¼esz utworzyÄ‡ [**wÅ‚asne role Azure**](https://learn.microsoft.com/en-us/azure/role-based-access-control/custom-roles)**.**

**Wbudowane** role dotyczÄ… tylko **zasobÃ³w**, dla ktÃ³rych sÄ… **przeznaczone**, na przykÅ‚ad sprawdÅº te 2 przykÅ‚ady **wbudowanych rÃ³l dla zasobÃ³w obliczeniowych**:

| [Czytelnik kopii zapasowej dysku](https://learn.microsoft.com/en-us/azure/role-based-access-control/built-in-roles#disk-backup-reader)                 | Udziela uprawnieÅ„ do kopii zapasowej dysku.      | 3e5e47e6-65f7-47ef-90b5-e5dd4d455f24 |
| ----------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------- | ------------------------------------ |
| [UÅ¼ytkownik logowania wirtualnej maszyny](https://learn.microsoft.com/en-us/azure/role-based-access-control/built-in-roles#virtual-machine-user-login) | WyÅ›wietlanie maszyn wirtualnych w portalu i logowanie jako zwykÅ‚y uÅ¼ytkownik. | fb879df8-f326-4884-b1cf-06f3ad86be52 |

Te role mogÄ… byÄ‡ rÃ³wnieÅ¼ przypisywane do kontenerÃ³w logicznych (takich jak grupy zarzÄ…dzania, subskrypcje i grupy zasobÃ³w), a dotkniÄ™te podmioty bÄ™dÄ… miaÅ‚y je **dla zasobÃ³w wewnÄ…trz tych kontenerÃ³w**.

* ZnajdÅº tutaj listÄ™ [**wszystkich wbudowanych rÃ³l Azure**](https://learn.microsoft.com/en-us/azure/role-based-access-control/built-in-roles).
* ZnajdÅº tutaj listÄ™ [**wszystkich wbudowanych rÃ³l Azure AD**](https://learn.microsoft.com/en-us/azure/active-directory/roles/permissions-reference).

### WÅ‚asne role

Azure umoÅ¼liwia rÃ³wnieÅ¼ tworzenie [**wÅ‚asnych rÃ³l**](https://learn.microsoft.com/en-us/azure/role-based-access-control/custom-roles) z potrzebnymi uprawnieniami uÅ¼ytkownika.

### Odmowa dostÄ™pu

* Aby **podmiot miaÅ‚ dostÄ™p do zasobu**, musi mieÄ‡ przypisanÄ… mu rolÄ™ (w dowolny sposÃ³b) **udzielajÄ…cÄ… mu tego uprawnienia**.
* WyraÅºne **przypisanie roli odmowy ma pierwszeÅ„stwo** nad rolÄ… udzielajÄ…cÄ… uprawnienia.

<figure><img src="../../.gitbook/assets/image (32).png" alt=""><figcaption></figcaption></figure>

### Globalny administrator

UÅ¼ytkownicy z rolÄ… Globalny administrator majÄ… moÅ¼liwoÅ›Ä‡ '**podniesienia' do roli Administrator dostÄ™pu uÅ¼ytkownika Azure** w gÅ‚Ã³wnej grupie zarzÄ…dzania. Oznacza to, Å¼e Globalny administrator bÄ™dzie mÃ³gÅ‚ zarzÄ…dzaÄ‡ dostÄ™pem **do wszystkich subskrypcji i grup zarzÄ…dzania Azure.**\
Podniesienie to moÅ¼na wykonaÄ‡ na koÅ„cu strony: [https://portal.azure.com/#view/Microsoft\_AAD\_IAM/ActiveDirectoryMenuBlade/\~/Properties](https://portal.azure.com/#view/Microsoft\_AAD\_IAM/ActiveDirectoryMenuBlade/\~/Properties)

<figure><img src="../../.gitbook/assets/image (41).png" alt=""><figcaption></figcaption></figure>

### Zasady Azure

Zasady Azure to zestaw **reguÅ‚ i przepisÃ³w w usÅ‚udze Microsoft Azure**, usÅ‚udze obliczeniowej w chmurze, ktÃ³re pomagajÄ… zarzÄ…dzaÄ‡ i egzekwowaÄ‡ standardy organizacyjne oraz oceniaÄ‡ zgodnoÅ›Ä‡ na duÅ¼Ä… skalÄ™. Te zasady narzucajÄ… rÃ³Å¼ne reguÅ‚y na Twoje **zasoby Azure**, zapewniajÄ…c, Å¼e te zasoby pozostajÄ… zgodne z korporacyjnymi standardami i umowami o poziomie usÅ‚ug.

Zasady Azure sÄ… kluczowe dla zarzÄ…dzania chmurÄ… i bezpieczeÅ„stwa, pomagajÄ…c zapewniÄ‡, Å¼e zasoby sÄ… uÅ¼ywane prawidÅ‚owo i efektywnie, oraz Å¼e sÄ… zgodne z zewnÄ™trznymi przepisami i wewnÄ™trznymi politykami.\
PrzykÅ‚ady:

1. **Zapewnienie zgodnoÅ›ci z okreÅ›lonymi regionami Azure**: Ta zasada zapewnia, Å¼e wszystkie zasoby sÄ… wdraÅ¼ane w okreÅ›lonych regionach Azure. Na przykÅ‚ad firma moÅ¼e chcieÄ‡ zapewniÄ‡, Å¼e wszystkie jej dane sÄ… przechowywane w Europie zgodnie z przepisami GDPR.
2. **Wymuszanie standardÃ³w nazewnictwa**: Zasady mogÄ… wymuszaÄ‡ konwencje nazewnicze dla zasobÃ³w Azure. Pomaga to w organizacji i Å‚atwym identyfikowaniu zasobÃ³w na podstawie ich nazw, co jest przydatne w duÅ¼ych Å›rodowiskach.
3. **Ograniczanie pewnych typÃ³w zasobÃ³w**: Ta zasada moÅ¼e ograniczaÄ‡ tworzenie pewnych typÃ³w zasobÃ³w. Na przykÅ‚ad moÅ¼na ustawiÄ‡ zasadÄ™ uniemoÅ¼liwiajÄ…cÄ… tworzenie drogich typÃ³w zasobÃ³w, takich jak niektÃ³re rozmiary maszyn wirtualnych, w celu kontroli kosztÃ³w.
4. **Wymuszanie polityk tagowania**: Tagi to pary klucz-wartoÅ›Ä‡ przypisane do zasobÃ³w Azure, uÅ¼ywane do zarzÄ…dzania zasobami. Zasady mogÄ… wymuszaÄ‡ obecnoÅ›Ä‡ okreÅ›lonych tagÃ³w lub okreÅ›lonych wartoÅ›ci dla wszystkich zasobÃ³w. Jest to przydatne do Å›ledzenia kosztÃ³w, wÅ‚aÅ›ciciela lub kategoryzacji zasobÃ³w.
5. **Ograniczanie publicznego dostÄ™pu do zasobÃ³w**: Zasady mogÄ… wymuszaÄ‡, aby pewne zasoby, takie jak konta magazynowe lub bazy danych, nie miaÅ‚y publicznych punktÃ³w koÅ„cowych, zapewniajÄ…c, Å¼e sÄ… one dostÄ™pne tylko w ramach sieci organizacji.
6. **Automatyczne stosowanie ustawieÅ„ zabezpieczeÅ„**: Zasady mogÄ… byÄ‡ uÅ¼ywane do automatycznego stosowania ustawieÅ„ zabezpieczeÅ„ dla zasobÃ³w, takich jak przypisanie okreÅ›lonej grupy zabezpieczeÅ„ sieciowych do wszystkich maszyn wirtualnych lub zapewnienie, Å¼e wszystkie konta magazynowe uÅ¼ywajÄ… szyfrowania.

NaleÅ¼y zauwaÅ¼yÄ‡, Å¼e zasady Azure moÅ¼na przypisaÄ‡ do dowolnego poziomu hierarchii Azure, ale sÄ… **najczÄ™Å›ciej uÅ¼ywane w gÅ‚Ã³wnej grupie zarzÄ…dzania** lub innych grupach zarzÄ…dzania.

### Zakres uprawnieÅ„

W
### DomyÅ›lne uprawnienia uÅ¼ytkownika

Podstawowy uÅ¼ytkownik bÄ™dzie miaÅ‚ pewne **domyÅ›lne uprawnienia** do wyliczenia niektÃ³rych czÄ™Å›ci AzureAD:

* Odczyt wszystkich uÅ¼ytkownikÃ³w, grup, aplikacji, urzÄ…dzeÅ„, rÃ³l, subskrypcji i ich publicznych wÅ‚aÅ›ciwoÅ›ci
* Zapraszanie goÅ›ci (_moÅ¼e zostaÄ‡ wyÅ‚Ä…czone_)
* Tworzenie grup zabezpieczeÅ„
* Odczyt nieukrytych przynaleÅ¼noÅ›ci do grup
* Dodawanie goÅ›ci do grup wÅ‚asnych
* Tworzenie nowej aplikacji (_moÅ¼e zostaÄ‡ wyÅ‚Ä…czone_)
* Dodawanie do 50 urzÄ…dzeÅ„ do Azure (_moÅ¼e zostaÄ‡ wyÅ‚Ä…czone_)

MoÅ¼esz zobaczyÄ‡ peÅ‚nÄ… [listÄ™ **domyÅ›lnych uprawnieÅ„ uÅ¼ytkownikÃ³w** w dokumentacji](https://learn.microsoft.com/en-us/azure/active-directory/fundamentals/users-default-permissions). Ponadto, zauwaÅ¼, Å¼e na tej liÅ›cie moÅ¼na rÃ³wnieÅ¼ zobaczyÄ‡ **listÄ™ domyÅ›lnych uprawnieÅ„ goÅ›ci**.

{% hint style="info" %}
PamiÄ™taj, Å¼e do wyliczenia zasobÃ³w Azure uÅ¼ytkownik potrzebuje wyraÅºnego przyznania uprawnienia.
{% endhint %}

### ZarzÄ…dzanie toÅ¼samoÅ›ciÄ… uprzywilejowanÄ… (PIM)

ZarzÄ…dzanie toÅ¼samoÅ›ciÄ… uprzywilejowanÄ… (PIM) w Azure to narzÄ™dzie, ktÃ³re **zarzÄ…dza, kontroluje i monitoruje uprzywilejowany dostÄ™p** w Azure Active Directory i Azure. ZwiÄ™ksza bezpieczeÅ„stwo, zapewniajÄ…c dostÄ™p uprzywilejowany **w trybie natychmiastowym i ograniczonym czasowo**, **wymuszajÄ…c przepÅ‚ywy zatwierdzania i wymagajÄ…c dodatkowej autoryzacji**. Ta metoda minimalizuje ryzyko nieautoryzowanego dostÄ™pu, zapewniajÄ…c, Å¼e podwyÅ¼szone uprawnienia sÄ… udzielane tylko wtedy, gdy sÄ… potrzebne i na okreÅ›lony czas.

## Tokeny uwierzytelniajÄ…ce

W OIDC uÅ¼ywane sÄ… **trzy rodzaje tokenÃ³w**:

* [**Tokeny dostÄ™pu**](https://learn.microsoft.com/en-us/azure/active-directory/develop/access-tokens)**:** Klient przedstawia ten token serwerowi zasobÃ³w, aby **uzyskaÄ‡ dostÄ™p do zasobÃ³w**. MoÅ¼e byÄ‡ uÅ¼ywany tylko dla okreÅ›lonej kombinacji uÅ¼ytkownika, klienta i zasobu i **nie moÅ¼e zostaÄ‡ wycofany** do momentu wygaÅ›niÄ™cia - domyÅ›lnie jest to 1 godzina. WykrywalnoÅ›Ä‡ jest niska przy uÅ¼yciu tego tokena.
* **Tokeny ID**: Klient otrzymuje ten **token od serwera autoryzacji**. Zawiera podstawowe informacje o uÅ¼ytkowniku. Jest **powiÄ…zany z okreÅ›lonÄ… kombinacjÄ… uÅ¼ytkownika i klienta**.
* **Tokeny odÅ›wieÅ¼ania**: UdostÄ™pniane klientowi wraz z tokenem dostÄ™pu. SÅ‚uÅ¼Ä… do **uzyskiwania nowych tokenÃ³w dostÄ™pu i ID**. SÄ… powiÄ…zane z okreÅ›lonÄ… kombinacjÄ… uÅ¼ytkownika i klienta i mogÄ… zostaÄ‡ wycofane. DomyÅ›lny czas wygaÅ›niÄ™cia wynosi **90 dni** dla nieaktywnych tokenÃ³w odÅ›wieÅ¼ania i **brak wygaÅ›niÄ™cia dla aktywnych tokenÃ³w**.

{% hint style="warning" %}
Informacje dotyczÄ…ce **dostÄ™pu warunkowego** sÄ… **przechowywane** wewnÄ…trz **JWT**. JeÅ›li wiÄ™c Å¼Ä…dasz **tokena z dozwolonego adresu IP**, to **IP** to bÄ™dzie **przechowywane** w tokenie, a nastÄ™pnie moÅ¼esz uÅ¼yÄ‡ tego tokenu z **nieautoryzowanego adresu IP, aby uzyskaÄ‡ dostÄ™p do zasobÃ³w**.
{% endhint %}

SprawdÅº nastÄ™pujÄ…cÄ… stronÄ™, aby dowiedzieÄ‡ siÄ™, jak rÃ³Å¼nymi sposobami **Å¼Ä…daÄ‡ tokenÃ³w dostÄ™pu** i zalogowaÄ‡ siÄ™ za ich pomocÄ…:

{% content-ref url="az-azuread/" %}
[az-azuread](az-azuread/)
{% endcontent-ref %}

NajczÄ™Å›ciej uÅ¼ywane punkty koÅ„cowe API to:

* **Azure Resource Manager** (ARM): management.azure.com
* **Microsoft Graph**: graph.microsoft.com (Azure AD Graph, ktÃ³ry jest przestarzaÅ‚y, to graph.windows.net)

## OdwoÅ‚ania

* [https://learn.microsoft.com/en-us/azure/governance/management-groups/overview](https://learn.microsoft.com/en-us/azure/governance/management-groups/overview)
* [https://learn.microsoft.com/en-us/azure/cloud-adoption-framework/ready/azure-best-practices/organize-subscriptions](https://learn.microsoft.com/en-us/azure/cloud-adoption-framework/ready/azure-best-practices/organize-subscriptions)
* [https://abouttmc.com/glossary/azure-subscription/#:\~:text=An%20Azure%20subscription%20is%20a,the%20subscription%20it%20belongs%20to.](https://abouttmc.com/glossary/azure-subscription/)
* [https://learn.microsoft.com/en-us/azure/role-based-access-control/overview#how-azure-rbac-determines-if-a-user-has-access-to-a-resource](https://learn.microsoft.com/en-us/azure/role-based-access-control/overview#how-azure-rbac-determines-if-a-user-has-access-to-a-resource)

<details>

<summary><strong>Naucz siÄ™ hakowaÄ‡ AWS od zera do bohatera z</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Inne sposoby wsparcia HackTricks:

* JeÅ›li chcesz zobaczyÄ‡ swojÄ… **firmÄ™ reklamowanÄ… w HackTricks** lub **pobraÄ‡ HackTricks w formacie PDF**, sprawdÅº [**PLAN SUBSKRYPCYJNY**](https://github.com/sponsors/carlospolop)!
* ZdobÄ…dÅº [**oficjalne gadÅ¼ety PEASS & HackTricks**](https://peass.creator-spring.com)
* Odkryj [**RodzinÄ™ PEASS**](https://opensea.io/collection/the-peass-family), naszÄ… kolekcjÄ™ ekskluzywnych [**NFT**](https://opensea.io/collection/the-peass-family)
* **DoÅ‚Ä…cz do** ğŸ’¬ [**grupy Discord**](https://discord.gg/hRep4RUj7f) lub [**grupy telegramowej**](https://t.me/peass) lub **Å›ledÅº** nas na **Twitterze** ğŸ¦ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Podziel siÄ™ swoimi trikami hakerskimi, przesyÅ‚ajÄ…c PR do** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
