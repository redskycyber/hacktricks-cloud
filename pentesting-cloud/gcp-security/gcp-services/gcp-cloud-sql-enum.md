# GCP - Cloud SQL Enum

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong> ile sÄ±fÄ±rdan kahramana kadar AWS hacklemeyi Ã¶ÄŸrenin!</summary>

HackTricks'Ä± desteklemenin diÄŸer yollarÄ±:

- **Åirketinizi HackTricks'te reklamÄ±nÄ±zÄ± gÃ¶rmek istiyorsanÄ±z** veya **HackTricks'i PDF olarak indirmek istiyorsanÄ±z** [**ABONELÄ°K PLANLARI**](https://github.com/sponsors/carlospolop)'na gÃ¶z atÄ±n!
- [**Resmi PEASS & HackTricks Ã¼rÃ¼nleri**](https://peass.creator-spring.com)'ni edinin
- [**PEASS Ailesi'ni**](https://opensea.io/collection/the-peass-family) keÅŸfedin, Ã¶zel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family) koleksiyonumuz
- ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) katÄ±lÄ±n veya beni **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/carlospolopm)'de **takip edin**.
- **Hacking pÃ¼f noktalarÄ±nÄ±zÄ± paylaÅŸarak** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud)'a PR gÃ¶nderin

</details>

## Temel Bilgiler

Google Cloud SQL, MySQL, PostgreSQL ve SQL Server gibi iliÅŸkisel veritabanlarÄ±nÄ± **kurmayÄ±, sÃ¼rdÃ¼rmeyi ve yÃ¶netmeyi basitleÅŸtiren yÃ¶netilen bir hizmettir**. Bu hizmet, donanÄ±m saÄŸlama, veritabanÄ± kurulumu, yamalama ve yedeklemeler gibi gÃ¶revlerle uÄŸraÅŸma ihtiyacÄ±nÄ± ortadan kaldÄ±rarak Google Cloud Platform Ã¼zerinde Ã§alÄ±ÅŸÄ±r.

Google Cloud SQL'in temel Ã¶zellikleri ÅŸunlardÄ±r:

1. **Tamamen YÃ¶netilen**: Google Cloud SQL tamamen yÃ¶netilen bir hizmettir, yani Google yamalama, gÃ¼ncelleme, yedekleme ve yapÄ±landÄ±rma gibi veritabanÄ± bakÄ±m gÃ¶revlerini Ã¼stlenir.
2. **Ã–lÃ§eklenebilirlik**: VeritabanÄ±nÄ±zÄ±n depolama kapasitesini ve hesaplama kaynaklarÄ±nÄ± genellikle kesintisiz bir ÅŸekilde Ã¶lÃ§eklendirme olanaÄŸÄ± saÄŸlar.
3. **YÃ¼ksek KullanÄ±labilirlik**: BÃ¶lge veya Ã¶rnek arÄ±zalarÄ±na dayanÄ±klÄ± olacak ÅŸekilde yÃ¼ksek kullanÄ±labilirlik yapÄ±landÄ±rmalarÄ± sunar.
4. **GÃ¼venlik**: Veri ÅŸifreleme, Kimlik ve EriÅŸim YÃ¶netimi (IAM) kontrolleri ve Ã¶zel IP'ler ve VPC kullanarak aÄŸ izolasyonu gibi gÃ¼Ã§lÃ¼ gÃ¼venlik Ã¶zellikleri sunar.
5. **Yedekler ve Kurtarma**: Otomatik yedeklemeleri ve zamana gÃ¶re kurtarma desteÄŸini destekleyerek verilerinizi korumanÄ±za ve geri yÃ¼klemenize yardÄ±mcÄ± olur.
6. **Entegrasyon**: DiÄŸer Google Cloud hizmetleriyle sorunsuz entegre olur, uygulamalarÄ± oluÅŸturmak, daÄŸÄ±tmak ve yÃ¶netmek iÃ§in kapsamlÄ± bir Ã§Ã¶zÃ¼m sunar.
7. **Performans**: VeritabanÄ± performansÄ±nÄ± izlemek, sorun gidermek ve iyileÅŸtirmek iÃ§in performans metrikleri ve teÅŸhisler sunar.

### Åifre

Web konsolda Cloud SQL, veritabanÄ±nÄ±n **ÅŸifresini belirlemeye** izin verir, ayrÄ±ca bir oluÅŸturma Ã¶zelliÄŸi de bulunur, ancak en Ã¶nemlisi, **MySQL**'e **boÅŸ bir ÅŸifre bÄ±rakÄ±lmasÄ±na izin verir ve tÃ¼mÃ¼ne sadece "a" karakterini ÅŸifre olarak belirlemeye izin verir**:

<figure><img src="../../../.gitbook/assets/image (1) (1) (1) (1) (1) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

AyrÄ±ca, **uzunluk**, **karmaÅŸÄ±klÄ±k**, **yeniden kullanÄ±mÄ± devre dÄ±ÅŸÄ± bÄ±rakma** ve **kullanÄ±cÄ± adÄ±nÄ± ÅŸifrede devre dÄ±ÅŸÄ± bÄ±rakma** gerektiren bir ÅŸifre politikasÄ± yapÄ±landÄ±rÄ±labilir. TÃ¼mÃ¼ varsayÄ±lan olarak devre dÄ±ÅŸÄ± bÄ±rakÄ±lmÄ±ÅŸtÄ±r.

**SQL Server**, **Active Directory Kimlik DoÄŸrulamasÄ±** ile yapÄ±landÄ±rÄ±labilir.

### BÃ¶lge KullanÄ±labilirliÄŸi

VeritabanÄ±, **1 bÃ¶lgede veya birden fazla bÃ¶lgede kullanÄ±labilir**, elbette Ã¶nemli veritabanlarÄ±nÄ±n birden fazla bÃ¶lgede olmasÄ± Ã¶nerilir.

### Åifreleme

VarsayÄ±lan olarak Google tarafÄ±ndan yÃ¶netilen bir ÅŸifreleme anahtarÄ± kullanÄ±lÄ±r, ancak ayrÄ±ca **MÃ¼ÅŸteri tarafÄ±ndan yÃ¶netilen bir ÅŸifreleme anahtarÄ± (CMEK)** seÃ§mek mÃ¼mkÃ¼ndÃ¼r.

### BaÄŸlantÄ±lar

- **Ã–zel IP**: VPC aÄŸÄ±nÄ± belirtin ve veritabanÄ± aÄŸ iÃ§inde Ã¶zel bir IP alÄ±r
- **Genel IP**: VeritabanÄ± genel bir IP alÄ±r, ancak varsayÄ±lan olarak kimse baÄŸlanamaz
- **YetkilendirilmiÅŸ aÄŸlar**: VeritabanÄ±na baÄŸlanmaya izin verilmesi gereken genel **IP aralÄ±klarÄ±nÄ± belirtin**
- **Ã–zel Yol**: DB bir VPC'ye baÄŸlÄ±ysa, bu seÃ§eneÄŸi etkinleÅŸtirmek ve **BigQuery gibi diÄŸer GCP hizmetlerine eriÅŸim saÄŸlamak mÃ¼mkÃ¼ndÃ¼r**

<figure><img src="../../../.gitbook/assets/image (1) (1) (1) (1) (1) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

### Veri Koruma

- **GÃ¼nlÃ¼k yedekler**: Otomatik gÃ¼nlÃ¼k yedeklemeler gerÃ§ekleÅŸtirir ve saklamak istediÄŸiniz yedek sayÄ±sÄ±nÄ± belirtir.
- **Zamana GÃ¶re Kurtarma**: Belirli bir zamandaki verileri, saniyenin bir kesirine kadar geri yÃ¼klemenize olanak tanÄ±r.
- **Silme KorumasÄ±**: EtkinleÅŸtirildiÄŸinde, bu Ã¶zellik devre dÄ±ÅŸÄ± bÄ±rakÄ±lana kadar DB silinemez

### NumaralandÄ±rma
```bash
# Get SQL instances
gcloud sql instances list
gcloud sql instances describe <inst-name> # get IPs, CACert, settings

# Get database names inside an instance (like information_schema, sys...)
gcloud sql databases list --instance <intance-name>
gcloud sql databases describe <db-name> --instance <intance-name>

# Get usernames inside the db instance
gcloud sql users list --instance <intance-name>

# Backups
gcloud sql backups list --instance <intance-name>
gcloud sql backups describe <backup-name> --instance <intance-name>
```
### Kimlik DoÄŸrulamasÄ±z SÄ±ralama

{% content-ref url="../gcp-unaunthenticated-enum-and-access/gcp-cloud-sql-unauthenticated-enum.md" %}
[gcp-cloud-sql-unauthenticated-enum.md](../gcp-unaunthenticated-enum-and-access/gcp-cloud-sql-unauthenticated-enum.md)
{% endcontent-ref %}

### SonrasÄ± SÃ¶mÃ¼rÃ¼

{% content-ref url="../gcp-post-exploitation/gcp-cloud-sql-post-exploitation.md" %}
[gcp-cloud-sql-post-exploitation.md](../gcp-post-exploitation/gcp-cloud-sql-post-exploitation.md)
{% endcontent-ref %}

### KalÄ±cÄ±lÄ±k

{% content-ref url="../gcp-persistence/gcp-cloud-sql-persistence.md" %}
[gcp-cloud-sql-persistence.md](../gcp-persistence/gcp-cloud-sql-persistence.md)
{% endcontent-ref %}

<details>

<summary><strong>SÄ±fÄ±rdan Kahraman'a AWS hackleme Ã¶ÄŸrenin</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

HackTricks'Ä± desteklemenin diÄŸer yollarÄ±:

* **Åirketinizi HackTricks'te reklamÄ±nÄ± gÃ¶rmek istiyorsanÄ±z** veya **HackTricks'i PDF olarak indirmek istiyorsanÄ±z** [**ABONELÄ°K PLANLARI**](https://github.com/sponsors/carlospolop)'na gÃ¶z atÄ±n!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* [**The PEASS Family'yi**](https://opensea.io/collection/the-peass-family) keÅŸfedin, Ã¶zel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family) koleksiyonumuz
* **ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) katÄ±lÄ±n veya [**telegram grubuna**](https://t.me/peass) veya beni **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/carlospolopm)** takip edin.**
* **Hacking pÃ¼f noktalarÄ±nÄ±zÄ± paylaÅŸarak PR'lar gÃ¶ndererek** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github depolarÄ±na katkÄ±da bulunun.

</details>
