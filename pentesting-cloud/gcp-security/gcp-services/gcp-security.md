# GCP - Bezbednost

<details>

<summary><strong>Nau캜ite hakovanje AWS-a od nule do heroja sa</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Drugi na캜ini podr코ke HackTricks-u:

* Ako 쬰lite da vidite svoju **kompaniju reklamiranu na HackTricks-u** ili da **preuzmete HackTricks u PDF formatu** proverite [**PLANOVE ZA PRIJAVU**](https://github.com/sponsors/carlospolop)!
* Nabavite [**zvani캜ni PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Otkrijte [**Porodicu PEASS**](https://opensea.io/collection/the-peass-family), na코u kolekciju ekskluzivnih [**NFT-ova**](https://opensea.io/collection/the-peass-family)
* **Pridru쬴te se** 游눫 [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili nas **pratite** na **Twitteru** 游냕 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Podelite svoje hakovanje trikove slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>

## Osnovne informacije

Google Cloud Platform (GCP) Security obuhvata **kompletnu kolekciju alata** i praksi dizajniranih da osiguraju **bezbednost** resursa i podataka unutar Google Cloud okru쬰nja, podeljenih u 캜etiri glavne sekcije: **Security Command Center, Detections and Controls, Data Protection i Zero Trust.**

## **Security Command Center**

Google Cloud Platform (GCP) Security Command Center (SCC) je **alat za upravljanje bezbedno코캖u i rizicima za GCP** resurse koji omogu캖ava organizacijama da steknu uvid i kontrolu nad svojim cloud resursima. Poma쬰 u **otkrivanju i reagovanju na pretnje** pru쬬ju캖i sveobuhvatnu bezbednosnu analitiku, **identifikuju캖i lo코e konfiguracije**, osiguravaju캖i **usagla코enost** sa bezbednosnim standardima i **integraciju** sa drugim bezbednosnim alatima za automatizovano otkrivanje i reagovanje na pretnje.

* **Pregled**: Panel za **vizualizaciju pregleda** svih rezultata Security Command Center-a.
* Pretnje: \[Potreban Premium] Panel za vizualizaciju svih **detektovanih pretnji. Pro캜itajte vi코e o Pretnjama ispod**
* **Ranjivosti**: Panel za **vizualizaciju prona캠enih lo코ih konfiguracija u GCP nalogu**.
* **Usagla코enost**: \[Potreban Premium] Ova sekcija omogu캖ava da **testirate svoje GCP okru쬰nje protiv razli캜itih provera usagla코enosti** (kao 코to su PCI-DSS, NIST 800-53, CIS benchmarkovi...) unutar organizacije.
* **Resursi**: Ova sekcija **prikazuje sve kori코캖ene resurse**, veoma korisno za sistem administratore (i mo쬯a napada캜e) da vide 코ta se izvr코ava na jednoj stranici.
* **Nalazi**: Ovo **agregira** u **tabelu nalaze** razli캜itih sekcija GCP Security (ne samo Command Center) kako bi se lako vizualizovali bitni nalazi.
* **Izvori**: Prikazuje **rezime nalaza** svih razli캜itih sekcija GCP bezbednosti **po sekcijama**.
* **Pozicija**: \[Potreban Premium] Bezbednosna Pozicija omogu캖ava da se **defini코e, proceni i prati bezbednost GCP okru쬰nja**. Radi kreiranjem politike koja defini코e ograni캜enja ili restrikcije koje kontroli코u/prate resurse u GCP. Postoje nekoliko unapred definisanih 코ablona pozicije koji se mogu prona캖i na [https://cloud.google.com/security-command-center/docs/security-posture-overview?authuser=2#predefined-policy](https://cloud.google.com/security-command-center/docs/security-posture-overview?authuser=2#predefined-policy)

### **Pretnje**

Sa perspektive napada캜a, ovo je verovatno **najinteresantnija funkcija jer mo쬰 otkriti napada캜a**. Me캠utim, imajte na umu da ova funkcija zahteva **Premium** (코to zna캜i da 캖e kompanija morati da plati vi코e), pa **mo쬯a 캜ak nije ni omogu캖ena**.&#x20;

Postoje 3 vrste mehanizama za otkrivanje pretnji:

* **Pretnje doga캠aja**: Nalazi proizvedeni podudaranjem doga캠aja iz **Cloud Logging-a** na osnovu **pravila kreiranih** interno od strane Google-a. Tako캠e mo쬰 skenirati **Google Workspace logove**.
* Mogu캖e je prona캖i opis svih [**pravila otkrivanja u dokumentaciji**](https://cloud.google.com/security-command-center/docs/concepts-event-threat-detection-overview?authuser=2#how\_works)
* **Pretnje kontejnera**: Nalazi proizvedeni nakon analize niskog nivoa pona코anja jezgra kontejnera.
* **Prilago캠ene pretnje**: Pravila kreirana od strane kompanije.

Mogu캖e je prona캖i preporu캜ene odgovore na detektovane pretnje oba tipa na [https://cloud.google.com/security-command-center/docs/how-to-investigate-threats?authuser=2#event\_response](https://cloud.google.com/security-command-center/docs/how-to-investigate-threats?authuser=2#event\_response)

### Nabrojavanje

{% code overflow="wrap" %}
```bash
# Get a source
gcloud scc sources describe <org-number> --source=5678
## If the response is that the service is disabled or that the source is not found, then, it isn't enabled

# Get notifications
gcloud scc notifications list <org-number>

# Get findings (if not premium these are just vulnerabilities)
gcloud scc findings list <org-number>
```
## Detekcije i Kontrole

* **Chronicle SecOps**: Napredni skup operacija za bezbednost dizajniran da pomogne timovima da pove캖aju brzinu i uticaj operacija za bezbednost, uklju캜uju캖i detekciju pretnji, istragu i odgovor.
* **reCAPTCHA Enterprise**: Servis koji 코titi veb sajtove od prevara poput skrejpinga, napada sa ukradenim podacima i automatizovanih napada razlikuju캖i izme캠u ljudskih korisnika i botova.
* **Web Security Scanner**: Automatizovani alat za skeniranje bezbednosti koji otkriva ranjivosti i uobi캜ajene bezbednosne probleme u veb aplikacijama koje se hostuju na Google Cloud-u ili drugom veb servisu.
* **Risk Manager**: Alat za upravljanje rizicima, usagla코eno코캖u i upravljanje (GRC) koji poma쬰 organizacijama da procene, dokumentuju i razumeju svoj rizi캜ni polo쬬j na Google Cloud-u.
* **Binary Authorization**: Kontrola bezbednosti za kontejnere koja osigurava da se samo pouzdane slike kontejnera implementiraju na Kubernetes Engine klasterima prema politikama postavljenim od strane preduze캖a.
* **Obave코tenja o savetima**: Servis koji pru쬬 upozorenja i savete o potencijalnim bezbednosnim problemima, ranjivostima i preporu캜enim akcijama kako bi se resursi odr쬬li bezbednim.
* **Odobrenje pristupa**: Funkcija koja omogu캖ava organizacijama da zahtevaju eksplicitno odobrenje pre nego 코to zaposleni u Google-u mogu pristupiti njihovim podacima ili konfiguracijama, pru쬬ju캖i dodatni sloj kontrole i revizije.
* **Upravljani Microsoft AD**: Servis koji nudi upravljani Microsoft Active Directory (AD) koji korisnicima omogu캖ava kori코캖enje njihovih postoje캖ih aplikacija i radnih optere캖enja zavisnih od Microsoft AD-a na Google Cloud-u.

## Za코tita Podataka

* **Za코tita osetljivih podataka**: Alati i prakse usmereni na za코titu osetljivih podataka, poput li캜nih informacija ili intelektualne svojine, od neovla코캖enog pristupa ili izlaganja.
* **Prevencija gubitka podataka (DLP)**: Skup alata i procesa koji se koriste za identifikaciju, pra캖enje i za코titu podataka u upotrebi, u pokretu i u mirovanju putem dubinske inspekcije sadr쬬ja i primenom sveobuhvatnog skupa pravila za코tite podataka.
* **Servis sertifikacionog tela**: Razmerljiv i siguran servis koji pojednostavljuje i automatizuje upravljanje, implementaciju i obnavljanje SSL/TLS sertifikata za interne i eksterne servise.
* **Upravljanje klju캜evima**: Cloud servis koji vam omogu캖ava upravljanje kriptografskim klju캜evima za va코e aplikacije, uklju캜uju캖i kreiranje, uvoz, rotaciju, kori코캖enje i uni코tavanje enkripcionih klju캜eva. Vi코e informacija u:

{% content-ref url="gcp-kms-enum.md" %}
[gcp-kms-enum.md](gcp-kms-enum.md)
{% endcontent-ref %}

* **Menad쬰r sertifikata**: Servis koji upravlja i implementira SSL/TLS sertifikate, obezbe캠uju캖i sigurne i enkriptovane veze sa va코im veb servisima i aplikacijama.
* **Menad쬰r tajni**: Siguran i prakti캜an sistem za skladi코tenje API klju캜eva, lozinki, sertifikata i drugih osetljivih podataka, koji omogu캖ava jednostavan i siguran pristup i upravljanje ovim tajnama u aplikacijama. Vi코e informacija u:

{% content-ref url="../../gcp-pentesting/gcp-services/gcp-secrets-manager-enum.md" %}
[gcp-secrets-manager-enum.md](../../gcp-pentesting/gcp-services/gcp-secrets-manager-enum.md)
{% endcontent-ref %}

## Nulta Poverenja

* **BeyondCorp Enterprise**: Platforma za bezbednost nultog poverenja koja omogu캖ava siguran pristup internim aplikacijama bez potrebe za tradicionalnim VPN-om, oslanjaju캖i se na verifikaciju poverenja korisnika i ure캠aja pre dodeljivanja pristupa.
* **Alat za re코avanje problema sa politikom**: Alat dizajniran da pomogne administratorima da razumeju i re코e probleme sa pristupom u njihovoj organizaciji identifikuju캖i za코to korisnik ima pristup odre캠enim resursima ili za코to je pristup odbijen, 캜ime poma쬰 u sprovo캠enju politika nultog poverenja.
* **Proxy s identitetom (IAP)**: Servis koji kontroli코e pristup cloud aplikacijama i virtuelnim ma코inama koje se izvr코avaju na Google Cloud-u, lokalno ili na drugim oblakama, na osnovu identiteta i konteksta zahteva umesto mre쬰 sa koje zahtev poti캜e.
* **Kontrole servisa VPC**: Bezbednosni obod koji pru쬬 dodatne slojeve za코tite resursima i servisima hostovanim u Virtualnom privatnom oblaku (VPC) Google Cloud-a, spre캜avaju캖i eksfiltraciju podataka i pru쬬ju캖i granularnu kontrolu pristupa.
* **Menad쬰r konteksta pristupa**: Deo BeyondCorp Enterprise-a Google Cloud-a, ovaj alat poma쬰 u definisanju i sprovo캠enju politika fine kontrole pristupa na osnovu identiteta korisnika i konteksta njihovog zahteva, poput statusa bezbednosti ure캠aja, IP adrese i vi코e.
