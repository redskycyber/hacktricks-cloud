# GCP - Pub/Sub Enum

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong> ile sÄ±fÄ±rdan kahraman olmak iÃ§in AWS hackleme Ã¶ÄŸrenin<strong>!</strong></summary>

HackTricks'i desteklemenin diÄŸer yollarÄ±:

* Åirketinizi HackTricks'te **reklamÄ±nÄ±zÄ± gÃ¶rmek** veya **HackTricks'i PDF olarak indirmek** iÃ§in [**ABONELÄ°K PLANLARI**](https://github.com/sponsors/carlospolop)'na gÃ¶z atÄ±n!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) koleksiyonumuzdaki Ã¶zel [**NFT'leri**](https://opensea.io/collection/the-peass-family) keÅŸfedin
* ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katÄ±lÄ±n** veya **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/carlospolopm)'u **takip edin**.
* **Hacking hilelerinizi** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna **PR gÃ¶ndererek** paylaÅŸÄ±n.

</details>

## Pub/Sub <a href="#reviewing-cloud-pubsub" id="reviewing-cloud-pubsub"></a>

[Google **Cloud Pub/Sub**](https://cloud.google.com/pubsub/), baÄŸÄ±msÄ±z uygulamalar arasÄ±nda mesaj alÄ±ÅŸveriÅŸini kolaylaÅŸtÄ±ran bir hizmet olarak tanÄ±mlanÄ±r. Temel bileÅŸenler, uygulamalarÄ±n **abone olabileceÄŸi** **konularÄ±** iÃ§erir. Abone olan uygulamalar, **mesaj gÃ¶nderme ve alma** yeteneÄŸine sahiptir. Her mesaj, gerÃ§ek iÃ§eriÄŸi ve iliÅŸkili meta verileri iÃ§erir.

**Konu**, mesajlarÄ±n gÃ¶nderileceÄŸi kuyruktur, **abonelikler** ise kullanÄ±cÄ±larÄ±n **konulardaki mesajlara eriÅŸmek iÃ§in kullanacaklarÄ± nesnelerdir**. Bir konuda birden fazla **abonelik olabilir** ve 4 tÃ¼r abonelik vardÄ±r:

* **Ã‡ekme**: Bu aboneliÄŸin kullanÄ±cÄ±(larÄ±) mesajlarÄ± Ã§ekmek iÃ§in beklemelidir.
* **Ä°tme**: Bir URL uÃ§ noktasÄ± belirtilir ve mesajlar hemen gÃ¶nderilir.
* **BÃ¼yÃ¼k sorgu tablosu**: Ä°tme gibi, ancak mesajlar bir BÃ¼yÃ¼k sorgu tablosuna yerleÅŸtirilir.
* **Cloud Depolama**: MesajlarÄ± doÄŸrudan mevcut bir kovaya teslim eder.

VarsayÄ±lan olarak, bir **abonelik 31 gÃ¼n sonra sÃ¼resi dolmuÅŸ olur**, ancak sÃ¼resi hiÃ§bir zaman dolmamasÄ± iÃ§in ayarlanabilir.

VarsayÄ±lan olarak, bir mesaj **7 gÃ¼n boyunca saklanÄ±r**, ancak bu sÃ¼re **31 gÃ¼ne kadar artÄ±rÄ±labilir**. AyrÄ±ca, 10 saniye iÃ§inde **ACK alÄ±nmazsa** mesaj tekrar kuyruÄŸa gÃ¶nderilir. ACK alÄ±nan mesajlarÄ±n depolanmaya devam etmesi de ayarlanabilir.

Bir konu, varsayÄ±lan olarak bir **Google tarafÄ±ndan yÃ¶netilen ÅŸifreleme anahtarÄ±** kullanÄ±larak ÅŸifrelenir. Ancak KMS'den bir **CMEK** (MÃ¼ÅŸteri YÃ¶netimli Åifreleme AnahtarÄ±) de seÃ§ilebilir.

**Ã–lÃ¼ mektup**: Abonelikler, **teslim denemesi sayÄ±sÄ±nÄ± maksimuma** ayarlayabilir. Bir mesaj teslim edilemezse, belirtilen Ã¶lÃ¼ mektup konusuna yeniden yayÄ±nlanÄ±r.

### AnlÄ±k GÃ¶rÃ¼ntÃ¼ler ve Åemalar

Bir anlÄ±k gÃ¶rÃ¼ntÃ¼, bir aboneliÄŸin belirli bir zamandaki durumunu **yakalar**. Temelde, bir aboneliÄŸin ACK alÄ±nmamÄ±ÅŸ mesajlarÄ±nÄ±n **yedeklemesini** temsil eder. Bir anlÄ±k gÃ¶rÃ¼ntÃ¼ oluÅŸturarak, aboneliÄŸin mesaj tÃ¼ketimini, orijinal mesajlarÄ±n silinmesinden sonra bile, anlÄ±k gÃ¶rÃ¼ntÃ¼nÃ¼n alÄ±ndÄ±ÄŸÄ± noktadan devam ettirebilirsiniz.\
Ã‡ok ÅŸanslÄ±ysanÄ±z, bir anlÄ±k gÃ¶rÃ¼ntÃ¼, anlÄ±k gÃ¶rÃ¼ntÃ¼nÃ¼n alÄ±ndÄ±ÄŸÄ± zamandan **eski hassas bilgileri** iÃ§erebilir.

Bir konu oluÅŸtururken, **konu mesajlarÄ±nÄ±n bir ÅŸemaya uymasÄ± gerektiÄŸini** belirtebilirsiniz.

### NumaralandÄ±rma
```bash
# Get a list of topics in the project
gcloud pubsub topics list
gcloud pubsub topics describe <topic>
gcloud pubsub topics list-subscriptions <topic>
gcloud pubsub topics get-iam-policy <topic>

# Get a list of subscriptions across all topics
gcloud pubsub subscriptions list
gcloud pubsub subscriptions describe <subscription>
gcloud pubsub subscriptions get-iam-policy <subscription>

# Get list of schemas
gcloud pubsub schemas list
gcloud pubsub schemas describe <schema>
gcloud pubsub schemas list-revisions <schema>

# Get list of snapshots
gcloud pubsub snapshots list
gcloud pubsub snapshots describe <snapshot>
```
Ancak, daha iyi sonuÃ§lar elde edebilirsiniz [**daha bÃ¼yÃ¼k bir veri kÃ¼mesi isteyerek**](https://cloud.google.com/pubsub/docs/replay-overview), dahil olan eski mesajlar. Bu bazÄ± Ã¶nkoÅŸullara ve uygulamalarÄ± etkileyebilir, bu yÃ¼zden gerÃ§ekten ne yaptÄ±ÄŸÄ±nÄ±zÄ± bilmeniz Ã¶nemlidir.

### AyrÄ±calÄ±k YÃ¼kseltme ve Son Ä°stila

{% content-ref url="../gcp-post-exploitation/gcp-pub-sub-post-exploitation.md" %}
[gcp-pub-sub-post-exploitation.md](../gcp-post-exploitation/gcp-pub-sub-post-exploitation.md)
{% endcontent-ref %}

## Pub/Sub Lite

[**Pub/Sub Lite**](https://cloud.google.com/pubsub/docs/choosing-pubsub-or-lite), **bÃ¶lgesel depolama** ile bir mesajlaÅŸma servisidir. Pub/Sub Lite, Pub/Sub'a gÃ¶re **Ã§ok daha dÃ¼ÅŸÃ¼k maliyetli** olan ve dÃ¼ÅŸÃ¼k maliyetin birincil dÃ¼ÅŸÃ¼nce olduÄŸu **yÃ¼ksek hacimli akÄ±ÅŸ** (saniyede 10 milyon mesaj) boru hatlarÄ± ve olaya dayalÄ± sistemler iÃ§in tasarlanmÄ±ÅŸtÄ±r.

PubSub Lite'ta **konular** ve **abonelikler** bulunurken, **anlÄ±k gÃ¶rÃ¼ntÃ¼ler** ve **ÅŸemalar** bulunmamaktadÄ±r ve ÅŸunlar vardÄ±r:

* **Rezervasyonlar**: Pub/Sub Lite RezervasyonlarÄ±, kullanÄ±cÄ±larÄ±n mesaj akÄ±ÅŸlarÄ± iÃ§in belirli bir bÃ¶lgede kapasite ayÄ±rmalarÄ±na olanak tanÄ±yan bir Ã¶zelliktir.
* **Operasyonlar**: Pub/Sub Lite'Ä± yÃ¶netme ve idare etmeyle ilgili iÅŸlemler ve gÃ¶revleri ifade eder.

### NumaralandÄ±rma
```bash
# lite-topics
gcloud pubsub lite-topics list
gcloud pubsub lite-topics describe <topic>
gcloud pubsub lite-topics list-subscriptions <topic>

# lite-subscriptions
gcloud pubsub lite-subscriptions list
gcloud pubsub lite-subscriptions describe <subscription>

# lite-reservations
gcloud pubsub lite-reservations list
gcloud pubsub lite-reservations describe <topic>
gcloud pubsub lite-reservations list-topics <topic>

# lite-operations
gcloud pubsub lite-operations list
gcloud pubsub lite-operations describe <topic>
```
<details>

<summary><strong>AWS hackleme becerilerini sÄ±fÄ±rdan kahraman seviyesine Ã¶ÄŸrenmek iÃ§in</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ±)</strong></a><strong>'Ä± Ã¶ÄŸrenin!</strong></summary>

HackTricks'Ä± desteklemenin diÄŸer yollarÄ±:

* **Åirketinizi HackTricks'te reklamÄ±nÄ± gÃ¶rmek isterseniz** veya **HackTricks'i PDF olarak indirmek isterseniz** [**ABONELÄ°K PLANLARINA**](https://github.com/sponsors/carlospolop) gÃ¶z atÄ±n!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* [**The PEASS Ailesi'ni**](https://opensea.io/collection/the-peass-family) keÅŸfedin, Ã¶zel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family) koleksiyonumuz
* ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katÄ±lÄ±n** veya **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/carlospolopm)'u **takip edin**.
* **Hacking hilelerinizi HackTricks** ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna **PR gÃ¶ndererek paylaÅŸÄ±n**.

</details>
