# GCP - Kaynak Deposu Enum

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong> ile sÄ±fÄ±rdan kahraman olmak iÃ§in AWS hackleme Ã¶ÄŸrenin<strong>!</strong></summary>

HackTricks'i desteklemenin diÄŸer yollarÄ±:

* Åirketinizi HackTricks'te **reklamÄ±nÄ±zÄ± gÃ¶rmek** veya **HackTricks'i PDF olarak indirmek** iÃ§in [**ABONELÄ°K PLANLARI**](https://github.com/sponsors/carlospolop)'na gÃ¶z atÄ±n!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* [**The PEASS Ailesi'ni**](https://opensea.io/collection/the-peass-family) keÅŸfedin, Ã¶zel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family) koleksiyonumuz
* ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katÄ±lÄ±n** veya **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/carlospolopm)'u **takip edin**.
* **Hacking hilelerinizi** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna **PR gÃ¶ndererek** paylaÅŸÄ±n.

</details>

## Temel Bilgiler <a href="#reviewing-cloud-git-repositories" id="reviewing-cloud-git-repositories"></a>

Google Cloud Kaynak Deposu, tam Ã¶zellikli, Ã¶lÃ§eklenebilir, **Ã¶zel Git depo hizmetidir**. Kodunuzu tamamen yÃ¶netilen bir ortamda barÄ±ndÄ±rmak iÃ§in tasarlanmÄ±ÅŸ olup, diÄŸer GCP araÃ§larÄ± ve hizmetleriyle sorunsuz bir ÅŸekilde entegre olur. TakÄ±mlarÄ±n kodlarÄ±nÄ± depolamak, yÃ¶netmek ve izlemek iÃ§in iÅŸbirlikÃ§i ve gÃ¼venli bir yer sunar.

Cloud Kaynak Deposunun temel Ã¶zellikleri ÅŸunlardÄ±r:

1. **Tamamen YÃ¶netilen Git BarÄ±ndÄ±rma**: Git'in tanÄ±dÄ±k iÅŸlevselliÄŸini sunar, yani dÃ¼zenli Git komutlarÄ±nÄ± ve iÅŸ akÄ±ÅŸlarÄ±nÄ± kullanabilirsiniz.
2. **GCP Hizmetleriyle Entegrasyon**: Kodunuzdan daÄŸÄ±tÄ±ma kadar olan sÃ¼reÃ§te Cloud Build, Pub/Sub ve App Engine gibi diÄŸer GCP hizmetleriyle entegre Ã§alÄ±ÅŸÄ±r.
3. **Ã–zel Depolar**: Kodunuzun gÃ¼venli ve Ã¶zel olarak depolanmasÄ±nÄ± saÄŸlar. EriÅŸimi, Cloud Kimlik ve EriÅŸim YÃ¶netimi (IAM) rollerini kullanarak kontrol edebilirsiniz.
4. **Kaynak Kodu Analizi**: Kaynak kodunuzun otomatik analizini saÄŸlamak iÃ§in diÄŸer GCP araÃ§larÄ±yla birlikte Ã§alÄ±ÅŸÄ±r ve hatalar, gÃ¼venlik aÃ§Ä±klarÄ± veya kÃ¶tÃ¼ kodlama uygulamalarÄ± gibi potansiyel sorunlarÄ± tespit eder.
5. **Ä°ÅŸbirliÄŸi AraÃ§larÄ±**: BirleÅŸtirme istekleri, yorumlar ve incelemeler gibi araÃ§larla iÅŸbirlikÃ§i kodlama desteÄŸi saÄŸlar.
6. **Ayna DesteÄŸi**: Cloud Kaynak Deposunu GitHub veya Bitbucket'te barÄ±ndÄ±rÄ±lan depolarla baÄŸlayarak otomatik senkronizasyonu saÄŸlar ve tÃ¼m depolarÄ±nÄ±zÄ±n birleÅŸik bir gÃ¶rÃ¼nÃ¼mÃ¼nÃ¼ sunar.

### OffSec Bilgisi <a href="#reviewing-cloud-git-repositories" id="reviewing-cloud-git-repositories"></a>

* Bir projenin iÃ§indeki kaynak deposu yapÄ±landÄ±rmasÄ±nda, Cloud Pub/Sub mesajlarÄ±nÄ± yayÄ±nlamak iÃ§in kullanÄ±lan bir **Hizmet HesabÄ±** bulunur. VarsayÄ±lan olarak kullanÄ±lan **Compute SA**'nÄ±n kaynaktan Repositories Ã¼zerinden jetonunun Ã§alÄ±nmasÄ± mÃ¼mkÃ¼n deÄŸildir.
* GCP Cloud Kaynak Deposu web konsolunda ([https://source.cloud.google.com/](https://source.cloud.google.com/)) kodu gÃ¶rmek iÃ§in, kodun varsayÄ±lan olarak **ana dalda** olmasÄ± gerekmektedir.
* AyrÄ±ca, **Github** veya **Bitbucket**'teki bir repo'ya iÅŸaret eden bir ayna Cloud Deposu oluÅŸturabilirsiniz (bu platformlara eriÅŸim saÄŸlar).
* GCP iÃ§inden **kod yazabilir ve hata ayÄ±klayabilirsiniz**.
* Kaynak Deposu varsayÄ±lan olarak, Ã¶zel anahtarlarÄ±n taahhÃ¼tlerde itilmesini engeller, ancak bu devre dÄ±ÅŸÄ± bÄ±rakÄ±labilir.

### Cloud Shell'de AÃ§

Depoyu Cloud Shell'de aÃ§mak mÃ¼mkÃ¼ndÃ¼r, aÅŸaÄŸÄ±daki gibi bir iletiÅŸim kutusu gÃ¶rÃ¼necektir:

<figure><img src="../../../.gitbook/assets/image (136).png" alt=""><figcaption></figcaption></figure>

Bu, Cloud Shell'de kod yazmanÄ±za ve hata ayÄ±klamanÄ±za olanak saÄŸlar (bu, cloudshell'in tehlikeye girmesine neden olabilir).

### NumaralandÄ±rma

{% code overflow="wrap" %}
```bash
# Repos enumeration
gcloud source repos list #Get names and URLs
gcloud source repos describe <repo_name>
gcloud source repos get-iam-policy <repo_name>

# gcloud repo clone
gcloud source repos clone <REPO NAME>
gcloud source repos get-iam-policy <REPO NAME>
... git add & git commit -m ...
git push --set-upstream origin master
git push -u origin master

# Access via git
## To add a SSH key go to https://source.cloud.google.com/user/ssh_keys (no gcloud command)
git clone ssh://username@domain.com@source.developers.google.com:2022/p/<proj-name>/r/<repo-name>
git add, commit, push...
```
### Yetki YÃ¼kseltme ve Sonraki SaldÄ±rÄ±

{% content-ref url="../../gcp-pentesting/gcp-privilege-escalation/gcp-sourcerepos-privesc.md" %}
[gcp-sourcerepos-privesc.md](../../gcp-pentesting/gcp-privilege-escalation/gcp-sourcerepos-privesc.md)
{% endcontent-ref %}

### Kimlik DoÄŸrulamasÄ±z Sorgulama

{% content-ref url="../gcp-unaunthenticated-enum-and-access/gcp-source-repositories-unauthenticated-enum.md" %}
[gcp-source-repositories-unauthenticated-enum.md](../gcp-unaunthenticated-enum-and-access/gcp-source-repositories-unauthenticated-enum.md)
{% endcontent-ref %}

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong> ile sÄ±fÄ±rdan kahraman olmak iÃ§in AWS hackleme Ã¶ÄŸrenin<strong>!</strong></summary>

HackTricks'Ä± desteklemenin diÄŸer yollarÄ±:

* Åirketinizi HackTricks'te **reklamÄ±nÄ±zÄ± gÃ¶rmek** veya HackTricks'i **PDF olarak indirmek** iÃ§in [**ABONELÄ°K PLANLARI**](https://github.com/sponsors/carlospolop)'na gÃ¶z atÄ±n!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* Ã–zel [**NFT'lerden**](https://opensea.io/collection/the-peass-family) oluÅŸan koleksiyonumuz [**The PEASS Family**](https://opensea.io/collection/the-peass-family)'yi keÅŸfedin
* ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katÄ±lÄ±n** veya **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/carlospolopm)'u **takip edin**.
* **Hacking hilelerinizi** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna **PR gÃ¶ndererek** paylaÅŸÄ±n.

</details>
