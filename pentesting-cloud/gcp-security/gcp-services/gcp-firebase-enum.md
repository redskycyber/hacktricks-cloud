# GCP - Firebase Enum

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong> ile sÄ±fÄ±rdan kahraman olmak iÃ§in AWS hackleme Ã¶ÄŸrenin<strong>!</strong></summary>

HackTricks'Ä± desteklemenin diÄŸer yollarÄ±:

* Åirketinizi HackTricks'te **reklamÄ±nÄ±zÄ± gÃ¶rmek** veya **HackTricks'i PDF olarak indirmek** iÃ§in [**ABONELÄ°K PLANLARINI**](https://github.com/sponsors/carlospolop) kontrol edin!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) keÅŸfedin, Ã¶zel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family) koleksiyonumuz
* ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katÄ±lÄ±n** veya **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/carlospolopm)**'Ä± takip edin**.
* **Hacking hilelerinizi** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github depolarÄ±na **PR gÃ¶ndererek paylaÅŸÄ±n**.

</details>

## [Firebase](https://cloud.google.com/sdk/gcloud/reference/firebase/)

Firebase GerÃ§ek ZamanlÄ± VeritabanÄ±, kullanÄ±cÄ±larÄ±nÄ±z arasÄ±nda veri depolamanÄ±za ve senkronize etmenize olanak tanÄ±yan bulut tabanlÄ± bir NoSQL veritabanÄ±dÄ±r. [Daha fazla bilgi edinin](https://firebase.google.com/products/realtime-database/).

### Kimlik DoÄŸrulamasÄ±z SÄ±ralama

BazÄ± **Firebase uÃ§ noktalarÄ±**, **mobil uygulamalarda** bulunabilir. KÃ¶tÃ¼ yapÄ±landÄ±rÄ±lmÄ±ÅŸ bir Firebase uÃ§ noktasÄ±nÄ±n, herkese okuma (ve yazma) yetkisi verdiÄŸi olasÄ±dÄ±r.

KÃ¶tÃ¼ yapÄ±landÄ±rÄ±lmÄ±ÅŸ Firebase veritabanlarÄ±nÄ± aramak ve istismar etmek iÃ§in genel olarak aÅŸaÄŸÄ±daki metodoloji kullanÄ±lÄ±r:

1. Bu POC iÃ§in cihazdan APK almak iÃ§in herhangi bir aracÄ± kullanabilirsiniz.\
â€œAPK Extractorâ€ kullanabilirsiniz [https://play.google.com/store/apps/details?id=com.ext.ui\&hl=e](https://hackerone.com/redirect?signature=3774f35d1b5ea8a4fd209d80084daa9f5887b105\&url=https%3A%2F%2Fplay.google.com%2Fstore%2Fapps%2Fdetails%3Fid%3Dcom.ext.ui%26hl%3Den)
2. APK'yi **apktool** kullanarak decompile edin, aÅŸaÄŸÄ±daki komutu izleyerek APK'dan kaynak kodunu Ã§Ä±karÄ±n.
3. _**res/values/strings.xml**_ dizinine gidin ve burada "firebase" anahtar kelimesini **aramaya** baÅŸlayÄ±n
4. "https://xyz.firebaseio.com/" gibi bir URL bulabilirsiniz
5. Sonra, tarayÄ±cÄ±ya gidin ve bulunan URL'ye **gidin**: _https://xyz.firebaseio.com/.json_
6. 2 tÃ¼r yanÄ±t gÃ¶rÃ¼nebilir:
   1. "**Ä°zin Reddedildi**": Buna eriÅŸemezsiniz, yani iyi yapÄ±landÄ±rÄ±lmÄ±ÅŸtÄ±r
   2. "**null**" yanÄ±tÄ± veya bir dizi **JSON verisi**: Bu, veritabanÄ±nÄ±n herkese aÃ§Ä±k olduÄŸunu ve en azÄ±ndan okuma eriÅŸiminizin olduÄŸunu gÃ¶sterir.
   1. Bu durumda, **yazma yetkilerini kontrol edebilirsiniz**, yazma yetkilerini test etmek iÃ§in bir istismar burada bulunabilir: [https://github.com/MuhammadKhizerJaved/Insecure-Firebase-Exploit](https://github.com/MuhammadKhizerJaved/Insecure-Firebase-Exploit)

**Ä°lginÃ§ not**: **MobSF** ile bir mobil uygulama analiz ederken, bir firebase veritabanÄ± bulursa bunun **herkese aÃ§Ä±k** olup olmadÄ±ÄŸÄ±nÄ± kontrol eder ve bildirimde bulunur.

Alternatif olarak, yukarÄ±da gÃ¶sterildiÄŸi gibi bu gÃ¶revi otomatikleÅŸtiren bir python betiÄŸi olan [Firebase Scanner](https://github.com/shivsahni/FireBaseScanner) kullanabilirsiniz.
```bash
python FirebaseScanner.py -f <commaSeperatedFirebaseProjectNames>
```
### YetkilendirilmiÅŸ Enum

Firebase veritabanÄ±na eriÅŸmek iÃ§in kimlik bilgileriniz varsa, [**Baserunner**](https://github.com/iosiro/baserunner) gibi bir araÃ§ kullanarak depolanan bilgilere daha kolay eriÅŸebilirsiniz. Veya aÅŸaÄŸÄ±daki gibi bir betik kullanabilirsiniz:
```python
#Taken from https://blog.assetnote.io/bug-bounty/2020/02/01/expanding-attack-surface-react-native/
import pyrebase

config = {
"apiKey": "FIREBASE_API_KEY",
"authDomain": "FIREBASE_AUTH_DOMAIN_ID.firebaseapp.com",
"databaseURL": "https://FIREBASE_AUTH_DOMAIN_ID.firebaseio.com",
"storageBucket": "FIREBASE_AUTH_DOMAIN_ID.appspot.com",
}

firebase = pyrebase.initialize_app(config)

db = firebase.database()

print(db.get())
```
VeritabanÄ±nda yazma gibi diÄŸer iÅŸlemleri test etmek iÃ§in, [buradan](https://github.com/thisbejim/Pyrebase) Pyrebase belgelerine baÅŸvurun.

### APPID ve API AnahtarÄ± ile EriÅŸim Bilgilerine EriÅŸim <a href="#access-info-with-appid-and-api-key" id="access-info-with-appid-and-api-key"></a>

iOS uygulamasÄ±nÄ± decompile edip `GoogleService-Info.plist` dosyasÄ±nÄ± aÃ§arsanÄ±z, API AnahtarÄ± ve APP ID'sini bulabilirsiniz:

* API ANAHTARI **AIzaSyAs1\[...]**
* APP ID **1:612345678909:ios:c212345678909876**

BazÄ± ilginÃ§ bilgilere eriÅŸebilirsiniz.

**Ä°stek**

`curl -v -X POST "https://firebaseremoteconfig.googleapis.com/v1/projects/612345678909/namespaces/firebase:fetch?key=AIzaSyAs1[...]" -H "Content-Type: application/json" --data '{"appId": "1:612345678909:ios:c212345678909876", "appInstanceId": "PROD"}'`

## Referanslar <a href="#references" id="references"></a>

* â€‹[https://blog.securitybreached.org/2020/02/04/exploiting-insecure-firebase-database-bugbounty/](https://blog.securitybreached.org/2020/02/04/exploiting-insecure-firebase-database-bugbounty/)â€‹
* â€‹[https://medium.com/@danangtriatmaja/firebase-database-takover-b7929bbb62e1](https://medium.com/@danangtriatmaja/firebase-database-takover-b7929bbb62e1)â€‹

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong> ile sÄ±fÄ±rdan kahramana kadar AWS hackleme Ã¶ÄŸrenin<strong>!</strong></summary>

HackTricks'i desteklemenin diÄŸer yollarÄ±:

* Åirketinizi HackTricks'te **tanÄ±tmak** veya HackTricks'i **PDF olarak indirmek** iÃ§in [**ABONELÄ°K PLANLARINI**](https://github.com/sponsors/carlospolop) kontrol edin!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin.
* Ã–zel [**NFT'lerden**](https://opensea.io/collection/the-peass-family) oluÅŸan koleksiyonumuz olan [**The PEASS Family**](https://opensea.io/collection/the-peass-family)'yi keÅŸfedin.
* ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) katÄ±lÄ±n veya **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/carlospolopm)'u takip edin.
* **Hacking hilelerinizi** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna **PR gÃ¶ndererek** paylaÅŸÄ±n.

</details>
