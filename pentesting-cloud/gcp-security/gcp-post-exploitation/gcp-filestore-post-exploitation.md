# GCP - Filestore SonrasÄ± SÄ±zma



<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong> ile sÄ±fÄ±rdan kahramana kadar AWS hacklemeyi Ã¶ÄŸrenin<strong>!</strong></summary>

HackTricks'i desteklemenin diÄŸer yollarÄ±:

* Åirketinizi HackTricks'te **reklamÄ±nÄ± gÃ¶rmek** veya **HackTricks'i PDF olarak indirmek** iÃ§in [**ABONELÄ°K PLANLARINI**](https://github.com/sponsors/carlospolop) kontrol edin!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* Ã–zel [**NFT'lerden**](https://opensea.io/collection/the-peass-family) oluÅŸan koleksiyonumuz [**The PEASS Family**](https://opensea.io/collection/the-peass-family)'i keÅŸfedin
* ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katÄ±lÄ±n** veya **Twitter** ğŸ¦ [**@hacktricks_live**](https://twitter.com/hacktricks_live)'i **takip edin**.
* Hacking hilelerinizi **HackTricks** ve **HackTricks Cloud** github reposuna PR gÃ¶ndererek paylaÅŸÄ±n.

</details>

## Filestore

Filestore hakkÄ±nda daha fazla bilgi iÃ§in kontrol edin:

{% content-ref url="../gcp-services/gcp-filestore-enum.md" %}
[gcp-filestore-enum.md](../gcp-services/gcp-filestore-enum.md)
{% endcontent-ref %}

### Filestore BaÄŸlama

PaylaÅŸÄ±lan bir dosya sistemi, bir saldÄ±rganÄ±n perspektifinden ilginÃ§ olabilecek hassas bilgiler iÃ§erebilir. Filestore'a eriÅŸim saÄŸlandÄ±ÄŸÄ±nda, onu **baÄŸlamak** mÃ¼mkÃ¼ndÃ¼r:

{% code overflow="wrap" %}
```bash
sudo apt-get update
sudo apt-get install nfs-common
# Check the share name
showmount -e <IP>
# Mount the share
mkdir /mnt/fs
sudo mount [FILESTORE_IP]:/[FILE_SHARE_NAME] /mnt/fs
```
{% endcode %}

Bir dosya depolama Ã¶rneÄŸinin IP adresini bulmak iÃ§in sayfanÄ±n numaralandÄ±rma bÃ¶lÃ¼mÃ¼ne bakÄ±n:

{% content-ref url="../gcp-services/gcp-filestore-enum.md" %}
[gcp-filestore-enum.md](../gcp-services/gcp-filestore-enum.md)
{% endcontent-ref %}

### KÄ±sÄ±tlamalarÄ± KaldÄ±rÄ±n ve Ek Ä°zinler AlÄ±n

SaldÄ±rgan, paylaÅŸÄ±ma eriÅŸimi olan bir IP adresinde deÄŸilse, ancak deÄŸiÅŸtirmek iÃ§in yeterli izne sahipse, kÄ±sÄ±tlamalarÄ± veya eriÅŸimi kaldÄ±rmak mÃ¼mkÃ¼ndÃ¼r. AyrÄ±ca, IP adresiniz Ã¼zerinde daha fazla ayrÄ±calÄ±k vererek paylaÅŸÄ±ma yÃ¶netici eriÅŸimi elde etmek de mÃ¼mkÃ¼ndÃ¼r:
```bash
gcloud filestore instances update nfstest \
--zone=<exact-zone> \
--flags-file=nfs.json

# Contents of nfs.json
{
"--file-share":
{
"capacity": "1024",
"name": "<share-name>",
"nfs-export-options": [
{
"access-mode": "READ_WRITE",
"ip-ranges": [
"<your-ip-private-address>/32"
],
"squash-mode": "NO_ROOT_SQUASH",
"anon_uid": 1003,
"anon_gid": 1003
}
]
}
}
```
### Bir yedeklemeyi geri yÃ¼kle

EÄŸer bir yedekleme varsa, mevcut bir Ã¶rneÄŸe veya yeni bir Ã¶rneÄŸe **geri yÃ¼klemek** mÃ¼mkÃ¼ndÃ¼r, bÃ¶ylece **bilgiler eriÅŸilebilir hale gelir:**
```bash
# Create a new filestore if you don't want to modify the old one
gcloud filestore instances create <new-instance-name> \
--zone=<zone> \
--tier=STANDARD \
--file-share=name=vol1,capacity=1TB \
--network=name=default,reserved-ip-range=10.0.0.0/29

# Restore a backups in a new instance
gcloud filestore instances restore <new-instance-name> \
--zone=<zone> \
--file-share=<instance-file-share-name> \
--source-backup=<backup-name> \
--source-backup-region=<backup-region>

# Follow the previous section commands to mount it
```
### Yedek oluÅŸturun ve geri yÃ¼kleyin

EÄŸer bir paylaÅŸÄ±ma **eriÅŸiminiz yoksa ve deÄŸiÅŸtirmek istemiyorsanÄ±z**, onun bir **yedeÄŸini oluÅŸturmak** ve daha Ã¶nce bahsedildiÄŸi gibi **geri yÃ¼klemek** mÃ¼mkÃ¼ndÃ¼r:

{% code overflow="wrap" %}
```bash
# Create share backup
gcloud filestore backups create <back-name> \
--region=<region> \
--instance=<instance-name> \
--instance-zone=<instance-zone> \
--file-share=<share-name>

# Follow the previous section commands to restore it and mount it
```
{% endcode %}

<details>

<summary><strong>AWS hackleme becerilerini sÄ±fÄ±rdan kahraman seviyesine Ã¶ÄŸrenmek iÃ§in</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ±)</strong></a><strong>'Ä± Ã¶ÄŸrenin!</strong></summary>

HackTricks'Ä± desteklemenin diÄŸer yollarÄ±:

* **Åirketinizi HackTricks'te reklamÄ±nÄ± gÃ¶rmek** veya **HackTricks'i PDF olarak indirmek** iÃ§in [**ABONELÄ°K PLANLARINI**](https://github.com/sponsors/carlospolop) kontrol edin!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* Ã–zel [**NFT'lerden**](https://opensea.io/collection/the-peass-family) oluÅŸan koleksiyonumuz [**The PEASS Family**](https://opensea.io/collection/the-peass-family)'i keÅŸfedin
* ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katÄ±lÄ±n** veya **Twitter** ğŸ¦ [**@hacktricks_live**](https://twitter.com/hacktricks_live)'Ä± **takip edin**.
* **Hacking hilelerinizi** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github depolarÄ±na **PR gÃ¶ndererek paylaÅŸÄ±n**.

</details>
