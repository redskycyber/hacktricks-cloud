# GCP - ìŠ¤í† ë¦¬ì§€ ì¸ì¦ë˜ì§€ ì•Šì€ ì—´ê±°

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong>ë¥¼ í†µí•´ AWS í•´í‚¹ì„ ì²˜ìŒë¶€í„° ì „ë¬¸ê°€ê¹Œì§€ ë°°ì›Œë³´ì„¸ìš”<strong>!</strong></summary>

HackTricksë¥¼ ì§€ì›í•˜ëŠ” ë‹¤ë¥¸ ë°©ë²•:

* **íšŒì‚¬ë¥¼ HackTricksì—ì„œ ê´‘ê³ í•˜ê±°ë‚˜ HackTricksë¥¼ PDFë¡œ ë‹¤ìš´ë¡œë“œ**í•˜ë ¤ë©´ [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)ë¥¼ í™•ì¸í•˜ì„¸ìš”!
* [**ê³µì‹ PEASS & HackTricks ìŠ¤ì›¨ê·¸**](https://peass.creator-spring.com)ë¥¼ ì–»ìœ¼ì„¸ìš”.
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ë¥¼ ë°œê²¬í•˜ì„¸ìš”. ë…ì ì ì¸ [**NFTs**](https://opensea.io/collection/the-peass-family) ì»¬ë ‰ì…˜ì…ë‹ˆë‹¤.
* ğŸ’¬ [**Discord ê·¸ë£¹**](https://discord.gg/hRep4RUj7f) ë˜ëŠ” [**í…”ë ˆê·¸ë¨ ê·¸ë£¹**](https://t.me/peass)ì— **ì°¸ì—¬**í•˜ê±°ë‚˜ **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/carlospolopm)**ì„** **íŒ”ë¡œìš°**í•˜ì„¸ìš”.
* **HackTricks**ì™€ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud)ì— PRì„ ì œì¶œí•˜ì—¬ **í•´í‚¹ íŠ¸ë¦­ì„ ê³µìœ **í•˜ì„¸ìš”.
* &#x20;github ì €ì¥ì†Œ.

</details>

## ìŠ¤í† ë¦¬ì§€

ìŠ¤í† ë¦¬ì§€ì— ëŒ€í•œ ìì„¸í•œ ì •ë³´ëŠ” ë‹¤ìŒì„ ì°¸ì¡°í•˜ì„¸ìš”:

{% content-ref url="../../gcp-services/gcp-storage-enum.md" %}
[gcp-storage-enum.md](../../gcp-services/gcp-storage-enum.md)
{% endcontent-ref %}

### ê³µê°œ ë²„í‚· ë¬´ì°¨ë³„ ëŒ€ì… ê³µê²©

ë²„í‚·ì— ì•¡ì„¸ìŠ¤í•˜ê¸° ìœ„í•œ URLì˜ í˜•ì‹ì€ **`https://storage.googleapis.com/<bucket-name>`**ì…ë‹ˆë‹¤.

ë‹¤ìŒ ë„êµ¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ì£¼ì–´ì§„ ì´ë¦„ì˜ ë³€í˜•ì„ ìƒì„±í•˜ê³  í•´ë‹¹ ì´ë¦„ìœ¼ë¡œ ì˜ëª» êµ¬ì„±ëœ ë²„í‚·ì„ ê²€ìƒ‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

* [https://github.com/RhinoSecurityLabs/GCPBucketBrute](https://github.com/RhinoSecurityLabs/GCPBucketBrute)

ë˜í•œ ë‹¤ìŒ ë„êµ¬ë“¤ë„ ì–¸ê¸‰ë˜ì–´ ìˆìŠµë‹ˆë‹¤:

{% content-ref url="../" %}
[..](../)
{% endcontent-ref %}

ë²„í‚·ì— **ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì„ ë°œê²¬**í•˜ë©´ ë” ë†’ì€ ê¶Œí•œìœ¼ë¡œ **ìŠ¤ì¼€ì¼ ì—…**í•  ìˆ˜ ìˆëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”:

{% content-ref url="gcp-public-buckets-privilege-escalation.md" %}
[gcp-public-buckets-privilege-escalation.md](gcp-public-buckets-privilege-escalation.md)
{% endcontent-ref %}

### í˜„ì¬ ê³„ì •ì—ì„œ ì—´ë¦° ë²„í‚· ê²€ìƒ‰

ë‹¤ìŒ ìŠ¤í¬ë¦½íŠ¸ [ì—¬ê¸°ì—ì„œ ì–»ì€ ê²ƒ](https://gitlab.com/gitlab-com/gl-security/security-operations/gl-redteam/gcp\_misc/-/blob/master/find\_open\_buckets.sh)ë¥¼ ì‚¬ìš©í•˜ì—¬ ëª¨ë“  ì—´ë¦° ë²„í‚·ì„ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤:
```bash
#!/bin/bash

############################
# Run this tool to find buckets that are open to the public anywhere
# in your GCP organization.
#
# Enjoy!
############################

for proj in $(gcloud projects list --format="get(projectId)"); do
echo "[*] scraping project $proj"
for bucket in $(gsutil ls -p $proj); do
echo "    $bucket"
ACL="$(gsutil iam get $bucket)"

all_users="$(echo $ACL | grep allUsers)"
all_auth="$(echo $ACL | grep allAuthenticatedUsers)"

if [ -z "$all_users" ]
then
:
else
echo "[!] Open to all users: $bucket"
fi

if [ -z "$all_auth" ]
then
:
else
echo "[!] Open to all authenticated users: $bucket"
fi
done
done
```
<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong>ë¥¼ í†µí•´ AWS í•´í‚¹ì„ ì²˜ìŒë¶€í„° ì „ë¬¸ê°€ê¹Œì§€ ë°°ì›Œë³´ì„¸ìš”<strong>!</strong></summary>

HackTricksë¥¼ ì§€ì›í•˜ëŠ” ë‹¤ë¥¸ ë°©ë²•:

* **íšŒì‚¬ë¥¼ HackTricksì—ì„œ ê´‘ê³ í•˜ê±°ë‚˜ HackTricksë¥¼ PDFë¡œ ë‹¤ìš´ë¡œë“œ**í•˜ë ¤ë©´ [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)ë¥¼ í™•ì¸í•˜ì„¸ìš”!
* [**ê³µì‹ PEASS & HackTricks ìŠ¤ì›¨ê·¸**](https://peass.creator-spring.com)ë¥¼ ì–»ìœ¼ì„¸ìš”.
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ë¥¼ ë°œê²¬í•˜ì„¸ìš”. ë…ì ì ì¸ [**NFTs**](https://opensea.io/collection/the-peass-family) ì»¬ë ‰ì…˜ì…ë‹ˆë‹¤.
* ğŸ’¬ [**Discord ê·¸ë£¹**](https://discord.gg/hRep4RUj7f) ë˜ëŠ” [**í…”ë ˆê·¸ë¨ ê·¸ë£¹**](https://t.me/peass)ì— **ì°¸ì—¬**í•˜ê±°ë‚˜ **Twitter**ì—ì„œ ì €ë¥¼ **íŒ”ë¡œìš°**í•˜ì„¸ìš” ğŸ¦ [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **HackTricks**ì™€ **HackTricks Cloud**ì— PRì„ ì œì¶œí•˜ì—¬ ì—¬ëŸ¬ë¶„ì˜ í•´í‚¹ ê¸°ë²•ì„ ê³µìœ í•˜ì„¸ìš”.
* &#x20;github ì €ì¥ì†Œ.

</details>
