# GCP - Genel Kovalar Yetki YÃ¼kseltme

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong> ile sÄ±fÄ±rdan kahraman olmak iÃ§in AWS hackleme Ã¶ÄŸrenin<strong>!</strong></summary>

HackTricks'i desteklemenin diÄŸer yollarÄ±:

* Åirketinizi HackTricks'te **reklamÄ±nÄ±zÄ± gÃ¶rmek** veya **HackTricks'i PDF olarak indirmek** iÃ§in [**ABONELÄ°K PLANLARI**](https://github.com/sponsors/carlospolop)'na gÃ¶z atÄ±n!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) keÅŸfedin, Ã¶zel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family) koleksiyonumuz
* ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katÄ±lÄ±n** veya **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/carlospolopm)'u **takip edin**.
* **Hacking hilelerinizi paylaÅŸarak** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna **PR gÃ¶nderin**.

</details>

## Kovalar Yetki YÃ¼kseltme

EÄŸer kova politikasÄ± "allUsers" veya "allAuthenticatedUsers"Ä±n kova politikasÄ±nÄ± **deÄŸiÅŸtirmesine izin veriyorsa** (storage.buckets.setIamPolicy izni), herhangi biri kova politikasÄ±nÄ± deÄŸiÅŸtirip kendisine tam eriÅŸim saÄŸlayabilir.

### Ä°zinleri Kontrol Etme

Bir kova Ã¼zerindeki izinleri kontrol etmek iÃ§in 2 yÃ¶ntem vardÄ±r. Ä°lk yÃ¶ntem, `https://www.googleapis.com/storage/v1/b/BUCKET_NAME/iam` adresine bir istek yaparak veya `gsutil iam get gs://BUCKET_NAME` komutunu Ã§alÄ±ÅŸtÄ±rarak izinleri sormaktÄ±r.

Ancak, kullanÄ±cÄ±nÄ±zÄ±n (potansiyel olarak allUsers veya allAuthenticatedUsers'a ait olabilir) kova iam politikasÄ±nÄ± okuma izni (storage.buckets.getIamPolicy) yoksa, bu Ã§alÄ±ÅŸmayacaktÄ±r.

Her zaman Ã§alÄ±ÅŸacak diÄŸer seÃ§enek, kovanÄ±n testPermissions uÃ§ noktasÄ±nÄ± kullanarak belirli bir izne sahip olup olmadÄ±ÄŸÄ±nÄ±zÄ± belirlemektir. Ã–rneÄŸin, ÅŸu adrese eriÅŸerek: `https://www.googleapis.com/storage/v1/b/BUCKET_NAME/iam/testPermissions?permissions=storage.buckets.delete&permissions=storage.buckets.get&permissions=storage.buckets.getIamPolicy&permissions=storage.buckets.setIamPolicy&permissions=storage.buckets.update&permissions=storage.objects.create&permissions=storage.objects.delete&permissions=storage.objects.get&permissions=storage.objects.list&permissions=storage.objects.update`

### YÃ¼kseltme

`Storage Admin` yetkisini `allAuthenticatedUsers`a vermek iÃ§in aÅŸaÄŸÄ±daki komutu Ã§alÄ±ÅŸtÄ±rabilirsiniz:
```
gsutil iam ch group:allAuthenticatedUsers:admin gs://BUCKET_NAME
```
BaÅŸka bir saldÄ±rÄ±, sahipliÄŸi Ã§almak iÃ§in kovayÄ± kaldÄ±rmak ve kendi hesabÄ±nÄ±zda yeniden oluÅŸturmaktÄ±r.

## Referanslar

* [https://rhinosecuritylabs.com/gcp/google-cloud-platform-gcp-bucket-enumeration/](https://rhinosecuritylabs.com/gcp/google-cloud-platform-gcp-bucket-enumeration/)

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong> ile sÄ±fÄ±rdan kahraman olmak iÃ§in AWS hackleme Ã¶ÄŸrenin<strong>!</strong></summary>

HackTricks'i desteklemenin diÄŸer yollarÄ±:

* Åirketinizi HackTricks'te **reklamÄ±nÄ±zÄ± gÃ¶rmek** veya **HackTricks'i PDF olarak indirmek** iÃ§in [**ABONELÄ°K PLANLARI**](https://github.com/sponsors/carlospolop)'na gÃ¶z atÄ±n!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* Ã–zel [**NFT'lerden**](https://opensea.io/collection/the-peass-family) oluÅŸan koleksiyonumuz [**The PEASS Family**](https://opensea.io/collection/the-peass-family)'i keÅŸfedin
* ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katÄ±lÄ±n** veya **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/carlospolopm)'u **takip edin**.
* **Hacking hilelerinizi** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github depolarÄ±na **PR gÃ¶ndererek paylaÅŸÄ±n**.

</details>
