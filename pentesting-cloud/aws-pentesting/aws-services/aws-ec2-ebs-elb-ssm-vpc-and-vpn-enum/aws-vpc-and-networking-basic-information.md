# AWS - VPC ve AÄŸ Temel Bilgileri

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong> ile sÄ±fÄ±rdan kahraman olmak iÃ§in AWS hackleme Ã¶ÄŸrenin<strong>!</strong></summary>

HackTricks'Ä± desteklemenin diÄŸer yollarÄ±:

* Åirketinizi HackTricks'te **reklamÄ±nÄ±zÄ± gÃ¶rmek** veya HackTricks'i **PDF olarak indirmek** iÃ§in [**ABONELÄ°K PLANLARI**](https://github.com/sponsors/carlospolop)'na gÃ¶z atÄ±n!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* Ã–zel [**NFT'lerden**](https://opensea.io/collection/the-peass-family) oluÅŸan [**The PEASS Family**](https://opensea.io/collection/the-peass-family) koleksiyonumuzu keÅŸfedin
* ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katÄ±lÄ±n** veya **Twitter** ğŸ¦ [**@hacktricks_live**](https://twitter.com/hacktricks_live)'Ä± takip edin.
* Hacking hilelerinizi **HackTricks** ve **HackTricks Cloud** github depolarÄ±na PR gÃ¶ndererek paylaÅŸÄ±n.

</details>

## AWS AÄŸlama Ã–zeti

Bir **VPC**, 10.0.0.0/16 gibi bir **aÄŸ CIDR'si** iÃ§erir (kendi **yÃ¶nlendirme tablosu** ve **aÄŸ ACL'si** ile birlikte).

Bu VPC aÄŸÄ±, **alt aÄŸlara** bÃ¶lÃ¼nÃ¼r, bu nedenle bir **alt aÄŸ**, **VPC**, **yÃ¶nlendirme tablosu** ve **aÄŸ ACL'si** ile doÄŸrudan **iliÅŸkilidir**.

Daha sonra, hizmetlere (Ã¶rneÄŸin EC2 Ã¶rneklerine) baÄŸlÄ± olan **AÄŸ ArayÃ¼zleri**, **gÃ¼venlik grubu(lar)yla** **alt aÄŸlara** **baÄŸlanÄ±r**.

Bu nedenle, bir **gÃ¼venlik grubu**, **kullanÄ±lan aÄŸ arayÃ¼zlerinin** **aÃ§Ä±kta kalan baÄŸlantÄ± noktalarÄ±nÄ±**, **alt aÄŸdan baÄŸÄ±msÄ±z olarak sÄ±nÄ±rlayacaktÄ±r**. Ve bir **aÄŸ ACL'si**, **tÃ¼m aÄŸa** aÃ§Ä±kta kalan baÄŸlantÄ± noktalarÄ±nÄ± **sÄ±nÄ±rlayacaktÄ±r**.

AyrÄ±ca, **Ä°nternet'e eriÅŸmek** iÃ§in kontrol edilmesi gereken bazÄ± ilginÃ§ yapÄ±landÄ±rmalar vardÄ±r:

* Bir **alt aÄŸ**, **genel IPv4 adreslerini otomatik olarak atayabilir**
* IPv4 adreslerini otomatik olarak atayan bir aÄŸda oluÅŸturulan bir **Ã¶rnek**, bir tane alabilir
* Bir **Ä°nternet aÄŸÄ± geÃ§idi**, **VPC'ye baÄŸlanmalÄ±dÄ±r**
* AyrÄ±ca **yalnÄ±zca Ã§Ä±kÄ±ÅŸ** Ä°nternet aÄŸ geÃ§itlerini kullanabilirsiniz
* Bir **Ã¶zel alt aÄŸda** bir **NAT aÄŸÄ± geÃ§idi** olabilir, bÃ¶ylece bu Ã¶zel alt aÄŸdan **harici hizmetlere baÄŸlanmak mÃ¼mkÃ¼n olur**, ancak **dÄ±ÅŸarÄ±dan bunlara eriÅŸmek mÃ¼mkÃ¼n deÄŸildir**.
* NAT aÄŸÄ± geÃ§idi **genel** (Ä°nternet'e eriÅŸim) veya **Ã¶zel** (diÄŸer VPC'lere eriÅŸim) olabilir

![](<../../../../.gitbook/assets/image (73).png>)

## VPC

Amazon **Virtual Private Cloud** (Amazon VPC), tanÄ±mladÄ±ÄŸÄ±nÄ±z bir sanal aÄŸa AWS kaynaklarÄ±nÄ± baÅŸlatmanÄ±zÄ± saÄŸlar. Bu sanal aÄŸ, birkaÃ§ alt aÄŸa, Ä°nternet'e eriÅŸmek iÃ§in Ä°nternet AÄŸ GeÃ§itlerine, ACL'lere, GÃ¼venlik gruplarÄ±na, IP'lere sahip olacaktÄ±r...

### Alt AÄŸlar

Alt aÄŸlar daha yÃ¼ksek bir gÃ¼venlik seviyesini zorlar. **Benzer kaynaklarÄ±n mantÄ±ksal gruplandÄ±rÄ±lmasÄ±**, altyapÄ±nÄ±zda bir **yÃ¶netim kolaylÄ±ÄŸÄ±** saÄŸlamanÄ±za yardÄ±mcÄ± olur.

* GeÃ§erli CIDR, /16 netmask'ten /28 netmask'e kadar olanlardÄ±r.
* Bir alt aÄŸ aynÄ± anda farklÄ± kullanÄ±labilirlik bÃ¶lgelerinde olamaz.
* **AWS, her alt aÄŸÄ±n ilk Ã¼Ã§ ana IP adresini** **iÃ§sel AWS kullanÄ±mÄ± iÃ§in ayÄ±rÄ±r**: Ä°lk kullanÄ±lan ana adres VPC yÃ¶nlendiricisi iÃ§indir. Ä°kinci adres AWS DNS iÃ§in ayrÄ±lmÄ±ÅŸtÄ±r ve Ã¼Ã§Ã¼ncÃ¼ adres gelecekteki kullanÄ±m iÃ§in ayrÄ±lmÄ±ÅŸtÄ±r.
* **DoÄŸrudan Ä°nternet eriÅŸimi olan alt aÄŸlara** **genel alt aÄŸlar** denir, Ã¶zel alt aÄŸlar ise buna sahip deÄŸildir.

<figure><img src="https://lh5.googleusercontent.com/N_WTrTrDAHwN61FMKJvLSHVua2EM0IazHH1fSTg8JQfTChm-dLN9mn7wkjz2MlpD-uOUqtWdMZpqKOp4VxaHy5-5X66GD1K8y1UGc27r-GbHdFty9ImpXdcjEsC7u4vjxKme_B_HwDOUnG6camxENYECTw=s2048" alt=""><figcaption></figcaption></figure>

<figure><img src="https://lh3.googleusercontent.com/MmjfVzGmV4jM7tO8lVoTKONoeqbq6E40DGeKUoo4kN-lmMDKnEiGNB-gGVx3EvjK9UV844im225CA8aAjomHf1Modt3MramHrHZdEGbeSZncWhVuT9R8f7tQZ2pXjdSJxeNfErmJ-0mmcUaV6dcU0TAd2A=s2048" alt=""><figcaption></figcaption></figure>

### YÃ¶nlendirme TablolarÄ±

YÃ¶nlendirme tablolarÄ±, bir VPC iÃ§indeki bir alt aÄŸ iÃ§in trafik yÃ¶nlendirmesini belirler. Hangi aÄŸ trafiÄŸinin Ä°nternet'e veya bir VPN baÄŸlantÄ±sÄ±na yÃ¶nlendirileceÄŸini belirler. Genellikle aÅŸaÄŸÄ±daki eriÅŸimlere sahip olacaksÄ±nÄ±z:

* Yerel VPC
* NAT
* Ä°nternet AÄŸ GeÃ§itleri / YalnÄ±zca Ã§Ä±kÄ±ÅŸ Ä°nternet aÄŸ geÃ§itleri (Bir VPC'ye Ä°nternet eriÅŸimi saÄŸlamak iÃ§in gereklidir).
* Bir alt aÄŸÄ± genel yapmak iÃ§in VPC'nize bir **Ä°nternet aÄŸÄ± geÃ§idi** **oluÅŸturmanÄ±z** ve **baÄŸlamanÄ±z** gerekmektedir.
* VPC uÃ§ noktalarÄ± (Ã¶zel aÄŸlardan S3'e eriÅŸim saÄŸlamak iÃ§in)

AÅŸaÄŸÄ±daki gÃ¶rÃ¼ntÃ¼lerde, varsayÄ±lan bir genel aÄŸ ve Ã¶zel bir aÄŸdaki farklarÄ± kontrol edebilirsiniz:

<figure><img src="https://lh3.googleusercontent.com/q4ASpcLAYqijdNMLhMLl8EoowDtTMU5I_7YCVfk7-5hxDyeQOik9ImHnD2SYy32XUA2qXjEbXTAxA1lP--znJASdhYOdBveDcrD42f9XBKZ3EmjJCazN3YPLC6oS0xtRMmfORuwCszmMt-KrAkH07_izwg=s2048" alt=""><figcaption></figcaption></figure>

<figure><img src="https://lh5.googleusercontent.com/30psylXAI0gRN6_LK-reP00aGIlMma64E1qafCVPunn6nS-y5jAO6Y2JiempKcf6-LFi7ScicYcOh7BbHEya2VWtksnFX_8SPXQf97tKkg2tNZzrArWbiDCCn2m2LP1QUq6MZ_KayH3yir7t8zpO7CEQOw=s2048" alt=""><figcaption></figcaption></figure>

### ACL'ler

**AÄŸ EriÅŸim Kontrol Listeleri (ACL'ler)**: AÄŸ ACL'leri, bir alt aÄŸa gelen ve Ã§Ä±kan aÄŸ trafiÄŸini kontrol eden gÃ¼venlik duvarÄ± kurallarÄ±dÄ±r. Belirli IP adreslerine veya aralÄ±klara trafiÄŸi izin vermek veya reddetmek iÃ§in kullanÄ±labilirler.

* EriÅŸimi izin vermek / reddetmek iÃ§in genellikle gÃ¼venlik gruplarÄ±nÄ± kullanmak daha yaygÄ±ndÄ±r, ancak bu, zaten kurulmuÅŸ olan ters kabuk baÄŸlantÄ±larÄ±nÄ± tamamen kesmenin tek yoludur. GÃ¼venlik gruplarÄ±nda yapÄ±lan bir deÄŸiÅŸiklik, zaten kurulmuÅŸ baÄŸlantÄ±larÄ± durdurmaz
* Bununla birlikte, bu, tÃ¼m alt aÄŸa uygulanÄ±r, bu n
### GÃ¼venlik GruplarÄ±

GÃ¼venlik gruplarÄ±, bir VPC'deki Ã¶rneklerin gelen ve giden aÄŸ trafiÄŸini kontrol eden sanal bir **gÃ¼venlik duvarÄ±dÄ±r**. Genellikle bu, Ã¶rneklerdeki tehlikeli portlarÄ± aÃ§mak iÃ§in kullanÄ±lÄ±r, Ã¶rneÄŸin port 22 gibi:

<figure><img src="https://lh5.googleusercontent.com/LliB7eb3cYfkEyOpyw1-eYgWsn2kq1yF6uRn5VYndvOuTvDlURimYx9UvuK8F2impTLmx50mid4MdTXE-Ljt2i_rxaIfnKUdji_hFjCdU9tdoW-axng9-W4tSL71gbbjrPQ7IYY5lAdH_G3UoMRMGGGOxQ=s2048" alt=""><figcaption></figcaption></figure>

### Elastik IP Adresleri

Bir _Elastik IP adresi_, dinamik bulut biliÅŸimi iÃ§in tasarlanmÄ±ÅŸ bir **statik IPv4 adresidir**. Bir Elastik IP adresi AWS hesabÄ±nÄ±za tahsis edilir ve serbest bÄ±rakana kadar size aittir. Bir Elastik IP adresi kullanarak, bir Ã¶rneÄŸin veya yazÄ±lÄ±mÄ±n baÅŸarÄ±sÄ±zlÄ±ÄŸÄ±nÄ± hÄ±zla baÅŸka bir Ã¶rneÄŸe yeniden haritalayarak adresin baÅŸarÄ±sÄ±zlÄ±ÄŸÄ±nÄ± gizleyebilirsiniz.

### Alt aÄŸlar arasÄ±ndaki baÄŸlantÄ±

VarsayÄ±lan olarak, tÃ¼m alt aÄŸlarda **otomatik olarak atanan genel IP adresleri kapalÄ±dÄ±r**, ancak aÃ§Ä±labilir.

**Bir rota tablosu iÃ§indeki yerel bir rota, VPC alt aÄŸlarÄ± arasÄ±nda iletiÅŸimi saÄŸlar**.

FarklÄ± bir alt aÄŸÄ± baÅŸka bir alt aÄŸa baÄŸlÄ±yorsanÄ±z, baÄŸlÄ± alt aÄŸlara eriÅŸemezsiniz, doÄŸrudan onlarla baÄŸlantÄ± oluÅŸturmanÄ±z gerekir. **Bu, internet aÄŸ geÃ§itleri iÃ§in de geÃ§erlidir**. Ä°nternete eriÅŸmek iÃ§in bir alt aÄŸ baÄŸlantÄ±sÄ±ndan geÃ§emezsiniz, alt aÄŸÄ±nÄ±za internet aÄŸ geÃ§idini atamanÄ±z gerekir.

### VPC EÅŸleme

VPC eÅŸlemesi, birbirine **baÄŸlÄ± iki veya daha fazla VPC'yi** IPV4 veya IPV6 kullanarak aynÄ± aÄŸÄ±n bir parÃ§asÄ±ymÄ±ÅŸ gibi baÄŸlamanÄ±za olanak tanÄ±r.

EÅŸleme baÄŸlantÄ±sÄ± kurulduktan sonra, bir VPC'deki kaynaklar diÄŸer VPC'lerdeki kaynaklara eriÅŸebilir. VPC'ler arasÄ±ndaki baÄŸlantÄ±, mevcut AWS aÄŸ altyapÄ±sÄ± Ã¼zerinden uygulanÄ±r ve bu nedenle yÃ¼ksek kullanÄ±labilirlik saÄŸlar ve bant geniÅŸliÄŸi darboÄŸazÄ± olmaz. **EÅŸleÅŸen baÄŸlantÄ±lar aynÄ± aÄŸÄ±n bir parÃ§asÄ±ymÄ±ÅŸ gibi Ã§alÄ±ÅŸtÄ±ÄŸÄ±ndan**, kullanÄ±labilecek CIDR blok aralÄ±klarÄ± konusunda kÄ±sÄ±tlamalar vardÄ±r.\
VPC'lerinizin Ã¶rtÃ¼ÅŸen veya yinelenen CIDR aralÄ±klarÄ± varsa, VPC'leri birleÅŸtiremezsiniz.\
Her AWS VPC'si **yalnÄ±zca kendi eÅŸleÅŸmesiyle iletiÅŸim kurar**. Ã–rneÄŸin, VPC 1 ve VPC 2 arasÄ±nda bir eÅŸleÅŸme baÄŸlantÄ±sÄ± ve VPC 2 ve VPC 3 arasÄ±nda baÅŸka bir baÄŸlantÄ± olduÄŸunu varsayarsak, VPC 1 ve 2 doÄŸrudan birbirleriyle iletiÅŸim kurabilir, VPC 2 ve VPC 3 de aynÄ± ÅŸekilde iletiÅŸim kurabilir, ancak VPC 1 ve VPC 3 iletiÅŸim kuramaz. **BaÅŸka bir VPC'ye gitmek iÃ§in bir VPC Ã¼zerinden yÃ¶nlendirme yapamazsÄ±nÄ±z.**

### **VPC AkÄ±ÅŸ GÃ¼nlÃ¼kleri**

VPC'nizde, farklÄ± alt aÄŸlar arasÄ±nda ve VPC eÅŸleme baÄŸlantÄ±larÄ± aracÄ±lÄ±ÄŸÄ±yla hem genel hem de Ã¶zel alt aÄŸlar arasÄ±nda yÃ¼zlerce veya hatta binlerce kaynak arasÄ±nda iletiÅŸim olabilir. **VPC AkÄ±ÅŸ GÃ¼nlÃ¼kleri, VPC'nizdeki kaynaklarÄ±nÄ±zÄ±n aÄŸ arayÃ¼zleri arasÄ±nda akÄ±ÅŸ halindeki IP trafiÄŸi bilgilerini yakalamanÄ±za olanak tanÄ±r**.

S3 eriÅŸim gÃ¼nlÃ¼kleri ve CloudFront eriÅŸim gÃ¼nlÃ¼klerinin aksine, VPC AkÄ±ÅŸ GÃ¼nlÃ¼kleri tarafÄ±ndan oluÅŸturulan gÃ¼nlÃ¼k verileri S3'te depolanmaz. Bunun yerine, yakalanan gÃ¼nlÃ¼k verileri CloudWatch gÃ¼nlÃ¼klerine gÃ¶nderilir.

SÄ±nÄ±rlamalar:

* EÅŸleÅŸmiÅŸ bir VPC baÄŸlantÄ±sÄ± Ã§alÄ±ÅŸtÄ±rÄ±yorsanÄ±z, aynÄ± hesap iÃ§indeki eÅŸleÅŸmiÅŸ VPC'lerin akÄ±ÅŸ gÃ¼nlÃ¼klerini gÃ¶rebilirsiniz.
* EC2-Classic ortamÄ±nda hala kaynaklar Ã§alÄ±ÅŸtÄ±rÄ±yorsanÄ±z, maalesef arayÃ¼zlerinden bilgi alamazsÄ±nÄ±z.
* Bir VPC AkÄ±ÅŸ GÃ¼nlÃ¼ÄŸÃ¼ oluÅŸturulduktan sonra deÄŸiÅŸtirilemez. VPC AkÄ±ÅŸ GÃ¼nlÃ¼ÄŸÃ¼ yapÄ±landÄ±rmasÄ±nÄ± deÄŸiÅŸtirmek iÃ§in silmeniz ve ardÄ±ndan yeni bir tane oluÅŸturmanÄ±z gerekir.
* AÅŸaÄŸÄ±daki trafiÄŸin gÃ¼nlÃ¼kler tarafÄ±ndan izlenmediÄŸini ve yakalanmadÄ±ÄŸÄ±nÄ± unutmayÄ±n: VPC iÃ§indeki DHCP trafiÄŸi, Amazon DNS Sunucusu iÃ§in hedeflenen Ã¶rneklerden gelen trafiÄŸ.
* VPC varsayÄ±lan yÃ¶nlendiricisi iÃ§in IP adresine yÃ¶nlendirilen trafiÄŸin ve 169.254.169.254 (Ã¶rnek meta verilerini toplamak iÃ§in kullanÄ±lÄ±r) ve 169.254.169.123 (Amazon Zaman Senkronizasyon Hizmeti iÃ§in kullanÄ±lÄ±r) adreslerine yÃ¶nlendirilen trafiÄŸin.
* Bir Windows Ã¶rneÄŸinden Amazon Windows etkinleÅŸtirme lisansÄ±na yÃ¶nelik trafiÄŸin.
* Bir aÄŸ yÃ¼k dengeleyici arayÃ¼zÃ¼ ile bir uÃ§ nokta aÄŸ arayÃ¼zÃ¼ arasÄ±ndaki trafiÄŸin.

CloudWatch gÃ¼nlÃ¼k grubuna veri yayÄ±nlayan her aÄŸ arayÃ¼zÃ¼ iÃ§in farklÄ± bir gÃ¼nlÃ¼k akÄ±ÅŸÄ± kullanÄ±lÄ±r. Ve bu akÄ±ÅŸlarÄ±n her birinde, gÃ¼nlÃ¼k giriÅŸlerinin iÃ§eriÄŸini gÃ¶steren akÄ±ÅŸ gÃ¼nlÃ¼ÄŸÃ¼ etkinlik verileri bulunur. Bu **gÃ¼nlÃ¼kler, yaklaÅŸÄ±k 10 ila 15 dakikalÄ±k bir pencere boyunca veri yakalar**.

## VPN

### Temel AWS VPN BileÅŸenleri

1. **MÃ¼ÅŸteri AÄŸ GeÃ§idi**:
* Bir MÃ¼ÅŸteri AÄŸ GeÃ§idi, bir VPN baÄŸlantÄ±sÄ±nÄ±n sizin tarafÄ±nÄ±zÄ± temsil etmek iÃ§in AWS'de oluÅŸturduÄŸunuz bir kaynaktÄ±r.
* Temel olarak, Site-to-Site VPN baÄŸlantÄ±sÄ±nÄ±n sizin tarafÄ±nÄ±zdaki fiziksel bir cihaz veya yazÄ±lÄ±m uygulamasÄ±dÄ±r.
* YÃ¶nlendirme bilgilerini ve aÄŸ cihazÄ±nÄ±zÄ±n (bir yÃ¶nlendirici veya bir gÃ¼venlik duvarÄ± gibi) genel IP adresini AWS'ye saÄŸlayarak bir MÃ¼ÅŸteri AÄŸ GeÃ§idi oluÅŸturursunuz.
* VPN baÄŸlantÄ±sÄ±nÄ± kurmak iÃ§in bir referans noktasÄ± olarak hizmet verir ve ek Ã¼cretlendirme yapmaz.
2. **Sanal Ã–zel AÄŸ GeÃ§idi**:
* Sanal Ã–zel AÄŸ GeÃ§idi (VPG), Site-to-Site VPN baÄŸlantÄ±sÄ±nÄ±n Amazon tarafÄ±ndaki VPN konsantratÃ¶rÃ¼dÃ¼r.
* VPG, VPC'nize baÄŸlÄ±dÄ±r ve VPN baÄŸlantÄ±nÄ±zÄ±n hedefi olarak hizmet verir.
* VPG, VPN baÄŸlantÄ±sÄ±nÄ±n AWS tarafÄ±ndaki uÃ§ noktasÄ±dÄ±r.
* VPC'nizle kendi yerel aÄŸÄ±nÄ±z arasÄ±ndaki gÃ¼venli iletiÅŸimi yÃ¶netir.
3. **Site-to-Site VPN BaÄŸlantÄ±sÄ±**:
* Site-to-Site VPN baÄŸlantÄ±sÄ±, gÃ¼venli, IPsec VPN tÃ¼neli aracÄ±lÄ±ÄŸÄ±yla yerel aÄŸÄ±nÄ±zÄ± bir VPC'ye baÄŸlar.
* Bu tÃ¼r bir baÄŸlantÄ± iÃ§in bir MÃ¼ÅŸteri AÄŸ GeÃ§idi ve bir Sanal Ã–zel AÄŸ GeÃ§idi gereklidir.
* Veri merkeziniz veya aÄŸÄ±nÄ±z ile AWS ortamÄ±nÄ±z arasÄ±nda gÃ¼venli, istikrarlÄ± ve tutarlÄ± iletiÅŸim iÃ§in kullanÄ±lÄ±r.
* Genellikle dÃ¼zenli, uzun vadeli baÄŸlantÄ±lar iÃ§in kullanÄ±lÄ±r ve baÄŸlantÄ± Ã¼zerinden aktarÄ±lan veri miktarÄ±na gÃ¶re faturalandÄ±r
#### SÄ±nÄ±rlamalar

* Sanal Ã¶zel aÄŸ geÃ§idindeki VPN baÄŸlantÄ±larÄ± IPv6 trafiÄŸini desteklemez.
* Bir AWS VPN baÄŸlantÄ±sÄ±, Path MTU KeÅŸfi'ni desteklemez.

AyrÄ±ca, Site-to-Site VPN kullanÄ±rken aÅŸaÄŸÄ±dakileri dikkate alÄ±n.

* VPC'lerinizi ortak bir yerel aÄŸa baÄŸlarken, aÄŸlarÄ±nÄ±z iÃ§in Ã¶rtÃ¼ÅŸmeyen CIDR bloklarÄ± kullanmanÄ±zÄ± Ã¶neririz.

### Ä°stemci VPN <a href="#what-is-components" id="what-is-components"></a>

**Makinenizden VPC'nize baÄŸlanÄ±n**

#### Kavramlar

* **Ä°stemci VPN uÃ§ noktasÄ±:** Ä°stemci VPN oturumlarÄ±nÄ± etkinleÅŸtirmek ve yÃ¶netmek iÃ§in oluÅŸturduÄŸunuz ve yapÄ±landÄ±rdÄ±ÄŸÄ±nÄ±z kaynak. TÃ¼m istemci VPN oturumlarÄ±nÄ±n sonlandÄ±rÄ±ldÄ±ÄŸÄ± kaynaktÄ±r.
* **Hedef aÄŸ:** Hedef aÄŸÄ±, bir Ä°stemci VPN uÃ§ noktasÄ±yla iliÅŸkilendirdiÄŸiniz aÄŸdÄ±r. **Bir VPC'den bir alt aÄŸ hedef aÄŸÄ±dÄ±r**. Bir alt aÄŸÄ± bir Ä°stemci VPN uÃ§ noktasÄ±yla iliÅŸkilendirmek, VPN oturumlarÄ± kurmanÄ±zÄ± saÄŸlar. YÃ¼ksek kullanÄ±labilirlik iÃ§in bir Ä°stemci VPN uÃ§ noktasÄ±yla birden Ã§ok alt aÄŸÄ± iliÅŸkilendirebilirsiniz. TÃ¼m alt aÄŸlar aynÄ± VPC'den olmalÄ±dÄ±r. Her alt aÄŸ farklÄ± bir KullanÄ±labilirlik BÃ¶lgesine ait olmalÄ±dÄ±r.
* **Rota**: Her Ä°stemci VPN uÃ§ noktasÄ±nÄ±n, mevcut hedef aÄŸ rotalarÄ±nÄ± tanÄ±mlayan bir rota tablosu vardÄ±r. Rota tablosundaki her rota, belirli kaynaklar veya aÄŸlar iÃ§in trafiÄŸin yolunu belirtir.
* **Yetkilendirme kurallarÄ±:** Bir yetkilendirme kuralÄ±, bir aÄŸa eriÅŸebilecek kullanÄ±cÄ±larÄ± **sÄ±nÄ±rlar**. Belirtilen bir aÄŸ iÃ§in, eriÅŸime izin verilen Active Directory veya kimlik saÄŸlayÄ±cÄ± (IdP) grubunu yapÄ±landÄ±rÄ±rsÄ±nÄ±z. YalnÄ±zca bu gruba ait kullanÄ±cÄ±lar belirtilen aÄŸa eriÅŸebilir. **VarsayÄ±lan olarak yetkilendirme kurallarÄ± yoktur** ve kullanÄ±cÄ±larÄ±n kaynaklara ve aÄŸlara eriÅŸmesini saÄŸlamak iÃ§in yetkilendirme kurallarÄ±nÄ± yapÄ±landÄ±rmanÄ±z gerekir.
* **Ä°stemci:** VPN oturumu kurmak iÃ§in Ä°stemci VPN uÃ§ noktasÄ±na baÄŸlanan son kullanÄ±cÄ±. Son kullanÄ±cÄ±lar, bir OpenVPN istemcisi indirmeli ve VPN oturumu kurmak iÃ§in oluÅŸturduÄŸunuz Ä°stemci VPN yapÄ±landÄ±rma dosyasÄ±nÄ± kullanmalÄ±dÄ±r.
* **Ä°stemci CIDR aralÄ±ÄŸÄ±:** Ä°stemci IP adreslerini atamak iÃ§in kullanÄ±lacak bir IP adres aralÄ±ÄŸÄ±. Ä°stemci VPN uÃ§ noktasÄ±na yapÄ±lan her baÄŸlantÄ±, istemci CIDR aralÄ±ÄŸÄ±ndan benzersiz bir IP adresi atanÄ±r. Ä°stemci CIDR aralÄ±ÄŸÄ±nÄ± seÃ§ersiniz, Ã¶rneÄŸin `10.2.0.0/16`.
* **Ä°stemci VPN baÄŸlantÄ± noktalarÄ±:** AWS Ä°stemci VPN, TCP ve UDP iÃ§in 443 ve 1194 baÄŸlantÄ± noktalarÄ±nÄ± destekler. VarsayÄ±lan baÄŸlantÄ± noktasÄ± 443'tÃ¼r.
* **Ä°stemci VPN aÄŸ arabirimleri:** Bir alt aÄŸÄ± Ä°stemci VPN uÃ§ noktanÄ±za iliÅŸkilendirdiÄŸinizde, o alt aÄŸda Ä°stemci VPN aÄŸ arabirimleri oluÅŸtururuz. Ä°stemci VPN uÃ§ noktasÄ±ndan VPC'ye gÃ¶nderilen trafiÄŸin Ä°stemci VPN aÄŸ arabiriminden geÃ§mesi saÄŸlanÄ±r. ArdÄ±ndan, istemci CIDR aralÄ±ÄŸÄ±ndan gelen kaynak IP adresi, Ä°stemci VPN aÄŸ arabirimi IP adresine Ã§evrilir.
* **BaÄŸlantÄ± gÃ¼nlÃ¼ÄŸÃ¼:** Ä°stemci VPN uÃ§ noktanÄ±z iÃ§in baÄŸlantÄ± gÃ¼nlÃ¼ÄŸÃ¼nÃ¼ etkinleÅŸtirebilirsiniz. Bu bilgileri kullanarak, Ä°stemci VPN uÃ§ noktanÄ±zÄ±n nasÄ±l kullanÄ±ldÄ±ÄŸÄ±nÄ± analiz edebilir, sorunlarÄ± gidermeye yardÄ±mcÄ± olabilir veya adli biliÅŸim Ã§alÄ±ÅŸmalarÄ± yapabilirsiniz.
* **Self-servis portalÄ±:** Ä°stemci VPN uÃ§ noktanÄ±z iÃ§in bir self-servis portalÄ± etkinleÅŸtirebilirsiniz. Ä°stemciler, kimlik bilgilerini kullanarak web tabanlÄ± porta giriÅŸ yapabilir ve Ä°stemci VPN uÃ§ noktasÄ± yapÄ±landÄ±rma dosyasÄ±nÄ±n veya AWS tarafÄ±ndan saÄŸlanan en son sÃ¼rÃ¼mÃ¼nÃ¼ indirebilir.

#### SÄ±nÄ±rlamalar

* **Ä°stemci CIDR aralÄ±klarÄ±**, iliÅŸkili alt aÄŸÄ±n bulunduÄŸu VPC'nin yerel CIDR'Ä± veya Ä°stemci VPN uÃ§ noktasÄ±nÄ±n rota tablosuna manuel olarak eklenen herhangi bir rota ile Ã¶rtÃ¼ÅŸemez.
* Ä°stemci CIDR aralÄ±klarÄ±, en az /22 blok boyutuna sahip olmalÄ± ve /12'den bÃ¼yÃ¼k olmamalÄ±dÄ±r.
* Ä°stemci CIDR aralÄ±ÄŸÄ±ndaki IP adreslerinin bir **bÃ¶lÃ¼mÃ¼**, Ä°stemci VPN uÃ§ noktasÄ±nÄ±n kullanÄ±labilirlik modelini desteklemek iÃ§in kullanÄ±lÄ±r ve istemcilere atanamaz. Bu nedenle, Ä°stemci VPN uÃ§ noktasÄ±nda desteklemeyi planladÄ±ÄŸÄ±nÄ±z maksimum eÅŸzamanlÄ± baÄŸlantÄ± sayÄ±sÄ±nÄ± etkinleÅŸtirmek iÃ§in gereken IP adresi sayÄ±sÄ±nÄ±n iki katÄ±nÄ± iÃ§eren bir CIDR bloÄŸu atamanÄ±zÄ± Ã¶neririz.
* Ä°stemci CIDR aralÄ±ÄŸÄ±, Ä°stemci VPN uÃ§ noktasÄ±nÄ± oluÅŸturduktan sonra deÄŸiÅŸtirilemez.
* Ä°stemci VPN uÃ§ noktasÄ±yla iliÅŸkilendirilen **alt aÄŸlar aynÄ± VPC'de olmalÄ±dÄ±r**.
* **AynÄ± KullanÄ±labilirlik BÃ¶lgesinden birden Ã§ok alt aÄŸÄ± Ä°stemci VPN uÃ§ noktasÄ±yla iliÅŸkilendiremezsiniz**.
* Ä°stemci VPN uÃ§ noktasÄ±, **ayrÄ±calÄ±klÄ± bir kiracÄ±lÄ±k VPC'sinde alt aÄŸ iliÅŸkilendirmelerini desteklemez**.
* Ä°stemci VPN yalnÄ±zca IPv4 trafiÄŸini destekler.
* Ä°stemci VPN, Federal Bilgi Ä°ÅŸleme StandartlarÄ± (FIPS) uyumlu deÄŸildir.
* EÄŸer Active Directory'niz iÃ§in Ã§ok faktÃ¶rlÃ¼ kimlik doÄŸrulama (MFA) devre dÄ±ÅŸÄ± bÄ±rakÄ±lmÄ±ÅŸsa, bir kullanÄ±cÄ± ÅŸifresi aÅŸaÄŸÄ±daki formatta olamaz.

```
SCRV1:<base64_encoded_string>:<base64_encoded_string>
```
* KarÅŸÄ±lÄ±klÄ± kimlik doÄŸrulama kullanarak kimlik doÄŸrulama yapan istemciler iÃ§in self-servis portalÄ± **kullanÄ±lamaz**.

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong> ile sÄ±fÄ±rdan kahraman olmak iÃ§in AWS hackleme Ã¶ÄŸrenin!</summary>

HackTricks'i desteklemenin diÄŸer yollarÄ±:

* Åirketinizi HackTricks'te **tanÄ±tmak veya HackTricks'i PDF olarak indirmek** iÃ§in [**ABONELÄ°K PLANLARI**](https://github.com/sponsors/carlospolop)'na gÃ¶z atÄ±n!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* Ã–zel [**NFT'lerden**](https://opensea.io/collection/the-peass-family) oluÅŸan koleksiyonumuz [**The PEASS Family**](https://opensea.io/collection/the-peass-family)'yi keÅŸfedin
* ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) katÄ±lÄ±n veya bizi **Twitter** ğŸ¦ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**'da** takip edin.
* **Hacking hilelerinizi paylaÅŸarak** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna PR gÃ¶ndererek katkÄ±da bulunun.

</details>
