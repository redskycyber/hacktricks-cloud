# GCP - App Engine Enum

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)ã§AWSãƒãƒƒã‚­ãƒ³ã‚°ã‚’ã‚¼ãƒ­ã‹ã‚‰ãƒ’ãƒ¼ãƒ­ãƒ¼ã¾ã§å­¦ã¶</strong></summary>

HackTricksã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ä»–ã®æ–¹æ³•:

* **HackTricksã«ã‚ãªãŸã®ä¼šç¤¾ã‚’åºƒå‘Šã—ãŸã„**ã€ã¾ãŸã¯**HackTricksã‚’PDFã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸã„**å ´åˆã¯ã€[**ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ãƒ—ãƒ©ãƒ³**](https://github.com/sponsors/carlospolop)ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„ï¼
* [**å…¬å¼PEASS & HackTricksã‚°ãƒƒã‚º**](https://peass.creator-spring.com)ã‚’å…¥æ‰‹ã™ã‚‹
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ã‚’ç™ºè¦‹ã—ã€ç‹¬å çš„ãª[**NFTs**](https://opensea.io/collection/the-peass-family)ã®ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹
* ğŸ’¬ [**Discordã‚°ãƒ«ãƒ¼ãƒ—**](https://discord.gg/hRep4RUj7f)ã«**å‚åŠ ã™ã‚‹**ã‹ã€[**ãƒ†ãƒ¬ã‚°ãƒ©ãƒ ã‚°ãƒ«ãƒ¼ãƒ—**](https://t.me/peass)ã«å‚åŠ ã™ã‚‹ã‹ã€**Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/carlospolopm)ã‚’**ãƒ•ã‚©ãƒ­ãƒ¼ã™ã‚‹**ã€‚
* [**HackTricks**](https://github.com/carlospolop/hacktricks)ã¨[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud)ã®githubãƒªãƒã‚¸ãƒˆãƒªã«PRã‚’æå‡ºã—ã¦ã€ã‚ãªãŸã®ãƒãƒƒã‚­ãƒ³ã‚°ã®ã‚³ãƒ„ã‚’**å…±æœ‰ã™ã‚‹**ã€‚

</details>

## App Engineã®è¨­å®š <a href="#reviewing-app-engine-configurations" id="reviewing-app-engine-configurations"></a>

Google [App Engine](https://cloud.google.com/appengine/)ã¯ã€ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£ã«ç„¦ç‚¹ã‚’å½“ã¦ãŸã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã®ãŸã‚ã®**åˆ¥ã®**[**"ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹"**](https://about.gitlab.com/topics/serverless/)ã‚ªãƒ•ã‚¡ãƒªãƒ³ã‚°ã§ã‚ã‚Šã€é–‹ç™ºè€…ãŒã‚¤ãƒ³ãƒ•ãƒ©ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£ã®ç®¡ç†ã‚’å¿ƒé…ã™ã‚‹ã“ã¨ãªã**ã‚¦ã‚§ãƒ–ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚„APIã‚’æ§‹ç¯‰ã—ã€ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹**ã“ã¨ã‚’å¯èƒ½ã«ã—ã¾ã™ã€‚

ã‚¢ãƒ—ãƒªã‚’å®Ÿè¡Œã—ã¦ã„ã‚‹ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ãŸã‚ã®ã‚·ãƒ³ãƒ—ãƒ«ãª**ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«**ã¯ã€ä»¥ä¸‹ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§è¨­å®šã§ãã¾ã™ï¼š

<figure><img src="../../../.gitbook/assets/image (3) (1).png" alt=""><figcaption></figcaption></figure>

ã“ã‚Œã‚‰ã®ã‚¢ãƒ—ãƒªã«ã‚ˆã£ã¦ä½¿ç”¨ã•ã‚Œã‚‹ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã¯**`<proj-name>@appspot.gserviceaccount.com`**ã§ã‚ã‚Šã€APP Engineã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹å†…ã®SAsã¯**cloud-platformã‚¹ã‚³ãƒ¼ãƒ—ï¼ˆä»–ã«ã‚‚ã‚ã‚Šã¾ã™ï¼‰ã§å®Ÿè¡Œã•ã‚Œã¾ã™ã€‚**

### åˆ—æŒ™

{% hint style="danger" %}
ã‚¢ãƒ—ãƒªã«æ–°ã—ã„ã‚³ãƒ¼ãƒ‰ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ãŸã³ã«ã€**æ–°ã—ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒä½œæˆã•ã‚Œã¾ã™**ã€‚**ã™ã¹ã¦ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒä¿å­˜ã•ã‚Œ**ã€ãã‚Œã‚‰ã«ã¯**ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ãŸã‚ã®URLã‚‚ã‚ã‚Šã¾ã™**ã€‚ã—ãŸãŒã£ã¦ã€å¤ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ã‚³ãƒ¼ãƒ‰ã‚’å¤‰æ›´ã™ã‚‹ã“ã¨ã¯ã€**å„ªã‚ŒãŸæŒç¶šæ€§æŠ€è¡“ã«ãªã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™**ã€‚
{% endhint %}

Cloud Functionsã¨åŒæ§˜ã«ã€**ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒå®Ÿè¡Œæ™‚ã«ç’°å¢ƒå¤‰æ•°ã‚’ä»‹ã—ã¦ã‚¢ã‚¯ã‚»ã‚¹ã•ã‚Œã‚‹ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã«ä¾å­˜ã—ã¦ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™**ã€‚ã“ã‚Œã‚‰ã®å¤‰æ•°ã¯**`app.yaml`**ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¿å­˜ã•ã‚Œã€æ¬¡ã®ã‚ˆã†ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ï¼š
```bash
# List the apps
gcloud app services list
gcloud app services describe <app-name>
# Access via browser to the specified app
gcloud app services browse <app-name>

# Get App versions
gcloud app versions list
# Get all the info of the app and version, included specific verion URL and the env
gcloud app versions describe -s <app-name> <version-id>

# Logs
gcloud app logs tail -s <app-name>

# Instances
## This is only valid if a flexible environment is used and not a standard one
gcloud app instances list
gcloud app instances describe -s <app-name> --version <version-id> <ID>
## Connect to the instance via ssh
gcloud app instances ssh --service <app-name> --version <version-id> <ID>

# Firewalls
gcloud app firewall-rules list
gcloud app firewall-rules describe <num_fw>

# Get domains
gcloud app domain-mappings list
gcloud app domain-mappings describe <name>

# SSl certificates
gcloud app ssl-certificates list
gcloud app ssl-certificates describe <name>
```
### ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸

ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯ã€`<proj-id>.appspot.com` ã‚„ `staging.<proj-id>.appspot.com` ã®ã‚ˆã†ãªåå‰ã®ãƒã‚±ãƒƒãƒˆã«**è‡ªå‹•çš„ã«ä¿å­˜ã•ã‚Œã¾ã™**ã€‚

ã‚¢ãƒ—ãƒªã®**ã™ã¹ã¦ã®ãƒ•ã‚¡ã‚¤ãƒ«**ã¯ã€**sha1ã®å†…å®¹ã‚’ãƒ•ã‚¡ã‚¤ãƒ«åã¨ã—ã¦**ä¿å­˜ã•ã‚Œã¾ã™ï¼š

<figure><img src="../../../.gitbook/assets/image (4) (6).png" alt=""><figcaption></figcaption></figure>

**`ae`** ãƒ•ã‚©ãƒ«ãƒ€ã®ä¸­ã«ã¯ã€ã‚¢ãƒ—ãƒªã®**ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’è¨˜è¿°ã™ã‚‹** **`manifest.json`** ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å«ã‚€ã€**ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã”ã¨ã®ãƒ•ã‚©ãƒ«ãƒ€ãŒå­˜åœ¨ã—ã¾ã™**ï¼š&#x20;

{% code overflow="wrap" %}
```json
{"requirements.txt":{"sourceUrl":"https://storage.googleapis.com/staging.onboarding-host-98efbf97812843.appspot.com/a270eedcbe2672c841251022b7105d340129d108","sha1Sum":"a270eedc_be2672c8_41251022_b7105d34_0129d108"},"main_test.py":{"sourceUrl":"https://storage.googleapis.com/staging.onboarding-host-98efbf97812843.appspot.com/0ca32fd70c953af94d02d8a36679153881943f32","sha1Sum":"0ca32fd7_0c953af9_4d02d8a ...
```
```markdown
{% endcode %}

{% hint style="warning" %}
ã“ã®ãƒã‚±ãƒƒãƒˆã«**æ›¸ãè¾¼ã¿å¯èƒ½ãªãƒ—ãƒªãƒ³ã‚·ãƒ‘ãƒ«**ã¯ã€ã‚³ãƒ¼ãƒ‰ã‚’**ä¸Šæ›¸ã**ã—ã¦ã‚¢ãƒ—ãƒªã«**ä»»æ„ã®ã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè¡Œã•ã›ã‚‹**ã“ã¨ãŒã§ãã¾ã™ã€‚ï¼ˆTODO: ã“ã‚Œã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ï¼‰
{% endhint %}

### Privesc

{% content-ref url="../gcp-privilege-escalation/gcp-appengine-privesc.md" %}
[gcp-appengine-privesc.md](../gcp-privilege-escalation/gcp-appengine-privesc.md)
{% endcontent-ref %}

<details>

<summary><strong>htARTEï¼ˆHackTricks AWS Red Team Expertï¼‰ã§<strong>ã‚¼ãƒ­ã‹ã‚‰ãƒ’ãƒ¼ãƒ­ãƒ¼ã¾ã§AWSãƒãƒƒã‚­ãƒ³ã‚°ã‚’å­¦ã¶</strong></a><strong>ï¼</strong></summary>

HackTricksã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ä»–ã®æ–¹æ³•ï¼š

* **HackTricksã«ã‚ãªãŸã®ä¼šç¤¾ã‚’åºƒå‘Šã—ãŸã„**ã€ã¾ãŸã¯**HackTricksã‚’PDFã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸã„**å ´åˆã¯ã€[**ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ãƒ—ãƒ©ãƒ³**](https://github.com/sponsors/carlospolop)ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„ï¼
* [**å…¬å¼PEASS & HackTricksã‚°ãƒƒã‚º**](https://peass.creator-spring.com)ã‚’å…¥æ‰‹ã™ã‚‹
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ã‚’ç™ºè¦‹ã—ã€ç‹¬å çš„ãª[**NFTs**](https://opensea.io/collection/the-peass-family)ã®ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹
* ğŸ’¬ [**Discordã‚°ãƒ«ãƒ¼ãƒ—**](https://discord.gg/hRep4RUj7f)ã«**å‚åŠ ã™ã‚‹**ã‹ã€[**ãƒ†ãƒ¬ã‚°ãƒ©ãƒ ã‚°ãƒ«ãƒ¼ãƒ—**](https://t.me/peass)ã«å‚åŠ ã™ã‚‹ã€ã¾ãŸã¯**Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/carlospolopm)ã§**ãƒ•ã‚©ãƒ­ãƒ¼ã™ã‚‹**ã€‚
* [**HackTricks**](https://github.com/carlospolop/hacktricks)ã¨[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud)ã®githubãƒªãƒã‚¸ãƒˆãƒªã«PRã‚’æå‡ºã—ã¦ã€ã‚ãªãŸã®ãƒãƒƒã‚­ãƒ³ã‚°ã®ã‚³ãƒ„ã‚’**å…±æœ‰ã™ã‚‹**ã€‚

</details>
```
