# GCP - App Engine æšä¸¾

<details>

<summary><strong>ä»é›¶åˆ°è‹±é›„å­¦ä¹ AWSé»‘å®¢æŠ€æœ¯ï¼Œå‚åŠ </strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS çº¢é˜Ÿä¸“å®¶)</strong></a><strong>ï¼</strong></summary>

æ”¯æŒHackTricksçš„å…¶ä»–æ–¹å¼ï¼š

* å¦‚æœæ‚¨å¸Œæœ›åœ¨ **HackTricksä¸­çœ‹åˆ°æ‚¨çš„å…¬å¸å¹¿å‘Š** æˆ– **ä¸‹è½½HackTricksçš„PDFç‰ˆæœ¬**ï¼Œè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)ï¼
* è·å–[**å®˜æ–¹çš„PEASS & HackTrickså•†å“**](https://peass.creator-spring.com)
* æ¢ç´¢[**PEASSå®¶æ—**](https://opensea.io/collection/the-peass-family)ï¼Œæˆ‘ä»¬ç‹¬å®¶çš„[**NFTsç³»åˆ—**](https://opensea.io/collection/the-peass-family)
* **åŠ å…¥** ğŸ’¬ [**Discordç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**telegramç¾¤ç»„**](https://t.me/peass) æˆ–åœ¨ **Twitter** ğŸ¦ ä¸Š**å…³æ³¨**æˆ‘ [**@carlospolopm**](https://twitter.com/carlospolopm)**ã€‚**
* **é€šè¿‡å‘** [**HackTricks**](https://github.com/carlospolop/hacktricks) å’Œ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) githubä»“åº“æäº¤PRæ¥åˆ†äº«æ‚¨çš„é»‘å®¢æŠ€å·§ã€‚

</details>

## App Engine é…ç½® <a href="#reviewing-app-engine-configurations" id="reviewing-app-engine-configurations"></a>

Google [App Engine](https://cloud.google.com/appengine/) æ˜¯ **å¦ä¸€ä¸ª** [**"æ— æœåŠ¡å™¨"**](https://about.gitlab.com/topics/serverless/) ç”¨äºæ‰˜ç®¡åº”ç”¨ç¨‹åºçš„æœåŠ¡ï¼Œä¸“æ³¨äºå¯æ‰©å±•æ€§ï¼Œå¹¶ä½¿å¼€å‘äººå‘˜èƒ½å¤Ÿ **æ„å»ºå’Œéƒ¨ç½²Webåº”ç”¨ç¨‹åºå’ŒAPI** è€Œæ— éœ€æ‹…å¿ƒç®¡ç†åŸºç¡€è®¾æ–½ã€‚

å¯ä»¥ä¸ºè¿è¡ŒAppsçš„å®ä¾‹é…ç½®ä¸€ä¸ªç®€å•çš„ **é˜²ç«å¢™**ï¼Œå…·æœ‰ä»¥ä¸‹é€‰é¡¹ï¼š

<figure><img src="../../../.gitbook/assets/image (3) (1).png" alt=""><figcaption></figcaption></figure>

è¿™äº›Appsä½¿ç”¨çš„é»˜è®¤æœåŠ¡è´¦æˆ·æ˜¯ **`<proj-name>@appspot.gserviceaccount.com`**ï¼ŒAPP Engineå®ä¾‹å†…çš„SAs **è¿è¡Œæ—¶å…·æœ‰cloud-platformèŒƒå›´ï¼ˆä»¥åŠå…¶ä»–èŒƒå›´ï¼‰ã€‚**

### æšä¸¾

{% hint style="danger" %}
æ¯æ¬¡å‘Appä¸Šä¼ æ–°ä»£ç æ—¶ï¼Œ**éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°ç‰ˆæœ¬**ã€‚**æ‰€æœ‰ç‰ˆæœ¬éƒ½ä¼šè¢«å­˜å‚¨**ï¼Œå®ƒä»¬ç”šè‡³æœ‰ä¸€ä¸ª**URLå¯ä»¥è®¿é—®**ã€‚å› æ­¤ï¼Œä¿®æ”¹æ—§ç‰ˆæœ¬çš„ä»£ç å¯èƒ½æ˜¯ä¸€ä¸ª**æä½³çš„æŒä¹…æ€§æŠ€æœ¯**ã€‚
{% endhint %}

ä¸Cloud Functionsä¸€æ ·ï¼Œ**åº”ç”¨ç¨‹åºå¯èƒ½ä¾èµ–äºåœ¨è¿è¡Œæ—¶é€šè¿‡ç¯å¢ƒå˜é‡è®¿é—®çš„ç§˜å¯†**ã€‚è¿™äº›å˜é‡å­˜å‚¨åœ¨ä¸€ä¸ª **`app.yaml`** æ–‡ä»¶ä¸­ï¼Œå¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ–¹å¼è®¿é—®ï¼š
```bash
# List the apps
gcloud app services list
gcloud app services describe <app-name>
# Access via browser to the specified app
gcloud app services browse <app-name>

# Get App versions
gcloud app versions list
# Get all the info of the app and version, included specific verion URL and the env
gcloud app versions describe -s <app-name> <version-id>

# Logs
gcloud app logs tail -s <app-name>

# Instances
## This is only valid if a flexible environment is used and not a standard one
gcloud app instances list
gcloud app instances describe -s <app-name> --version <version-id> <ID>
## Connect to the instance via ssh
gcloud app instances ssh --service <app-name> --version <version-id> <ID>

# Firewalls
gcloud app firewall-rules list
gcloud app firewall-rules describe <num_fw>

# Get domains
gcloud app domain-mappings list
gcloud app domain-mappings describe <name>

# SSl certificates
gcloud app ssl-certificates list
gcloud app ssl-certificates describe <name>
```
### å­˜å‚¨

æºä»£ç ä¼š**è‡ªåŠ¨å­˜å‚¨åœ¨ä»¥å¦‚ `<proj-id>.appspot.com` æˆ– `staging.<proj-id>.appspot.com` å‘½åçš„å­˜å‚¨æ¡¶ä¸­**

Appçš„**æ¯ä¸ªæ–‡ä»¶**éƒ½ä»¥å…¶å†…å®¹çš„**sha1æ•£åˆ—å€¼ä½œä¸ºæ–‡ä»¶å**å­˜å‚¨ï¼š

<figure><img src="../../../.gitbook/assets/image (4) (6).png" alt=""><figcaption></figcaption></figure>

åœ¨ **`ae`** æ–‡ä»¶å¤¹å†…ï¼Œ**æ¯ä¸ªç‰ˆæœ¬éƒ½æœ‰ä¸€ä¸ªæ–‡ä»¶å¤¹**ï¼Œå…¶ä¸­åŒ…å«ä¸€ä¸ª**`manifest.json`** æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶**æè¿°äº†** Appçš„ç»„ä»¶ï¼š&#x20;

{% code overflow="wrap" %}
```json
{"requirements.txt":{"sourceUrl":"https://storage.googleapis.com/staging.onboarding-host-98efbf97812843.appspot.com/a270eedcbe2672c841251022b7105d340129d108","sha1Sum":"a270eedc_be2672c8_41251022_b7105d34_0129d108"},"main_test.py":{"sourceUrl":"https://storage.googleapis.com/staging.onboarding-host-98efbf97812843.appspot.com/0ca32fd70c953af94d02d8a36679153881943f32","sha1Sum":"0ca32fd7_0c953af9_4d02d8a ...
```
{% endcode %}

{% hint style="warning" %}
å…·æœ‰**å†™å…¥æ­¤å­˜å‚¨æ¡¶**æƒé™çš„ä¸»ä½“å°†èƒ½å¤Ÿ**è¦†ç›–**ä»£ç å¹¶ä½¿åº”ç”¨**æ‰§è¡Œä»»æ„ä»£ç **ã€‚ï¼ˆå¾…æµ‹è¯•ï¼‰
{% endhint %}

### æƒé™æå‡

{% content-ref url="../gcp-privilege-escalation/gcp-appengine-privesc.md" %}
[gcp-appengine-privesc.md](../gcp-privilege-escalation/gcp-appengine-privesc.md)
{% endcontent-ref %}

<details>

<summary><strong>é€šè¿‡</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS çº¢é˜Ÿä¸“å®¶)</strong></a><strong>ä»é›¶å¼€å§‹å­¦ä¹  AWS é»‘å®¢æ”»å‡»ï¼</strong></summary>

æ”¯æŒ HackTricks çš„å…¶ä»–æ–¹å¼ï¼š

* å¦‚æœæ‚¨å¸Œæœ›åœ¨ HackTricks ä¸­çœ‹åˆ°æ‚¨çš„**å…¬å¸å¹¿å‘Š**æˆ–**ä¸‹è½½ HackTricks çš„ PDF**ï¼Œè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)ï¼
* è·å–[**å®˜æ–¹ PEASS & HackTricks å•†å“**](https://peass.creator-spring.com)
* å‘ç°[**PEASS å®¶æ—**](https://opensea.io/collection/the-peass-family)ï¼Œæˆ‘ä»¬ç‹¬å®¶çš„[**NFTs é›†åˆ**](https://opensea.io/collection/the-peass-family)
* **åŠ å…¥** ğŸ’¬ [**Discord ç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**telegram ç¾¤ç»„**](https://t.me/peass) æˆ–åœ¨ **Twitter** ğŸ¦ ä¸Š**å…³æ³¨**æˆ‘ [**@carlospolopm**](https://twitter.com/carlospolopm)**ã€‚**
* **é€šè¿‡å‘** [**HackTricks**](https://github.com/carlospolop/hacktricks) å’Œ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github ä»“åº“æäº¤ PR æ¥**åˆ†äº«æ‚¨çš„é»‘å®¢æŠ€å·§**ã€‚

</details>
