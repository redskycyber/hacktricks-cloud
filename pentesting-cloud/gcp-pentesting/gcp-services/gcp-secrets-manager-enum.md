# GCP - Secrets Manager Enum

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong> ile sÄ±fÄ±rdan kahraman olmak iÃ§in AWS hackleme Ã¶ÄŸrenin<strong>!</strong></summary>

HackTricks'i desteklemenin diÄŸer yollarÄ±:

* Åirketinizi HackTricks'te **reklamÄ±nÄ±zÄ± gÃ¶rmek** veya HackTricks'i **PDF olarak indirmek** iÃ§in [**ABONELÄ°K PLANLARINI**](https://github.com/sponsors/carlospolop) kontrol edin!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* Ã–zel [**NFT'lerden**](https://opensea.io/collection/the-peass-family) oluÅŸan koleksiyonumuz [**The PEASS Family**](https://opensea.io/collection/the-peass-family)'i keÅŸfedin
* ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katÄ±lÄ±n** veya **Twitter** ğŸ¦ [**@hacktricks_live**](https://twitter.com/hacktricks_live)'Ä± **takip edin**.
* **Hacking hilelerinizi** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna **PR gÃ¶ndererek** paylaÅŸÄ±n.

</details>

## Secret Manager

Google [**Secret Manager**](https://cloud.google.com/solutions/secrets-management/), ÅŸifreleri, API anahtarlarÄ±nÄ±, sertifikalarÄ±, dosyalarÄ± (maksimum 64KB) ve diÄŸer hassas verileri depolamak iÃ§in bir kasa benzeri bir Ã§Ã¶zÃ¼mdÃ¼r.

Bir sÄ±r, **farklÄ± verileri depolayan farklÄ± sÃ¼rÃ¼mlere sahip olabilir**.

SÄ±rlar, **varsayÄ±lan olarak Google tarafÄ±ndan yÃ¶netilen bir anahtar** kullanÄ±larak **ÅŸifrelenir**, ancak sÄ±rrÄ± ÅŸifrelemek iÃ§in kullanÄ±lacak bir anahtar seÃ§mek iÃ§in **KMS'den bir anahtar seÃ§mek mÃ¼mkÃ¼ndÃ¼r**.

**DÃ¶nÃ¼ÅŸÃ¼m** ile ilgili olarak, **belirli bir gÃ¼n iÃ§in pub-sub'a gÃ¶nderilecek mesajlar yapÄ±landÄ±rÄ±labilir**, bu mesajlarÄ± dinleyen kod, sÄ±rrÄ± **dÃ¶ndÃ¼rebilir**.

**Otomatik silme** iÃ§in bir gÃ¼n yapÄ±landÄ±rmak mÃ¼mkÃ¼ndÃ¼r, belirtilen gÃ¼n **ulaÅŸÄ±ldÄ±ÄŸÄ±nda**, **sÄ±r otomatik olarak silinecektir**.

### Enumerasyon
```bash
# First, list the entries
gcloud secrets list
gcloud secrets get-iam-policy <secret_name>

# Then, pull the clear-text of any version of any secret
gcloud secrets versions list <secret_name>
gcloud secrets versions access 1 --secret="<secret_name>"
```
### Yetki YÃ¼kseltme

AÅŸaÄŸÄ±daki sayfada, **yetki yÃ¼kseltmek iÃ§in secretmanager izinlerinin kÃ¶tÃ¼ye kullanÄ±mÄ±nÄ±** nasÄ±l kontrol edeceÄŸinizi gÃ¶rebilirsiniz.

{% content-ref url="../../gcp-security/gcp-privilege-escalation/gcp-secretmanager-privesc.md" %}
[gcp-secretmanager-privesc.md](../../gcp-security/gcp-privilege-escalation/gcp-secretmanager-privesc.md)
{% endcontent-ref %}

### SaldÄ±rÄ± SonrasÄ±

{% content-ref url="../../gcp-security/gcp-post-exploitation/gcp-secretmanager-post-exploitation.md" %}
[gcp-secretmanager-post-exploitation.md](../../gcp-security/gcp-post-exploitation/gcp-secretmanager-post-exploitation.md)
{% endcontent-ref %}

### SÃ¼reklilik

{% content-ref url="../../gcp-security/gcp-persistence/gcp-secret-manager-persistence.md" %}
[gcp-secret-manager-persistence.md](../../gcp-security/gcp-persistence/gcp-secret-manager-persistence.md)
{% endcontent-ref %}

### DÃ¶ndÃ¼rme yanlÄ±ÅŸ kullanÄ±mÄ±

Bir saldÄ±rgan, gizli bilgiyi **dÃ¶ndÃ¼rmeleri durdurmak** iÃ§in gÃ¼ncelleyebilir (bu ÅŸekilde deÄŸiÅŸtirilmez), veya dÃ¶ndÃ¼rmelerin **daha az sÄ±klÄ±kla** gerÃ§ekleÅŸmesini saÄŸlayabilir (bu ÅŸekilde gizli bilgi deÄŸiÅŸtirilmez), veya dÃ¶ndÃ¼rme mesajÄ±nÄ± farklÄ± bir pub/sub'a **yayÄ±nlayabilir**, veya dÃ¶ndÃ¼rme kodunu deÄŸiÅŸtirebilir (bu baÅŸka bir hizmette gerÃ§ekleÅŸir, muhtemelen bir Cloud Function'da, bu nedenle saldÄ±rganÄ±n Cloud Function veya baÅŸka bir hizmet Ã¼zerinde ayrÄ±calÄ±klÄ± eriÅŸime ihtiyacÄ± olacaktÄ±r)

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong> ile sÄ±fÄ±rdan kahraman olmak iÃ§in AWS hackleme Ã¶ÄŸrenin<strong>!</strong></summary>

HackTricks'i desteklemenin diÄŸer yollarÄ±:

* Åirketinizi HackTricks'te **reklamÄ±nÄ±zÄ± gÃ¶rmek** veya HackTricks'i **PDF olarak indirmek** iÃ§in [**ABONELÄ°K PLANLARINI**](https://github.com/sponsors/carlospolop) kontrol edin!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* Ã–zel [**NFT'lerden**](https://opensea.io/collection/the-peass-family) oluÅŸan koleksiyonumuz [**The PEASS Family**](https://opensea.io/collection/the-peass-family)'i keÅŸfedin
* ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katÄ±lÄ±n** veya bizi **Twitter** ğŸ¦ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**'da takip edin**.
* **Hacking hilelerinizi** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna **PR gÃ¶ndererek** paylaÅŸÄ±n.

</details>
