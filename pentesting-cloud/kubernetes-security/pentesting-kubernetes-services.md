# Kubernetes Hizmetlerini Pentest Etmek

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong> ile sÄ±fÄ±rdan kahramana kadar AWS hackleme Ã¶ÄŸrenin<strong>!</strong></summary>

HackTricks'i desteklemenin diÄŸer yollarÄ±:

* Åirketinizi HackTricks'te **reklamÄ±nÄ±zÄ± gÃ¶rmek** veya **HackTricks'i PDF olarak indirmek** iÃ§in [**ABONELÄ°K PLANLARI**](https://github.com/sponsors/carlospolop)'na gÃ¶z atÄ±n!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) keÅŸfedin, Ã¶zel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family) koleksiyonumuz
* ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katÄ±lÄ±n** veya **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/carlospolopm)'u **takip edin**.
* **Hacking hilelerinizi** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github depolarÄ±na **PR gÃ¶ndererek paylaÅŸÄ±n**.

</details>

Kubernetes, **Ä°nternet'e aÃ§Ä±k** veya **bir pod'u ele geÃ§irdikten sonra iÃ§ aÄŸda** bulabileceÄŸiniz birkaÃ§ **Ã¶zel aÄŸ hizmeti** kullanÄ±r.

## OSINT ile AÃ§Ä±ÄŸa Ã‡Ä±karÄ±lmÄ±ÅŸ PodlarÄ± Bulma

Bir yol, kubernetes ile ilgili alt alanlarÄ± bulmak iÃ§in [crt.sh](https://crt.sh) Ã¼zerinde `Identity LIKE "k8s.%.com"` aramasÄ± yapmaktÄ±r. BaÅŸka bir yol, github'da `"k8s.%.com"` aramasÄ± yapmak ve dizeyi iÃ§eren **YAML dosyalarÄ±nÄ±** aramaktÄ±r.

## Kubernetes Hizmetlerini NasÄ±l AÃ§Ä±ÄŸa Ã‡Ä±karÄ±r

Hizmetleri **genel olarak aÃ§Ä±ÄŸa Ã§Ä±karabilen** Kubernetes'in nasÄ±l Ã§alÄ±ÅŸtÄ±ÄŸÄ±nÄ± anlamanÄ±z faydalÄ± olabilir:

{% content-ref url="exposing-services-in-kubernetes.md" %}
[exposing-services-in-kubernetes.md](exposing-services-in-kubernetes.md)
{% endcontent-ref %}

## Port TaramasÄ± ile AÃ§Ä±ÄŸa Ã‡Ä±karÄ±lmÄ±ÅŸ PodlarÄ± Bulma

Bir Kubernetes kÃ¼mesinde aÅŸaÄŸÄ±daki portlar aÃ§Ä±k olabilir:

| Port            | Process        | AÃ§Ä±klama                                                                |
| --------------- | -------------- | ---------------------------------------------------------------------- |
| 443/TCP         | kube-apiserver | Kubernetes API baÄŸlantÄ± noktasÄ±                                                    |
| 2379/TCP        | etcd           |                                                                        |
| 6666/TCP        | etcd           | etcd                                                                   |
| 4194/TCP        | cAdvisor       | Konteyner metrikleri                                                      |
| 6443/TCP        | kube-apiserver | Kubernetes API baÄŸlantÄ± noktasÄ±                                                    |
| 8443/TCP        | kube-apiserver | Minikube API baÄŸlantÄ± noktasÄ±                                                      |
| 8080/TCP        | kube-apiserver | GÃ¼vensiz API baÄŸlantÄ± noktasÄ±                                                      |
| 10250/TCP       | kubelet        | Tam eriÅŸim izni veren HTTPS API'si                                |
| 10255/TCP       | kubelet        | Kimlik doÄŸrulamasÄ±z salt okunur HTTP baÄŸlantÄ± noktasÄ±: podlar, Ã§alÄ±ÅŸan podlar ve dÃ¼ÄŸÃ¼m durumu |
| 10256/TCP       | kube-proxy     | Kube Proxy saÄŸlÄ±k kontrol sunucusu                                         |
| 9099/TCP        | calico-felix   | Calico iÃ§in saÄŸlÄ±k kontrol sunucusu                                         |
| 6782-4/TCP      | weave          | Metrikler ve uÃ§ noktalar                                                  |
| 30000-32767/TCP | NodePort       | Hizmetlere proxy yapar                                                  |
| 44134/TCP       | Tiller         | Helm hizmeti dinleme                                                 |

### Nmap

{% code overflow="wrap" %}
```bash
nmap -n -T4 -p 443,2379,6666,4194,6443,8443,8080,10250,10255,10256,9099,6782-6784,30000-32767,44134 <pod_ipaddress>/16
```
{% endcode %}

### Kube-apiserver

Bu, genellikle **`kubectl`** aracÄ±nÄ± kullanarak yÃ¶neticilerin iletiÅŸim kurduÄŸu **API Kubernetes hizmetidir**.

**YaygÄ±n portlar: 6443 ve 443**, ancak minikube'da 8443 ve gÃ¼vensiz olarak 8080 de kullanÄ±lÄ±r.
```
curl -k https://<IP Address>:(8|6)443/swaggerapi
curl -k https://<IP Address>:(8|6)443/healthz
curl -k https://<IP Address>:(8|6)443/api/v1
```
**Bu hizmetin hassas verilere eriÅŸmek ve hassas iÅŸlemleri gerÃ§ekleÅŸtirmek iÃ§in nasÄ±l kullanÄ±ldÄ±ÄŸÄ±nÄ± Ã¶ÄŸrenmek iÃ§in aÅŸaÄŸÄ±daki sayfayÄ± kontrol edin:**

{% content-ref url="kubernetes-enumeration.md" %}
[kubernetes-enumeration.md](kubernetes-enumeration.md)
{% endcontent-ref %}

### Kubelet API

Bu hizmet, **kÃ¼menin her dÃ¼ÄŸÃ¼mÃ¼nde Ã§alÄ±ÅŸÄ±r**. Bu, **dÃ¼ÄŸÃ¼m** iÃ§indeki podlarÄ± **kontrol eden** hizmettir. **kube-apiserver** ile iletiÅŸim kurar.

Bu hizmetin aÃ§Ä±ÄŸa Ã§Ä±ktÄ±ÄŸÄ±nÄ± bulursanÄ±z, **kimlik doÄŸrulamasÄ± yapÄ±lmamÄ±ÅŸ RCE** bulmuÅŸ olabilirsiniz.

#### Kubelet API
```
curl -k https://<IP address>:10250/metrics
curl -k https://<IP address>:10250/pods
```
EÄŸer yanÄ±t `Unauthorized` ise kimlik doÄŸrulama gerektirir.

EÄŸer dÃ¼ÄŸÃ¼mleri listeleyebiliyorsanÄ±z, kubelet uÃ§ noktalarÄ±nÄ±n bir listesini alabilirsiniz:
```bash
kubectl get nodes -o custom-columns='IP:.status.addresses[0].address,KUBELET_PORT:.status.daemonEndpoints.kubeletEndpoint.Port' | grep -v KUBELET_PORT | while IFS='' read -r node; do
ip=$(echo $node | awk '{print $1}')
port=$(echo $node | awk '{print $2}')
echo "curl -k --max-time 30 https://$ip:$port/pods"
echo "curl -k --max-time 30 https://$ip:2379/version" #Check  also for etcd
done
```
#### kubelet (Sadece Okuma)

Kubelet, Kubernetes dÃ¼ÄŸÃ¼mlerinde Ã§alÄ±ÅŸan bir bileÅŸendir. Kubelet, Kubernetes API'sine kaydolur ve Kubernetes kontrol dÃ¼zlemi tarafÄ±ndan verilen talimatlarÄ± uygular. Kubelet, dÃ¼ÄŸÃ¼mde Ã§alÄ±ÅŸan pod'larÄ± yÃ¶netir ve pod'larÄ±n durumunu izler.

Kubelet, dÃ¼ÄŸÃ¼mdeki pod'larÄ±n durumunu ve kaynak kullanÄ±mÄ±nÄ± izlemek iÃ§in Ã§eÅŸitli API'leri saÄŸlar. Bu API'ler aracÄ±lÄ±ÄŸÄ±yla, kubelet, pod'larÄ±n Ã§alÄ±ÅŸma zamanÄ± bilgilerine eriÅŸebilir ve bu bilgileri Kubernetes API'sine rapor edebilir.

Kubelet, pod'larÄ±n Ã§alÄ±ÅŸma zamanÄ± bilgilerini /stats/summary ve /stats/container gibi API rotalarÄ± aracÄ±lÄ±ÄŸÄ±yla sunar. Bu API rotalarÄ±, pod'larÄ±n CPU kullanÄ±mÄ±, bellek kullanÄ±mÄ±, aÄŸ istatistikleri ve diÄŸer performans metriklerini iÃ§erir.

Kubelet, sadece okuma izinlerine sahip olduÄŸu iÃ§in, bu API rotalarÄ± aracÄ±lÄ±ÄŸÄ±yla sadece pod'larÄ±n durumunu ve kaynak kullanÄ±mÄ±nÄ± izleyebilir. Kubelet, pod'larÄ±n yapÄ±landÄ±rmasÄ±nÄ± veya diÄŸer Kubernetes bileÅŸenlerini deÄŸiÅŸtiremez.

Bu nedenle, bir saldÄ±rganÄ±n kubelet Ã¼zerinde sadece okuma izinleri olduÄŸunda, pod'larÄ±n durumunu ve kaynak kullanÄ±mÄ±nÄ± izlemek dÄ±ÅŸÄ±nda herhangi bir etkileÅŸimde bulunmasÄ± mÃ¼mkÃ¼n deÄŸildir.
```
curl -k https://<IP Address>:10255
http://<external-IP>:10255/pods
```
### etcd API

etcd, Kubernetes'in altÄ±nda Ã§alÄ±ÅŸan bir veritabanÄ±dÄ±r ve Kubernetes kÃ¼mesinin durumunu ve yapÄ±landÄ±rmasÄ±nÄ± depolar. etcd API, etcd sunucusuna eriÅŸmek iÃ§in kullanÄ±lan bir RESTful API'dir. Bu API, etcd veritabanÄ±na eriÅŸmek, veri okumak, yazmak, gÃ¼ncellemek ve silmek iÃ§in kullanÄ±labilir.

#### API YapÄ±sÄ±

etcd API, HTTP Ã¼zerinden Ã§alÄ±ÅŸÄ±r ve JSON formatÄ±nda veri alÄ±ÅŸveriÅŸi yapar. API, Ã§eÅŸitli istekler ve yanÄ±tlar kullanarak etcd veritabanÄ±yla etkileÅŸime geÃ§er.

#### API Ä°stekleri

etcd API'si, aÅŸaÄŸÄ±daki temel istek tÃ¼rlerini destekler:

- **GET**: Belirli bir anahtarÄ±n deÄŸerini almak iÃ§in kullanÄ±lÄ±r.
- **PUT**: Bir anahtarÄ±n deÄŸerini ayarlamak veya gÃ¼ncellemek iÃ§in kullanÄ±lÄ±r.
- **DELETE**: Bir anahtarÄ± ve deÄŸerini silmek iÃ§in kullanÄ±lÄ±r.
- **WATCH**: Belirli bir anahtarÄ±n deÄŸiÅŸikliklerini izlemek iÃ§in kullanÄ±lÄ±r.
- **RANGE**: Belirli bir aralÄ±ktaki anahtarlarÄ± listelemek iÃ§in kullanÄ±lÄ±r.

#### API YanÄ±tlarÄ±

etcd API'si, aÅŸaÄŸÄ±daki temel yanÄ±t tÃ¼rlerini dÃ¶ndÃ¼rebilir:

- **GET**: Belirli bir anahtarÄ±n deÄŸerini dÃ¶ndÃ¼rÃ¼r.
- **PUT**: Ä°ÅŸlem baÅŸarÄ±lÄ±ysa "OK" yanÄ±tÄ±nÄ± dÃ¶ndÃ¼rÃ¼r.
- **DELETE**: Ä°ÅŸlem baÅŸarÄ±lÄ±ysa "OK" yanÄ±tÄ±nÄ± dÃ¶ndÃ¼rÃ¼r.
- **WATCH**: AnahtarÄ±n deÄŸiÅŸtiÄŸi zaman bir yanÄ±t dÃ¶ndÃ¼rÃ¼r.
- **RANGE**: Belirli bir aralÄ±ktaki anahtarlarÄ± ve deÄŸerlerini dÃ¶ndÃ¼rÃ¼r.

#### API GÃ¼venliÄŸi

etcd API'si, kimlik doÄŸrulama ve yetkilendirme iÃ§in TLS (Transport Layer Security) kullanÄ±r. API'ye eriÅŸmek iÃ§in doÄŸru kimlik bilgilerine sahip olmanÄ±z gerekir. AyrÄ±ca, API'ye eriÅŸimi sÄ±nÄ±rlamak iÃ§in aÄŸ dÃ¼zeyinde gÃ¼venlik Ã¶nlemleri almanÄ±z da Ã¶nemlidir.

#### API KullanÄ±mÄ±

etcd API'sini kullanarak, etcd veritabanÄ±na eriÅŸebilir, veri okuyabilir, yazabilir, gÃ¼ncelleyebilir ve silebilirsiniz. API'yi kullanarak Kubernetes kÃ¼mesinin durumunu ve yapÄ±landÄ±rmasÄ±nÄ± etkileyebilirsiniz. Ancak, bu iÅŸlemleri gerÃ§ekleÅŸtirirken dikkatli olmalÄ± ve gerektiÄŸinde geri alÄ±nabilirlik Ã¶nlemleri almalÄ±sÄ±nÄ±z.

#### API HatalarÄ±

etcd API'si, hatalarÄ± belirtmek iÃ§in HTTP durum kodlarÄ±nÄ± kullanÄ±r. BaÅŸarÄ±lÄ± bir istek durumunda 200 OK dÃ¶nerken, hatalÄ± bir istek durumunda farklÄ± hata kodlarÄ± dÃ¶nebilir. Hata kodlarÄ±, sorunun doÄŸasÄ±nÄ± belirtir ve sorunu Ã§Ã¶zmek iÃ§in izlenecek adÄ±mlarÄ± belirlemek iÃ§in kullanÄ±labilir.
```
curl -k https://<IP address>:2379
curl -k https://<IP address>:2379/version
etcdctl --endpoints=http://<MASTER-IP>:2379 get / --prefix --keys-only
```
### Tiller

Tiller, Kubernetes'in sÃ¼rÃ¼m 2.x ve Ã¶ncesi sÃ¼rÃ¼mlerinde kullanÄ±lan bir bileÅŸendir. Tiller, Kubernetes cluster'Ä±nda Ã§alÄ±ÅŸan bir serverdÄ±r ve Helm aracÄ±lÄ±ÄŸÄ±yla Kubernetes kaynaklarÄ±nÄ± yÃ¶netir. Tiller, Kubernetes API'sine eriÅŸim saÄŸlar ve Helm komutlarÄ±nÄ± Ã§alÄ±ÅŸtÄ±rÄ±r.

Tiller, gÃ¼venlik aÃ§Ä±klarÄ±na neden olabilecek birÃ§ok risk taÅŸÄ±r. Ã–rneÄŸin, varsayÄ±lan olarak, Tiller, tÃ¼m namespace'lere eriÅŸim izni verir ve bu da yetkisiz eriÅŸimlere yol aÃ§abilir. AyrÄ±ca, Tiller, Kubernetes API'sine tam eriÅŸim saÄŸladÄ±ÄŸÄ±ndan, kÃ¶tÃ¼ niyetli bir saldÄ±rganÄ±n tÃ¼m cluster kaynaklarÄ±nÄ± etkileme potansiyeli vardÄ±r.

Tiller'Ä±n gÃ¼venliÄŸini saÄŸlamak iÃ§in aÅŸaÄŸÄ±daki adÄ±mlarÄ± izleyebilirsiniz:

1. Tiller'Ä± devre dÄ±ÅŸÄ± bÄ±rakÄ±n veya kaldÄ±rÄ±n: Tiller'Ä± kullanmÄ±yorsanÄ±z, onu devre dÄ±ÅŸÄ± bÄ±rakmanÄ±z veya kaldÄ±rmanÄ±z en gÃ¼venli seÃ§enektir.

2. Tiller'Ä± sÄ±nÄ±rlÄ± bir hizmet hesabÄ±yla Ã§alÄ±ÅŸtÄ±rÄ±n: Tiller'Ä± sÄ±nÄ±rlÄ± bir hizmet hesabÄ±yla Ã§alÄ±ÅŸtÄ±rmak, saldÄ±rganlarÄ±n Tiller Ã¼zerindeki yetkilerini sÄ±nÄ±rlar.

3. Tiller'Ä± namespace'e sÄ±nÄ±rlayÄ±n: Tiller'Ä± yalnÄ±zca belirli bir namespace ile sÄ±nÄ±rlamak, yetkisiz eriÅŸimleri Ã¶nler.

4. Tiller'Ä± gÃ¼ncel tutun: Tiller'Ä±n gÃ¼ncel sÃ¼rÃ¼mÃ¼nÃ¼ kullanmak, gÃ¼venlik aÃ§Ä±klarÄ±nÄ±n en aza indirilmesine yardÄ±mcÄ± olur.

5. Tiller'Ä± aÄŸ trafiÄŸinden izole edin: Tiller'Ä± aÄŸ trafiÄŸinden izole etmek, saldÄ±rganlarÄ±n Tiller Ã¼zerindeki etkisini sÄ±nÄ±rlar.

Tiller'Ä±n gÃ¼venliÄŸi, Kubernetes cluster'Ä±nÄ±zÄ±n gÃ¼venliÄŸi iÃ§in Ã¶nemlidir. Bu adÄ±mlarÄ± izleyerek Tiller'Ä±n gÃ¼venliÄŸini artÄ±rabilir ve potansiyel saldÄ±rÄ±lardan korunabilirsiniz.
```
helm --host tiller-deploy.kube-system:44134 version
```
Bu hizmeti kullanarak Kubernetes iÃ§inde ayrÄ±calÄ±klarÄ± yÃ¼kseltebilirsiniz:

### cAdvisor

Metrikleri toplamak iÃ§in kullanÄ±ÅŸlÄ± bir hizmet.
```
curl -k https://<IP Address>:4194
```
### NodePort

Bir baÄŸlantÄ± noktasÄ±, tÃ¼m dÃ¼ÄŸÃ¼mlerde bir **NodePort** aracÄ±lÄ±ÄŸÄ±yla aÃ§Ä±ldÄ±ÄŸÄ±nda, aynÄ± baÄŸlantÄ± noktasÄ± tÃ¼m dÃ¼ÄŸÃ¼mlerde aÃ§Ä±lÄ±r ve trafiÄŸi belirtilen **Servis**e yÃ¶nlendirir. VarsayÄ±lan olarak, bu baÄŸlantÄ± noktasÄ± **30000-32767** aralÄ±ÄŸÄ±ndadÄ±r. Bu nedenle, kontrol edilmemiÅŸ yeni servislere bu baÄŸlantÄ± noktalarÄ± Ã¼zerinden eriÅŸilebilir.
```
sudo nmap -sS -p 30000-32767 <IP>
```
## ZayÄ±f YapÄ±landÄ±rmalar

### Kube-apiserver Anonim EriÅŸim

**kube-apiserver API uÃ§ noktalarÄ±na anonim eriÅŸim izin verilmez**. Ancak bazÄ± uÃ§ noktalarÄ± kontrol edebilirsiniz:

![](https://www.cyberark.com/wp-content/uploads/2019/09/Kube-Pen-2-fig-5.png)

### ETCD Anonim EriÅŸim KontrolÃ¼

ETCD, kÃ¼me sÄ±rlarÄ±nÄ±, yapÄ±landÄ±rma dosyalarÄ±nÄ± ve daha fazla **hassas veriyi** depolar. **VarsayÄ±lan olarak**, ETCD **anonim olarak** eriÅŸilemez, ancak her zaman kontrol etmek iyidir.

ETCD anonim olarak eriÅŸilebilirse, [etcdctl](https://github.com/etcd-io/etcd/blob/master/etcdctl/READMEv2.md) **araÃ§**Ä±nÄ± kullanmanÄ±z gerekebilir. AÅŸaÄŸÄ±daki komut, depolanan tÃ¼m anahtarlarÄ± alacaktÄ±r:
```
etcdctl --endpoints=http://<MASTER-IP>:2379 get / --prefix --keys-only
```
### **Kubelet RCE**

[**Kubelet belgeleri**](https://kubernetes.io/docs/reference/command-line-tools-reference/kubelet/) varsayÄ±lan olarak servise **anonim eriÅŸime izin verdiÄŸini** aÃ§Ä±klar:

> Kubelet sunucusuna anonim istekleri etkinleÅŸtirir. BaÅŸka bir kimlik doÄŸrulama yÃ¶ntemi tarafÄ±ndan reddedilmeyen istekler anonim istekler olarak kabul edilir. Anonim isteklerin kullanÄ±cÄ± adÄ± `system:anonymous` ve grup adÄ± `system:unauthenticated` olarak belirlenir.

**Kubelet API'sinin kimlik doÄŸrulama ve yetkilendirme** nasÄ±l Ã§alÄ±ÅŸtÄ±ÄŸÄ±nÄ± daha iyi anlamak iÃ§in bu sayfaya bakÄ±n:

{% content-ref url="../kubernetes-pentesting/pentesting-kubernetes-services/kubelet-authentication-and-authorization.md" %}
[kubelet-authentication-and-authorization.md](../kubernetes-pentesting/pentesting-kubernetes-services/kubelet-authentication-and-authorization.md)
{% endcontent-ref %}

**Kubelet** servisinin **API'si belgelenmemiÅŸtir**, ancak kaynak kodu burada bulunabilir ve aÃ§Ä±ÄŸa Ã§Ä±kan uÃ§ noktalarÄ± bulmak **Ã§alÄ±ÅŸtÄ±rmak kadar kolaydÄ±r**:
```bash
curl -s https://raw.githubusercontent.com/kubernetes/kubernetes/master/pkg/kubelet/server/server.go | grep 'Path("/'

Path("/pods").
Path("/run")
Path("/exec")
Path("/attach")
Path("/portForward")
Path("/containerLogs")
Path("/runningpods/").
```
Hepsinin hepsi ilginÃ§ gÃ¶rÃ¼nÃ¼yor.

Kubeletlerle ve uÃ§ noktalarÄ±yla etkileÅŸimde bulunmak iÃ§in [**Kubeletctl**](https://github.com/cyberark/kubeletctl) aracÄ±nÄ± kullanabilirsiniz.

#### /pods

Bu uÃ§ nokta, pod'larÄ± ve iÃ§erdikleri konteynerleri listeler:
```bash
kubeletctl pods
```
#### /exec

Bu uÃ§ nokta, herhangi bir konteyner iÃ§inde kodu Ã§ok kolay bir ÅŸekilde Ã§alÄ±ÅŸtÄ±rmaya olanak saÄŸlar:
```bash
kubeletctl exec [command]
```
{% hint style="info" %}
Bu saldÄ±rÄ±yÄ± Ã¶nlemek iÃ§in _**kubelet**_ servisi `--anonymous-auth false` ile Ã§alÄ±ÅŸtÄ±rÄ±lmalÄ± ve servis aÄŸ dÃ¼zeyinde ayrÄ±ÅŸtÄ±rÄ±lmalÄ±dÄ±r.
{% endhint %}

### **Kubelet (Sadece Okunabilir Port) Bilgi SÄ±zdÄ±rma KontrolÃ¼**

Bir **kubelet sadece okunabilir port** aÃ§Ä±k olduÄŸunda, yetkisiz kiÅŸiler tarafÄ±ndan API'den bilgi alÄ±nmasÄ± mÃ¼mkÃ¼n hale gelir. Bu portun aÃ§Ä±ÄŸa Ã§Ä±kmasÄ±, Ã§eÅŸitli **kÃ¼me yapÄ±landÄ±rma unsurlarÄ±nÄ±n** ifÅŸa edilmesine yol aÃ§abilir. Bilgiler, **kapsÃ¼l adlarÄ±, iÃ§ dosyalarÄ±n konumu ve diÄŸer yapÄ±landÄ±rmalar** gibi kritik olmayabilir, ancak ifÅŸa edilmesi hala bir gÃ¼venlik riski oluÅŸturur ve kaÃ§Ä±nÄ±lmalÄ±dÄ±r.

Bu zafiyetin nasÄ±l istismar edilebileceÄŸine dair bir Ã¶rnek, uzaktan bir saldÄ±rganÄ±n belirli bir URL'ye eriÅŸmesini iÃ§erir. SaldÄ±rgan, `http://<external-IP>:10255/pods` adresine giderek kubeletten hassas bilgileri alabilir:

![https://www.cyberark.com/wp-content/uploads/2019/09/KUbe-Pen-2-fig-6.png](https://www.cyberark.com/wp-content/uploads/2019/09/KUbe-Pen-2-fig-6.png)

## Referanslar

{% embed url="https://www.cyberark.com/resources/threat-research-blog/kubernetes-pentest-methodology-part-2" %}

{% embed url="https://labs.f-secure.com/blog/attacking-kubernetes-through-kubelet" %}

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>ile sÄ±fÄ±rdan kahraman olacak ÅŸekilde AWS hackleme Ã¶ÄŸrenin</strong></a><strong>!</strong></summary>

HackTricks'i desteklemenin diÄŸer yollarÄ±:

* Åirketinizi HackTricks'te **reklamÄ±nÄ±zÄ± yapmak veya HackTricks'i PDF olarak indirmek** iÃ§in [**ABONELÄ°K PLANLARINI**](https://github.com/sponsors/carlospolop) kontrol edin!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* Ã–zel [**NFT'lerden**](https://opensea.io/collection/the-peass-family) oluÅŸan koleksiyonumuz olan [**The PEASS Family**](https://opensea.io/collection/the-peass-family)'yi keÅŸfedin
* ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katÄ±lÄ±n** veya **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/carlospolopm)'u **takip edin**.
* **Hacking hilelerinizi** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna **PR gÃ¶ndererek** paylaÅŸÄ±n.

</details>
